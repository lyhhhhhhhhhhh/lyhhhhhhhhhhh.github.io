<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
    a tour of go |  ğŸ‹èˆªçˆ±coding
  </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  
<link rel="stylesheet" href="/css/style.css">

  
<script src="/js/pace.min.js"></script>


  

  

<link rel="alternate" href="/atom.xml" title="ğŸ‹èˆªçˆ±coding" type="application/atom+xml">
</head>

</html>

<body>
  <div id="app">
    <main class="content">
      <section class="outer">
  <article id="post-a-tour-of-go" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  a tour of go
</h1>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/02/05/a-tour-of-go/" class="article-date">
  <time datetime="2020-02-05T11:52:46.000Z" itemprop="datePublished">2020-02-05</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/coding/">coding</a>
  </div>

      
      
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> å­—æ•°ç»Ÿè®¡:</span>
            <span class="post-count">4.9kå­—</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> é˜…è¯»æ—¶é•¿â‰ˆ</span>
            <span class="post-count">20åˆ†é’Ÿ</span>
        </span>
    </span>
</div>

      
    </div>
    

    
    
    <div class="tocbot"></div>





    

    
    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>Notes about a tour of go.</p>
<a id="more"></a>

<h2 id="åŒ…"><a href="#åŒ…" class="headerlink" title="åŒ…"></a>åŒ…</h2><p>æ¯ä¸ªGoç¨‹åºéƒ½æ˜¯ç”±åŒ…ç»„æˆçš„ï¼Œç¨‹åºä»mainåŒ…å¼€å§‹ã€‚</p>
<p>æ‰€ä»¥æ¯ä¸ªåŒ…ä¸­çš„æœ€å¼€å§‹ä¸€ä¸ªè¯­å¥éƒ½åº”è¯¥æ˜¯package xxxã€‚</p>
<p>ä¸‹é¢çš„ç¨‹åºå¯¼å…¥äº†â€œfmtâ€å’Œâ€œmath/randâ€ä¸¤ä¸ªåŒ…ï¼ŒæŒ‰ç…§çº¦å®šï¼ŒåŒ…ååº”å½“ä¸å¯¼å…¥è·¯å¾„çš„æœ€åä¸€ä¸ªå…ƒç´ ä¸€è‡´</p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
    &quot;math/rand&quot;
)

func main() {
    fmt.Println(&quot;a num&quot;,rand.Intn(10))
}
</code></pre>
<p>ä»£ç ä¸­ä½¿ç”¨çš„å¯¼å…¥æ˜¯åˆ†ç»„è¿›è¡Œçš„ï¼Œä¹Ÿå¯ä»¥ä¸€ä¸ªä¸€ä¸ªå¯¼å…¥ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒrandåŒ…ä¸­çš„æ–¹æ³•Intnæ˜¯ä»¥Iå¼€å¤´ï¼Œgoä¸­çº¦å®šä»¥å¤§å†™å­—æ¯å¼€å¤´çš„æ˜¯å·²ç»å¯¼å‡ºçš„ï¼Œ<strong>åœ¨å¯¼å…¥ä¸€ä¸ªåŒ…æ—¶ï¼Œåªå¯ä»¥ä½¿ç”¨å·²ç»å¯¼å‡ºçš„åå­—</strong>ï¼Œæœªå¯¼å‡ºçš„åå­—ä¸å¯ä»¥åœ¨è¯¥åŒ…å¤–è®¿é—®</p>
<blockquote>
<p>è¿™åº”è¯¥ç±»ä¼¼goä¸­çš„ä¸€ç§å°è£…</p>
</blockquote>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>å‡½æ•°å¯ä»¥æ²¡æœ‰å‚æ•°ï¼ˆå¦‚mainå‡½æ•°ï¼‰æˆ–è€…æœ‰å¤šä¸ªå‚æ•°</p>
<pre><code class="go">package main
import &quot;fmt&quot;
func add(x int, y int) int {
    return x + y
}

func main() {
    fmt.Println(add(42, 13))
}
</code></pre>
<blockquote>
<p>å…¶å‡½æ•°çš„å£°æ˜å½¢å¼ä¹Ÿå’Œrustæœ‰äº›ç±»ä¼¼ï¼Œé¦–å…ˆå°±æ˜¯ç±»å‹æ”¾åœ¨åé¢ï¼Œè¿”å›å€¼çš„å½¢å¼ä¹Ÿå¾ˆç±»ä¼¼</p>
</blockquote>
<p>å¦‚æœå¤šä¸ªå½¢å‚çš„ç±»å‹ç›¸åŒï¼Œå¯ä»¥åªå†™æœ€åä¸€ä¸ªã€‚</p>
<p>å‡½æ•°å¯ä»¥è¿”å›<strong>ä»»æ„æ•°é‡</strong>çš„è¿”å›å€¼ã€‚</p>
<pre><code class="go">package main
import &quot;fmt&quot;

func swap(x, y string) (string, string ) {
    return y, x
}

func main() {
    a,b := swap(&quot;hello&quot;,&quot;world&quot;)
    fmt.Println(a, b)
}</code></pre>
<p>goçš„è¿”å›å€¼å¯ä»¥å‘½åï¼Œä¼šè¢«<em>è§†ä½œå®šä¹‰åœ¨å‡½æ•°é¡¶éƒ¨çš„å˜é‡</em>ï¼Œæ²¡æœ‰å‚æ•°çš„returnä¼šè¿”å›å·²ç»å‘½åçš„è¿”å›å€¼</p>
<blockquote>
<p>è¿”å›å€¼çš„å‘½ååº”å½“æœ‰æ„ä¹‰ï¼Œå› ä¸ºå¯ä»¥ä½œä¸ºæ–‡æ¡£ç”Ÿæˆã€‚ç›´æ¥è¿”å›æ–¹å¼ä¹Ÿåº”å½“è¿ç”¨åœ¨çŸ­å‡½æ•°ä¸­ä»¥é˜²å½±å“å¯è¯»æ€§</p>
</blockquote>
<pre><code class="go">func split(sum int) (x, y int) {
    x = sum * 4 / 9
    y = sum -x
    return
}</code></pre>
<h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><p>varè¯­å¥ç”¨äºå£°æ˜ä¸€ä¸ªå˜é‡åˆ—è¡¨ï¼Œå’Œå‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¸€æ ·ï¼Œç±»å‹åœ¨æœ€åã€‚<br>varè¯­å¥å¯ä»¥é™¤åƒåœ¨åŒ…æˆ–è€…å‡½æ•°çº§åˆ«ã€‚<br>å˜é‡å£°æ˜å¯ä»¥åŒ…å«åˆå§‹å€¼ï¼Œå¦‚æœåˆå§‹åŒ–å€¼å·²ç»å­˜åœ¨ï¼Œå¯ä»¥å¿½ç•¥ç±»å‹ï¼Œè¿™ç‚¹å’Œrustä¸€è‡´</p>
<p><strong>å‡½æ•°ä¸­</strong>ï¼Œç®€æ˜çš„èµ‹å€¼è¯­å¥ï¼š=å¯ä»¥åœ¨<strong>ç±»å‹æ˜ç¡®</strong>çš„åœ°æ–¹æ›¿ä»£var</p>
<p><strong>å‡½æ•°å¤–çš„æ¯ä¸ªè¯­å¥éƒ½å¿…é¡»ä»¥å…³é”®å­—å¼€å§‹</strong>ï¼Œå› æ­¤ï¼š=ä¸å¯ä»¥åœ¨å‡½æ•°å¤–ä½¿ç”¨</p>
<p>goçš„åŸºæœ¬ç±»å‹å’Œå¤§å¤šæ•°è¯­è¨€ä¸€è‡´ï¼Œé™¤äº†å¤æ•°complexï¼Œé™¤æ­¤ä¹‹å¤–å˜é‡å£°æ˜ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ†ç»„æˆä¸€ä¸ªè¯­æ³•å—</p>
<pre><code class="go">import &quot;math/cmplx&quot;

var (
    Tobe bool = false
    MaxInt uint64 = 1&lt;&lt;64 - 1
    z complex128 = cmplx.Sqrt(-5 + 2i)
)</code></pre>
<p>æ²¡æœ‰å£°æ˜åˆå§‹å€¼çš„å˜é‡ä¼šè¢«è‡ªåŠ¨èµ‹ä¸ºé›¶å€¼ï¼Œæ•°å€¼ç±»å‹ä¸º0ï¼Œå¸ƒå°”ç±»å‹ä¸ºfalseï¼Œå­—ç¬¦ä¸²ä¸ºç©ºå­—ç¬¦ä¸²</p>
<p><strong>ç±»å‹è½¬æ¢</strong>ï¼šè¡¨è¾¾å¼Tï¼ˆvï¼‰å°†å€¼vè½¬æ¢ä¸ºç±»å‹T<br>ä¸Cè¯­è¨€ä¸åŒï¼ŒGoåœ¨ä¸åŒç±»å‹ä¹‹é—´èµ‹å€¼å¿…é¡»è¿›è¡Œæ˜¾å¼çš„ç±»å‹è½¬æ¢ã€‚</p>
<p>åŒrustä¸€æ ·ï¼Œåœ¨æœªç”Ÿå‘½ç±»å‹æ—¶goä¼šè¿›è¡Œå¯¹å˜é‡çš„ç±»å‹æ¨å¯¼</p>
<p>ç®€æ˜çš„å£°æ˜æ–¹å¼ä¸å¯ä»¥æŒ‡å®šå˜é‡çš„ç±»å‹ã€‚</p>
<p>å¸¸é‡çš„å£°æ˜ä¸å˜é‡ç±»ä¼¼ï¼Œåªæ˜¯varè¯­å¥æ¢æˆconstï¼Œè€Œä¸”ä¸å¯ä»¥ä½¿ç”¨ï¼š=<br>ä¸€ä¸ªæœªæŒ‡å®šç±»å‹çš„å¸¸é‡ç”±ä¸Šä¸‹æ–‡æ¥å†³å®šå…¶ç±»å‹ã€‚</p>
<h2 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h2><p>Goåªæœ‰ä¸€ç§å¾ªç¯ç»“æ„<strong>forå¾ªç¯</strong></p>
<pre><code class="go">for i := 0; i &lt; 10 ; i++ {
    sum +=i
}</code></pre>
<p>å’Œå…¶ä»–è¯­è¨€å¯èƒ½æœ‰æ‰€ä¸åŒï¼Œgoçš„å¾ªç¯åˆå§‹åŒ–ã€æ¡ä»¶ä»¥åŠåç½®çš„æ›´æ–°è¯­å¥å¯ä»¥ä¸å¸¦æ‹¬å·ï¼Œä½†æ˜¯åé¢çš„èŠ±æ‹¬å·æ˜¯å¿…é¡»çš„ã€‚</p>
<blockquote>
<p>åˆå§‹åŒ–å’Œåç½®è¯­å¥æ˜¯å¯é€‰çš„</p>
</blockquote>
<pre><code class="go">for ; sum &lt; 1000 ; {
    sum += sum
}</code></pre>
<p>ä¸Šè¿°çš„ç»“æ„ä¸­ä¹Ÿå¯ä»¥æŠŠæ‹¬å·å»æ‰ï¼Œå› ä¸ºåœ¨goä¸­ï¼Œwhileå«åšforã€‚çœç•¥å¾ªç¯æ¡ä»¶å¯ä»¥å®ç°æ— é™å¾ªç¯ã€‚</p>
<p>ifè¯­å¥å’Œrustä¸­çš„ä¹Ÿä¸€è‡´ï¼Œå³æ— éœ€å°æ‹¬å·å¤§æ‹¬å·æ˜¯å¿…é¡»çš„ã€‚<br>åŒforè¯­è¨€ä¸€æ ·ï¼Œifè¯­å¥å¯ä»¥åœ¨æ¡ä»¶è¡¨è¾¾å¼ä¹‹å‰æ‰§è¡Œä¸€ä¸ªç®€å•çš„è¯­å¥ï¼Œå˜é‡çš„ä½œç”¨åŸŸæ˜¯ifä¹‹å†…</p>
<pre><code class="go">if v := math.Pow(x, n); v &lt; lim {
    return v
}</code></pre>
<h3 id="swich-case"><a href="#swich-case" class="headerlink" title="swich-case"></a>swich-case</h3><p>å¯¹äºGoè€Œè¨€switchè¯­å¥æ•´ä½“å’Œcç›¸ä¼¼ï¼Œä¸è¿‡Goåªè¿è¡Œç‰¹å®šçš„caseè€Œä¸æ˜¯ä¹‹åæ‰€æœ‰çš„caseï¼Œé™¤éä»¥fallthroughè¯­å¥ç»“æŸï¼Œå¦åˆ™åˆ†æ”¯ä¼šè‡ªåŠ¨åœæ­¢ã€‚</p>
<p>Goçš„å¦ä¸€ä¸ªé‡ç‚¹åœ¨äºswithçš„caceæ— éœ€ä¸ºå¸¸æ•°è€Œä¸”ä¹Ÿä¸å¿…è¦å–å€¼ä¸ºæ•´æ•°ã€‚</p>
<pre><code class="go">import {
    &quot;fmt&quot;
    &quot;runtime&quot;
}

func main() {
    fmt.Print(:&quot;Go runs on &quot;)
    switch os := runtime.GOOS; os {
        case &quot;darwin&quot;:
            fmt.Println(&quot;macOs&quot;)
        case &quot;linux&quot;:
            fmt.Println(&quot;Linux&quot;)
        default:
            fmt.Println(&quot;%s\n&quot;, os)
    }
}
</code></pre>
<p>switchè¯­å¥æ±‚å€¼é¡ºåºä¸ºä»ä¸Šåˆ°ä¸‹ï¼Œæ²¡æœ‰æ¡ä»¶çš„switchè¯­å¥å’Œswitch trueä¸€æ ·ï¼Œè¿™æ ·å¯ä»¥æŠŠif-elseè¯­å¥å†™çš„æ›´åŠ ç¾è§‚ã€‚</p>
<pre><code class="go">import {
    &quot;fmt&quot;
    &quot;time&quot;
}

func main {
    t := time.Now()
    switch {
        case t.Hour() &lt; 12 :
            fmt.Println(&quot;good morning&quot;)
    }
}</code></pre>
<p><strong>defer</strong>: deferè¯­å¥ä¼šå°†å‡½æ•°æ¨è¿Ÿåˆ°å¤–å±‚å‡½æ•°è¿”å›å€¼æ‰§è¡Œï¼Œdeferä¿®é¥°çš„å‡½æ•°çš„å‚æ•°ä¼šç«‹å³æ±‚å€¼ï¼Œä½†æ˜¯çŸ¥é“å¤–å±‚å‡½æ•°è¿”å›æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚</p>
<p>deferä¿®é¥°çš„è¯­å¥ä¼šå‹å…¥ä¸€ä¸ªæ ˆä¸­ï¼Œå…ˆè¿›åå‡ºçš„å½¢å¼è¿›è¡Œè°ƒç”¨</p>
<pre><code class="go">package main

import &quot;fmt&quot;

func main() {
    defer fmt.Println(&quot;world&quot;)

    fmt.Println(&quot;hello&quot;)
}</code></pre>
<h2 id="æŒ‡é’ˆ"><a href="#æŒ‡é’ˆ" class="headerlink" title="æŒ‡é’ˆ"></a>æŒ‡é’ˆ</h2><p>Goè¯­è¨€æ‹¥æœ‰æŒ‡é’ˆï¼ŒæŒ‡é’ˆä¿å­˜äº†å†…å­˜åœ°å€ã€‚</p>
<p>ç±»å‹<em>Tæ˜¯ä¸€ä¸ªæŒ‡å‘ç±»å‹Tçš„æŒ‡é’ˆ,æŒ‡é’ˆçš„é›¶å€¼ä¸ºnil<br>&amp;æ“ä½œç¬¦å¯ä»¥å–æŒ‡é’ˆï¼Œè€Œ</em>æ“ä½œç¬¦å¯ä»¥è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„å€¼ã€‚<br>Goæ²¡æœ‰æŒ‡é’ˆè¿ç®—</p>
<pre><code class="go">var t *int
v := 42
p := &amp;v
*p = 20</code></pre>
<h2 id="ç»“æ„ä½“"><a href="#ç»“æ„ä½“" class="headerlink" title="ç»“æ„ä½“"></a>ç»“æ„ä½“</h2><p>ç»“æ„ä½“ï¼ˆstructï¼‰å°±æ˜¯ä¸€ç»„å­—æ®µï¼ˆfieldï¼‰</p>
<p>ç»“æ„ä½“æœ‰ä¸¤ç§è®¿é—®æ–¹å¼</p>
<ol>
<li>ç‚¹å·è®¿é—®</li>
<li>ç»“æ„ä½“æŒ‡é’ˆè®¿é—®ï¼Œpä¸ºæŒ‡å‘ç»“æ„é¢˜çš„æŒ‡é’ˆï¼Œåˆ™å¯ä»¥ä½¿ç”¨ï¼ˆ*p).xè®¿é—®å…¶ä¸­å…ƒç´ ï¼Œå½“ç„¶è¿™æ ·å†™æœ‰ç‚¹éº»çƒ¦ï¼ŒGoå…è®¸éšå¼çš„é—´æ¥å¼•ç”¨ï¼Œå³p.x</li>
</ol>
<pre><code class="go">type vertex struct {
    x int
    y int
}

func main() {
    fmt.Println(vertex{1, 2})
    v := Vertex{1, 2}
    p := &amp;v
    p.X = 1e9 //goè¯­è¨€å¯ä»¥ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºæ•°
    fmt.Println(v)
}</code></pre>
<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><p>ã€nã€‘Tè¡¨ç¤ºnä¸ªTç±»å‹å…ƒç´ çš„æ•°ç»„ï¼Œå…¶ä¸­æ•°ç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„<br><code>var array [n]int</code></p>
<p>æ¯ä¸ªæ•°ç»„çš„å¤§å°éƒ½æ˜¯å›ºå®šçš„ï¼Œgoæä¾›sliceï¼ˆåˆ‡ç‰‡ï¼‰æ¥å¯¹æ•°ç»„è¿›è¡ŒåŠ¨æ€çš„è®¿é—®ã€‚</p>
<p>[ ]Tè¡¨ç¤ºTç±»å‹çš„åˆ‡ç‰‡ï¼Œåˆ‡ç‰‡éœ€è¦æŒ‡å®šä¸Šä¸‹ç•Œæ¥è·å¾—å¯¹æ•°ç»„çš„ä¸€ä¸ªåŠå¼€åŒºé—´çš„è®¿é—®ï¼Œå®ƒåŒ…æ‹¬ä¸‹ç•Œè€Œä¸åŒ…æ‹¬ä¸Šç•Œ</p>
<pre><code class="go">package main

import &quot;fmt&quot;

func main() {
    array := [6]{2, 3, 5, 7, 11, 13}
    var s []int = array[1:4]
}</code></pre>
<p>åˆ‡ç‰‡å¹¶ä¸å‚¨å­˜ä»»ä½•æ•°æ®ï¼Œä»–å¯ä»¥çœ‹ä½œæ˜¯æ•°ç»„çš„å¼•ç”¨ï¼Œå½“æ”¹å˜åˆ‡ç‰‡çš„å€¼æ—¶ï¼Œåº•å±‚çš„æ•°ç»„å…ƒç´ ä¹Ÿä¼šè¢«æ”¹å˜ã€‚</p>
<p>åˆ‡ç‰‡æ–‡æ³•ç±»ä¼¼äºæ²¡æœ‰å£°æ˜æ•°ç»„é•¿åº¦çš„æ•°ç»„æ–‡æ³•<br><code>[]T {}</code><br>ä¼šåˆ›å»ºä¸€ä¸ªæ•°ç»„ç„¶åæ„å»ºä¸€ä¸ªå®ƒçš„å¼•ç”¨ï¼Œæ­¤æ—¶è¯¥æ•°ç»„æ˜¯åŒ¿åçš„ã€‚</p>
<p>åˆ‡ç‰‡çš„ä¸Šä¸‹ç•Œå…·æœ‰é»˜è®¤å€¼ï¼Œä¸Šç•Œé»˜è®¤ä¸ºæ•°ç»„é•¿åº¦åŠ ä¸€ï¼Œä¸‹ç•Œä¸º0</p>
<pre><code class="go">var a [10]int

a[0:10]
a[0:]
a[:10]
a[:]
//å¯¹äºä¸Šè¿°æ•°ç»„æ¥è¯´ï¼Œè¿™äº›åˆ‡ç‰‡æ˜¯ç›¸åŒçš„</code></pre>
<p>åˆ‡ç‰‡æœ‰é•¿åº¦å’Œå®¹é‡ä¸¤ä¸ªå±æ€§ï¼Œåˆ‡ç‰‡sçš„é•¿åº¦å’Œå®¹é‡å¯ä»¥é€šè¿‡len(s), cap(s)æ¥è®¿é—®<br>å¯¹äºä¸€ä¸ªåˆ‡ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‡æ–°åˆ‡ç‰‡æ¥è·å¾—æ‹“å±•å…¶é•¿åº¦ã€‚</p>
<pre><code class="go">import &quot;fmt&quot;

func main() {
    s := []int{2, 3, 5, 7, 11, 13}
    printSlice(s)

    // æˆªå–åˆ‡ç‰‡ä½¿å…¶é•¿åº¦ä¸º 0
    s = s[:0]
    printSlice(s)

    // æ‹“å±•å…¶é•¿åº¦
    s = s[:4]
    printSlice(s)

    // èˆå¼ƒå‰ä¸¤ä¸ªå€¼
    s = s[2:]
    printSlice(s)
}

func printSlice(s []int) {
    fmt.Printf(&quot;len=%d cap=%d %v\n&quot;, len(s), cap(s), s)
}</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/06/AxK2o.jpg" alt="result"></p>
<p>åˆ‡ç‰‡çš„é›¶å€¼æ˜¯nilï¼Œé›¶å€¼çš„åˆ‡ç‰‡æ²¡æœ‰åº•å±‚æ•°ç»„ä¸”é•¿åº¦å’Œå®¹é‡ä¸º0ã€‚</p>
<p>åˆ‡ç‰‡å¯ä»¥ä½¿ç”¨å†…å»ºå‡½æ•°makeæ¥å®ç°ï¼Œè¿™ä¹Ÿæ˜¯åˆ›å»ºåŠ¨æ€æ•°ç»„çš„æ–¹æ³•ã€‚makeä¼šåˆ›å»ºå‡ºä¸€ä¸ªé›¶å€¼æ•°ç»„ç„¶åè¿”å›å®ƒçš„åˆ‡ç‰‡</p>
<pre><code class="go">var s = make([]int, 5)//len(s)=cap(s)=5

//å¦‚æœéœ€è¦æŒ‡å®šå®¹é‡åˆ™éœ€è¦æŒ‡å®šç¬¬ä¸‰ä¸ªå‚æ•°
var s2 = make([]int, 0, 5)// len(s2)=0, cap(s)=5</code></pre>
<p>åˆ‡ç‰‡å¯ä»¥åŒ…å«ä»»ä½•ç±»å‹ç”šè‡³æ˜¯å…¶ä»–åˆ‡ç‰‡ã€‚</p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
    &quot;strings&quot;
)

func main() {
    // åˆ›å»ºä¸€ä¸ªäº•å­—æ¿ï¼ˆç»å…¸æ¸¸æˆï¼‰
    board := [][]string{
        []string{&quot;_&quot;, &quot;_&quot;, &quot;_&quot;},
        []string{&quot;_&quot;, &quot;_&quot;, &quot;_&quot;},
        []string{&quot;_&quot;, &quot;_&quot;, &quot;_&quot;},
    }

    // ä¸¤ä¸ªç©å®¶è½®æµæ‰“ä¸Š X å’Œ O
    board[0][0] = &quot;X&quot;
    board[2][2] = &quot;O&quot;
    board[1][2] = &quot;X&quot;
    board[1][0] = &quot;O&quot;
    board[0][2] = &quot;X&quot;

    for i := 0; i &lt; len(board); i++ {
        fmt.Printf(&quot;%s\n&quot;, strings.Join(board[i], &quot; &quot;))
    }
}</code></pre>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…å»ºçš„appendæŒ‡ä»¤æ¥ä½¿å…¶åŠ¨æ€å¢é•¿ï¼Œappendçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åˆ‡ç‰‡ï¼Œä¹‹åæ˜¯éœ€è¦æ·»åŠ çš„å…ƒç´ ï¼Œç±»ä¼¼ä¸‹é¢çš„ä½¿ç”¨æ–¹å¼<br><code>s = append(s, 2, 3, 4)</code></p>
<p>forå¾ªç¯çš„rangeå½¢å¼å¯ä»¥éå†åˆ‡ç‰‡æˆ–è€…æ˜ å°„</p>
<pre><code class="go">var pow = []int{0,1,2,3,4,5,6,7}

for i,v := range pow {
    fmt.Println(&quot;value:%d, index:%d&quot;, v, i)
}</code></pre>
<p>rangeæ¯æ¬¡è¿”å›ä¸¤ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªæ˜¯å½“å‰çš„ä¸‹æ ‡ï¼Œç¬¬äºŒä¸ªæ˜¯å¯¹åº”å€¼çš„å‰¯æœ¬ã€‚å¯ä»¥ä½¿ç”¨_æ¥å¿½ç•¥æŸä¸ªè¿”å›å€¼ï¼Œå¦‚æœåªéœ€è¦ç´¢å¼•å¯ä»¥çœç•¥ç¬¬äºŒä¸ªå‚æ•°ã€‚</p>
<pre><code class="go">for i, _ := range pow
for _, v := range pow

for i := range</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/06/AxDff.jpg" alt="interest"></p>
<pre><code class="go">package main

import &quot;golang.org/x/tour/pic&quot;

func Pic(dx, dy int) [][]uint8 {
    var result = make([][]uint8, dy)

    //row := make([]uint8, dx)
    for i := range result {
        row := make([]uint8, dx)
        for j := range row {
        row[j] = uint8((i + j) / 2)
        }
        result[i] = row
    }
    return result
}

func main() {
    pic.Show(Pic)
}</code></pre>
<p>æ³¨æ„è¿™é‡Œæ³¨é‡Šæ‰çš„éƒ¨åˆ†ï¼Œå¦‚æœæ„é€ å†…éƒ¨sliceæ”¾åœ¨å¾ªç¯ä½“å¤–åˆ™ä¼šæ‰€æœ‰çš„resultéƒ½æŒ‡å‘åŒä¸€ä¸ªsliceï¼Œå› ä¸ºgoåœ¨è¿™é‡Œçš„ç­‰å·èµ‹å€¼æ˜¯æµ…æ‹·è´ï¼Œå¦‚æœä½¿ç”¨appendå°±æ˜¯æ·±æ‹·è´äº†ã€‚</p>
<h2 id="æ˜ å°„"><a href="#æ˜ å°„" class="headerlink" title="æ˜ å°„"></a>æ˜ å°„</h2><p>æ˜ å°„å°†é”®ä¸å€¼è¿›è¡Œæ˜ å°„ï¼Œæ˜ å°„çš„é›¶å€¼ä¸ºnilï¼Œnilæ˜ å°„æ—¢æ²¡æœ‰é”®ä¹Ÿä¸èƒ½æ·»åŠ é”®</p>
<p>æ˜ å°„çš„æ–‡æ³•ä¸ç»“æ„ç±»ä¼¼ä¸è¿‡éœ€è¦æœ‰é”®å</p>
<pre><code class="go">type Vertex struct {
    x,y int
}

var m = map[string]Vertex {
    &quot;lala&quot; = Vertex{
        2, 3,
    },
    &quot;didi&quot; = Vertex{
        1, 2,
    },
}</code></pre>
<p>æ³¨æ„å¦‚æœé¡¶çº§ç±»å‹åªæ˜¯ä¸€ä¸ªç±»å‹ååˆ™å¯ä»¥çœç•¥</p>
<p>ä½¿ç”¨makeå¯ä»¥åˆå§‹åŒ–æ˜ å°„ï¼Œç„¶åé€šè¿‡æ“ä½œæ¥ä¸ºæ˜ å°„æ’å…¥æˆ–è€…ä¿®æ”¹å€¼<br><code>m[key] = value</code></p>
<pre><code class="go">var m = make(map[string]int)

m[&quot;hello&quot;]=1 //insert the key-value
m[&quot;hello&quot;]=2 //modify the ke-value

v = m[&quot;hello&quot;] //get the value of the given key

delete(m, &quot;hello&quot;) //delete the key

v, ok = m[&quot;hello&quot;] // find if the key exist, if it exists, the v will be the value ande ok is a true; if not, the v will be the zero of that type and ok is false</code></pre>
<p><strong>å‡½æ•°ä¹Ÿæ˜¯å€¼ï¼Œå¯ä»¥ç”¨ä½œå‚æ•°æˆ–è€…è¿”å›å€¼</strong>ï¼Œè§ä¸‹é¢ç¤ºä¾‹ï¼š</p>
<pre><code class="go">func compute(fn func(float64, float64) float64) float64 {
    return fn(3, 4)
}

hypot := func(x, y float64) float64 {
    return math.Sqrt(x*x + y*y)
}
</code></pre>
<h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><p>goå‡½æ•°å¯ä»¥æ˜¯ä¸€ä¸ªé—­åŒ…ã€‚é—­åŒ…æ˜¯ä¸€ä¸ªå‡½æ•°å€¼ï¼Œå®ƒå¼•ç”¨äº†å…¶å‡½æ•°ä½“ä¹‹å¤–çš„å˜é‡ã€‚ä»–å¯ä»¥è®¿é—®å¹¶èµ‹äºˆå…¶å¯ä»¥å¼•ç”¨çš„å˜é‡çš„å€¼ï¼Œæ¯ä¸ªé—­åŒ…éƒ½ç»‘å®šäº†è‡ªå·±çš„å˜é‡ã€‚</p>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/06/AxEHd.jpg" alt="demo"></p>
<p>ä½¿ç”¨é—­åŒ…å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—</p>
<pre><code class="go">package main

import &quot;fmt&quot;

// è¿”å›ä¸€ä¸ªâ€œè¿”å›intçš„å‡½æ•°â€
func fibonacci() func() int {
    var num  = [2]int{0,1}
    count := 1
    return func() int {
        if count &lt;= 2 {
            count++
            return num[count-2]
            } else {
            count++
            temp := num[1] + num[0]
            num[0] = num[1]
            num[1] = temp
            return temp
        }
    }
}

func main() {
    f := fibonacci()
    for i := 0; i &lt; 10; i++ {
        fmt.Println(f())
    }
}</code></pre>
<h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><p>goä¸­æ²¡æœ‰ç±»ï¼Œä½†æ˜¯å¯ä»¥ä¸ºç»“æ„ä½“å®šä¹‰æ–¹æ³•ã€‚<br>æ–¹æ³•æ˜¯ä¸€ç±»å¸¦æœ‰ç‰¹æ®Šçš„æ¥æ”¶è€…å‚æ•°çš„å‡½æ•°ï¼Œæ¥æ”¶è€…å‚æ•°ä½äºfuncå…³é”®å­—ä¸æ–¹æ³•åä¹‹é—´ã€‚</p>
<pre><code class="go">type Vertex struct {
    x, y int
}

func (v Vertex) Abs() int {
    return v.x + v.y
}</code></pre>
<p>æ–¹æ³•å°±åªæ˜¯ä¸€ä¸ªå¸¦æ¥æ”¶è€…å‚æ•°çš„å‡½æ•°ã€‚</p>
<h3 id="æ¥æ”¶è€…çš„ç±»å‹å®šä¹‰å¿…é¡»å’Œæ–¹æ³•åœ¨åŒä¸€ä¸ªåŒ…å†…ï¼Œä¸èƒ½å¯¹äºå…¶ä»–åŒ…çš„ç±»å‹å®šä¹‰æ–¹æ³•ã€‚ä¸èƒ½ä¸ºå†…å»ºç±»å‹å£°æ˜æ–¹æ³•"><a href="#æ¥æ”¶è€…çš„ç±»å‹å®šä¹‰å¿…é¡»å’Œæ–¹æ³•åœ¨åŒä¸€ä¸ªåŒ…å†…ï¼Œä¸èƒ½å¯¹äºå…¶ä»–åŒ…çš„ç±»å‹å®šä¹‰æ–¹æ³•ã€‚ä¸èƒ½ä¸ºå†…å»ºç±»å‹å£°æ˜æ–¹æ³•" class="headerlink" title="æ¥æ”¶è€…çš„ç±»å‹å®šä¹‰å¿…é¡»å’Œæ–¹æ³•åœ¨åŒä¸€ä¸ªåŒ…å†…ï¼Œä¸èƒ½å¯¹äºå…¶ä»–åŒ…çš„ç±»å‹å®šä¹‰æ–¹æ³•ã€‚ä¸èƒ½ä¸ºå†…å»ºç±»å‹å£°æ˜æ–¹æ³•"></a>æ¥æ”¶è€…çš„ç±»å‹å®šä¹‰å¿…é¡»å’Œæ–¹æ³•åœ¨åŒä¸€ä¸ªåŒ…å†…ï¼Œä¸èƒ½å¯¹äºå…¶ä»–åŒ…çš„ç±»å‹å®šä¹‰æ–¹æ³•ã€‚ä¸èƒ½ä¸ºå†…å»ºç±»å‹å£°æ˜æ–¹æ³•</h3><p>å¯ä»¥ä¸ºæŒ‡é’ˆæ¥æ”¶è€…å®šä¹‰æ–¹æ³•ï¼Œè¿™æ„å‘³ç€æ¥æ”¶è€…çš„ä½ç½®å¯ä»¥ä½¿ç”¨*Tæ–‡æ³•ã€‚</p>
<p>å½“ä½¿ç”¨æŒ‡é’ˆçš„å®šä¹‰æ—¶å¯ä»¥å¯¹äºæ¥æ”¶è€…çš„æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œè€Œå¦‚æœç›´æ¥ä¼ é€’æ¥æ”¶è€…å€¼æ—¶ï¼Œåªèƒ½ä¿®æ”¹å…¶<strong>å‰¯æœ¬</strong>ã€‚<br>è¿™ä¸ªç»“è®ºå¯¹äºå‡½æ•°ä¹Ÿä¸€è‡´ï¼Œä¼ é€’ç±»å‹ä½œä¸ºå‚æ•°æ—¶ï¼Œå¾—åˆ°ä¿®æ”¹çš„å§‹ç»ˆæ˜¯å‰¯æœ¬ï¼Œåªæœ‰æŒ‡é’ˆæ‰èƒ½ä¿®æ”¹ç±»å‹çš„å€¼ã€‚</p>
<p>è€Œä¸”å¦‚æœå‡½æ•°çš„å‚æ•°æ˜¯ç±»å‹æŒ‡é’ˆï¼Œåˆ™åªèƒ½ä½¿ç”¨æŒ‡é’ˆä¼ é€’ã€‚è€Œåœ¨æ–¹æ³•ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å€¼è¿›è¡Œä¼ é€’ï¼Œå€¼åœ¨æ–¹æ³•ä¸­æ—¢å¯ä»¥ä½œä¸ºæŒ‡é’ˆåˆå¯ä»¥ä½œä¸ºå€¼ã€‚<br><strong>é€šå¸¸æ¥è¯´ï¼Œæ‰€æœ‰ç»™å®šç±»å‹çš„æ–¹æ³•éƒ½åº”è¯¥æœ‰å€¼æˆ–æŒ‡é’ˆæ¥æ”¶è€…ï¼Œä½†å¹¶ä¸åº”è¯¥äºŒè€…æ··ç”¨ã€‚</strong></p>
<h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><p>æ¥å£ç±»å‹æ˜¯ä¸€ç»„æ–¹æ³•ç­¾åçš„ç»„åˆ</p>
<p>æ¥å£å˜é‡å¯ä»¥ä¿å­˜ä»»ä½•å®ç°äº†è¿™äº›æ–¹æ³•çš„ç±»å‹çš„å€¼</p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
    &quot;math&quot;
)

type Abser interface {
    Abs() float64
}

func main() {
    var a Abser
    f := MyFloat(-math.Sqrt2)
    v := Vertex{3, 4}

    a = f  // a MyFloat å®ç°äº† Abser
    a = &amp;v // a *Vertex å®ç°äº† Abser

    // ä¸‹é¢ä¸€è¡Œï¼Œv æ˜¯ä¸€ä¸ª Vertexï¼ˆè€Œä¸æ˜¯ *Vertexï¼‰
    // æ‰€ä»¥æ²¡æœ‰å®ç° Abserã€‚
    a = &amp;v

    fmt.Println(a.Abs())
}

type MyFloat float64

func (f MyFloat) Abs() float64 {
    if f &lt; 0 {
        return float64(-f)
    }
    return float64(f)
}

type Vertex struct {
    X, Y float64
}

func (v *Vertex) Abs() float64 {
    return math.Sqrt(v.X*v.X + v.Y*v.Y)
}
</code></pre>
<p>åº”å½“æ³¨æ„å…¶ä¸­æ³¨é‡Šçš„é‚£éƒ¨åˆ†ï¼Œå®ç°interface abserçš„æ˜¯Vertexçš„æŒ‡é’ˆæ‰€ä»¥ä¸èƒ½ä½¿ç”¨vè€Œæ˜¯åº”å½“ä½¿ç”¨&amp;v</p>
<p>å®ç°äº†ä¸€ä¸ªæ¥å£å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•å³ä¸ºå®ç°äº†æ¥å£ï¼Œè¿™æ ·å°±æ— éœ€ä½¿ç”¨implementsç­‰çš„æ˜¾å¼çš„å®šä¹‰ï¼Œè¿™æ ·çš„éšå¼å®šä¹‰è§£è€¦äº†æ¥å£çš„å®šä¹‰ï¼Œæ¥å£å°±å¯ä»¥ä½¿ç”¨äºä»»ä½•åŒ…ä¸­æ— éœ€è¦æå‰çš„å‡†å¤‡ã€‚</p>
<p>æ¥å£ä¹Ÿæ˜¯å€¼ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°æˆ–è€…è¿”å›å€¼ã€‚<br>åœ¨å†…éƒ¨æ¥å£å¯ä»¥è®¤ä¸ºæ˜¯å€¼å’Œç±»å‹çš„äºŒå…ƒç»„ï¼Œï¼ˆvalueï¼Œtypeï¼‰<br>æ¥å£å€¼ä¿å­˜äº†ä¸€ä¸ªåº•å±‚ç±»å‹çš„å…·ä½“å€¼ï¼Œå½“æ¥å£è°ƒç”¨æ–¹æ³•æ—¶ï¼Œä¼šè°ƒç”¨åº•å±‚ç±»å‹çš„ç›¸åº”æ–¹æ³•ã€‚</p>
<p>æœ‰äº›æ—¶å€™æ¥å£å€¼ä¿å­˜çš„å€¼ä¸ºnilï¼Œè¿™æ ·æœ‰æ—¶å€™å°±éœ€è¦æˆ‘ä»¬ä½¿ç”¨ä¸€äº›æ–¹å¼åœ¨æ–¹æ³•ä¸­ä¼˜é›…çš„è§£å†³è¿™ç§æƒ…å†µ<br>ä¿å­˜äº†nilçš„æ¥å£å€¼å¹¶ä¸ä¸ºnil</p>
<pre><code class="go">type T struct {
    s string
}

type I interface {
    M ()
}

func (t *T) M() {
    if t == nil {
        fmt.Println(&quot;&lt;nil&gt;&quot;)
        return
    } else {
        fmt.Println(t.s)
    }
}</code></pre>
<p>nilçš„æ¥å£å€¼ä¸ä¿å­˜ä»»ä½•å…·ä½“å€¼å’Œç±»å‹ï¼Œä½¿ç”¨nilçš„æ¥å£å€¼ä¼šäº§ç”Ÿä¸€ä¸ªruntimeé”™è¯¯ï¼Œå› ä¸ºå¹¶ä¸çŸ¥é“éœ€è¦è°ƒç”¨å“ªä¸ªç±»å‹çš„åº•å±‚æ–¹æ³•ã€‚</p>
<p>æ²¡æœ‰å®šä¹‰ä»»ä½•æ–¹æ³•çš„æ¥å£ä¸ºç©ºæ¥å£ï¼Œ<strong>ç©ºæ¥å£å¯ä»¥ä¿å­˜ä»»ä½•ç±»å‹çš„å€¼ï¼Œä¸€èˆ¬ç”¨æ¥å¤„ç†æœªçŸ¥ç±»å‹çš„å€¼</strong></p>
<h2 id="ç±»å‹æ–­è¨€"><a href="#ç±»å‹æ–­è¨€" class="headerlink" title="ç±»å‹æ–­è¨€"></a>ç±»å‹æ–­è¨€</h2><p>ç±»å‹æ–­è¨€æä¾›äº†è®¿é—®æ¥å£åº•å±‚å€¼çš„æ–¹æ³•ã€‚</p>
<p><code>v := i.(T)</code><br>è¯¥è¯­å¥æ–­è¨€æ¥å£å˜é‡iå«æœ‰ç±»å‹Tï¼Œå¹¶è¯•å›¾å°†Tçš„å€¼èµ‹ç»™vã€‚å¦‚æœiä¸å«æœ‰ç±»å‹Tï¼Œè¿™å¯èƒ½ä¼šè§¦å‘ä¸€ä¸ªpanic</p>
<p>å¯ä»¥ä½¿ç”¨ä¸æ˜ å°„ç±»ä¼¼çš„æ–¹å¼è®¿é—®ç±»å‹æ–­è¨€<br><code>v, ok := i.(T)</code></p>
<p>ç±»å‹é€‰æ‹©ï¼Œç±»å‹é€‰æ‹©æ˜¯ä¸€ç§ä½¿ç”¨åˆ†æ”¯ç»“æ„ä¾æ¬¡è®¿é—®æ–­è¨€ç±»å‹çš„æ–¹å¼ï¼Œå…¶ç»“æ„ä¸switchç±»ä¼¼</p>
<pre><code class="go">switch v := i.(type) {
    case T:
    //vçš„ç±»å‹ä¸ºT
    case Sï¼š
    //vçš„ç±»å‹ä¸ºS
    defaultï¼š
    //vçš„ç±»å‹ä¸içš„æ¥å£ç±»å‹ä¸€è‡´
}</code></pre>
<p>fmtåŒ…ä¸­çš„StringeråŒ…æ˜¯æœ€å¸¸ç”¨çš„åŒ…ï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªè§£é‡Šè‡ªå·±çš„å­—ç¬¦ä¸²ã€‚</p>
<pre><code class="go">type Stringer interface {
    String() string
}</code></pre>
<h2 id="é”™è¯¯"><a href="#é”™è¯¯" class="headerlink" title="é”™è¯¯"></a>é”™è¯¯</h2><p>Goä½¿ç”¨erroræ¥è¡¨ç¤ºé”™è¯¯ï¼ŒåŒStringç±»ä¼¼ï¼Œerrorä¹Ÿæ˜¯ä¸€ä¸ªå†…å»ºçš„æ¥å£</p>
<pre><code class="go">type error interface {
    Error string()
}</code></pre>
<p>fmtåŒ…åœ¨è¿›è¡Œè¾“å‡ºçš„æ—¶å€™ä¹Ÿä¼šæ»¡è¶³erroræ¥å£ã€‚<br>å½“ä½¿ç”¨erroræ—¶åº”å½“æ³¨æ„åˆ¤æ–­æ˜¯å¦ä¸ºnilï¼Œæ­¤æ—¶è¡¨ç¤ºä¸ºæˆåŠŸï¼Œå¦åˆ™ä¸ºå¤±è´¥ã€‚</p>
<h2 id="io-Reader"><a href="#io-Reader" class="headerlink" title="io.Reader"></a>io.Reader</h2><p>ioåŒ…ä¸­æœ‰ä¸€ä¸ªReaderæ¥å£ä½¿ç”¨æ¯”è¾ƒå¹¿æ³›ï¼Œå¯ä»¥ä»æ•°æ®æµçš„æœ«å°¾è¯»å–æ•°æ®ã€‚</p>
<p>Readeræ¥å£æœ‰ä¸€ä¸ªreadæ–¹æ³•ï¼Œè¯»å–æ•°æ®å¡«å……åˆ‡ç‰‡å¹¶è¿”å›ä¸€ä¸ªè¯»å–çš„å­—èŠ‚æ•°å’Œä¸€ä¸ªé”™è¯¯å€¼<br><code>func (T) Read(b []byte) (n int, err error)</code><br>å¦‚æœè¯»å–åˆ°æ–‡ä»¶æœ«å°¾åˆ™è¿”å›ä¸€ä¸ªio.EOFé”™è¯¯ã€‚</p>
<p>æœ‰ç§å¸¸è§çš„æ¨¡å¼æ˜¯ä½¿ç”¨ä¸€ä¸ªReaderæ¥å£åŒ…è£…å¦ä¸€ä¸ªReaderæ¥å£ï¼Œç„¶åé€šè¿‡æŸç§æ–¹æ³•æ¥ä¿®æ”¹å…¶ä¸­æ•°æ®ã€‚</p>
<pre><code class="go">type rot13Reader struct {
    r io.Reader
}
func (reader rot13Reader) Read(b []byte) (int, error) {
    n, err := reader.r.Read(b)
    for i:=0; i&lt;n; i++{
        switch {
        case b[i] &gt;= &#39;A&#39; &amp;&amp; b[i] &lt;&#39;N&#39; :
            b[i] += 13
        case b[i]&gt;=&#39;N&#39; &amp;&amp; b[i] &lt;=&#39;Z&#39;:
            b[i] -=13
        case b[i] &gt;= &#39;a&#39; &amp;&amp; b[i] &lt;&#39;n&#39; :
            b[i] += 13
        case b[i]&gt;=&#39;n&#39; &amp;&amp; b[i] &lt;=&#39;z&#39;:
            b[i] -=13
        }
    }
    return n, err
}
func main() {
    s := strings.NewReader(&quot;Lbh penpxrq gur pbqr!&quot;)
    r := rot13Reader{s}
    io.Copy(os.Stdout, &amp;r)
}</code></pre>
<h2 id="goåç¨‹ï¼ˆgoroutineï¼‰"><a href="#goåç¨‹ï¼ˆgoroutineï¼‰" class="headerlink" title="goåç¨‹ï¼ˆgoroutineï¼‰"></a>goåç¨‹ï¼ˆgoroutineï¼‰</h2><p>goroutineæ˜¯goè¿è¡Œæ—¶ç®¡ç†çš„è½»é‡çº§çº¿ç¨‹ã€‚</p>
<p><code>go f(x, y, z)</code><br>ä¼šåœ¨æ–°çš„çº¿ç¨‹ä¸­æ‰§è¡Œfï¼Œè€Œå¯¹äºfã€xã€yã€zçš„æ±‚å€¼åˆ™åœ¨å½“å‰çš„çº¿ç¨‹å†…</p>
<p>goroutineæ˜¯åœ¨åŒä¸€ä¸ªåœ°å€ç©ºé—´ï¼Œå› æ­¤ä½¿ç”¨å…±äº«å†…å­˜æ˜¯éœ€è¦åŒæ­¥ï¼Œå¯ä»¥ä½¿ç”¨syncåŒ…ï¼Œä¹Ÿæœ‰å…¶ä»–çš„æ–¹å¼å®ç°åŒæ­¥ã€‚</p>
<h2 id="ä¿¡é“"><a href="#ä¿¡é“" class="headerlink" title="ä¿¡é“"></a>ä¿¡é“</h2><p>ä¿¡é“æ˜¯å¸¦æœ‰ç±»å‹çš„ç®¡é“ï¼Œå¯ä»¥é€šè¿‡å®ƒæ¥å‘é€æˆ–è€…æ¥æ”¶å€¼ï¼Œä¿¡é“æ“ä½œç¬¦ä¸º&lt;-</p>
<p>å’Œæ˜ å°„åˆ‡ç‰‡ä¸€æ ·ï¼Œä¿¡é“åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»åˆ›å»º</p>
<pre><code class="go">ch = make(chan int)

v := 2
ch &lt;- v

r := &lt;-ch //&lt;-ä¸ºæ•°æ®æµåŠ¨æ–¹å‘</code></pre>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå‘é€å’Œæ¥æ”¶æ“ä½œåœ¨å¦ä¸€ç«¯å‡†å¤‡å¥½ä¹‹å‰éƒ½ä¼šé˜»å¡ã€‚è¿™ä½¿å¾— Go ç¨‹å¯ä»¥åœ¨æ²¡æœ‰æ˜¾å¼çš„é”æˆ–ç«æ€å˜é‡çš„æƒ…å†µä¸‹è¿›è¡ŒåŒæ­¥ã€‚</p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
)

func sum(v []int, c chan int) {
    var sum int
    for i := range v {
        sum += v[i]
    }
    ch &lt;- sum
}

func main() {
    value := []int{7, 2, 8, -9, 4, 0}

    c := make(chan int)
    go sum(value[:len(value)/2], c)
    go sum(value[len(value)/2:], c)

    x, y := &lt;-c, &lt;-c
    fmt.Println(x, y, x+y)
}</code></pre>
<p>å¯ä»¥é€šè¿‡å‘makeå‡½æ•°æ·»åŠ å‚æ•°æ¥å®ç°å¸¦ç¼“å†²åŒºçš„ä¿¡é“</p>
<p>å½“ä¼ é€’çš„å†…å®¹è¶…è¿‡ç¼“å†²åŒºå¤§å°ç¨‹åºå°†æ— æ³•æ­£å¸¸æ‰§è¡Œ</p>
<p>ä»…å½“ä¿¡é“çš„ç¼“å†²åŒºå¡«æ»¡åï¼Œå‘å…¶å‘é€æ•°æ®æ—¶æ‰ä¼šé˜»å¡ã€‚å½“ç¼“å†²åŒºä¸ºç©ºæ—¶ï¼Œæ¥å—æ–¹ä¼šé˜»å¡ã€‚</p>
<p><strong>å‘é€è€…</strong>å¯ä»¥ä½¿ç”¨closeæ¥å…³é—­ä¸€ä¸ªä¿¡é“ï¼Œåªæœ‰å‘é€è€…å¯ä»¥å…³é—­ï¼Œè€Œä¸”å¦‚æœå‘å…³é—­äº†çš„ä¿¡é“å‘é€æ¶ˆæ¯ä¼šå¯¼è‡´panicã€‚<br>å¯ä»¥ä½¿ç”¨for-rangeå¾ªç¯æ¥ä¸æ–­ä»ä¿¡é“ä¸­è¯»å†…å®¹ï¼Œå½“ä¿¡é“å…³é—­æ—¶ç»“æŸå¾ªç¯ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæ¥æ”¶é‡çš„ä¼ é€’è¯­å¥æ¥åˆ¤æ–­ä¿¡é“æ˜¯å¦å…³é—­ã€‚<br><code>i, ok := &lt;- ch</code><br>å¦‚æœokä¸ºfalseå°±è¡¨æ˜ä¿¡é“å·²ç»å…³é—­ã€‚</p>
<pre><code class="go">package main

import &quot;fmt&quot;

func fabonacci (n int, c chan int) {
    x, y := 0, 1
    for i:=0; i &lt; n; i++ {
        c &lt;- x
        x, y = y, x+y // å€¼å¾—æ³¨æ„ï¼Œç”¨è¿™ä¸ªæ–¹å¼å°±æ²¡å¿…è¦åƒä¹‹å‰ç”¨çš„é‚£ä¹ˆéº»çƒ¦ã€‚æ²¡å¿…è¦ä½¿ç”¨ä¸­é—´å˜é‡temp
    }
}

func main() {
    c := make(chan int, 10)
    go fabonacci(cap(c), c)
    for i := range c {
        fmt.Println(i)
    }
}</code></pre>
<h2 id="selectè¯­å¥"><a href="#selectè¯­å¥" class="headerlink" title="selectè¯­å¥"></a>selectè¯­å¥</h2><p>select è¯­å¥ä½¿ä¸€ä¸ª Go ç¨‹å¯ä»¥ç­‰å¾…å¤šä¸ªé€šä¿¡æ“ä½œã€‚</p>
<p>select ä¼šé˜»å¡åˆ°æŸä¸ªåˆ†æ”¯å¯ä»¥ç»§ç»­æ‰§è¡Œä¸ºæ­¢ï¼Œè¿™æ—¶å°±ä¼šæ‰§è¡Œè¯¥åˆ†æ”¯ã€‚å½“å¤šä¸ªåˆ†æ”¯éƒ½å‡†å¤‡å¥½æ—¶ä¼šéšæœºé€‰æ‹©ä¸€ä¸ªæ‰§è¡Œã€‚</p>
<pre><code class="go">package main

import &quot;fmt&quot;

func fabonacci( c, quit chan int) {
    x, y := 0, 1
    select {
        case c &lt;- x:
            x, y = y, x+y
        case &lt;- quit:
            fmt.Println(&quot;quit&quot;)
            return
    }
}

func main() {
    c := make(chan int)
    quit := make(chan int)

    go func() {
        for i:=0; i &lt; 10; i++ {
            fmt.Println(&lt;-c)
        }
        quit &lt;- 0
    }
    fabonacci()
}</code></pre>
<p>å½“selectçš„å…¶ä»–åˆ†æ”¯æ²¡æœ‰å‡†å¤‡å¥½æ—¶ï¼Œdefaultåˆ†æ”¯å°±ä¼šæ‰§è¡Œã€‚</p>
<h2 id="Mutex"><a href="#Mutex" class="headerlink" title="Mutex"></a>Mutex</h2><p>Goæ ‡å‡†åº“ä¸­æä¾›çš„sync.Mutexç±»å‹å®ç°äº†lockå’Œunlockä¸¤ä¸ªæ–¹æ³•<br>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨deferæ–¹æ³•å°†unlockæŒ‡ä»¤æ¨è¿Ÿæ¥å®ç°äº’æ–¥ã€‚</p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
        <div class="declare">
          <ul class="post-copyright">
            <li>
              <i class="ri-copyright-line"></i>
              <strong>ç‰ˆæƒå£°æ˜ï¼š </strong s>
              æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://www.apache.org/licenses/LICENSE-2.0.html" rel="external nofollow"
                target="_blank">Apache License 2.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
            </li>
          </ul>
        </div>
        
    <footer class="article-footer">
      
          
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        shell
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://gitee.com/lyhhhhhhhhh/lyhhhhh_blog/2020/02/05/a-tour-of-go/" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
    </div>
</div>

<div id="share-mask"></div>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/" rel="tag">golang</a></li></ul>


    </footer>

  </div>

  
  
  <nav class="article-nav">
    
      <a href="/2020/02/10/leetcode-Notes/" class="article-nav-link">
        <strong class="article-nav-caption"><<</strong>
        <div class="article-nav-title">
          
            leetcode Notes
          
        </div>
      </a>
    
    
      <a href="/2020/02/05/%E5%8D%9A%E5%AE%A2md%E5%9B%BE%E7%89%87%E6%89%98%E7%AE%A1/" class="article-nav-link">
        <strong class="article-nav-caption">>></strong>
        <div class="article-nav-title">åšå®¢mdå›¾ç‰‡æ‰˜ç®¡</div>
      </a>
    
  </nav>


  

  
  
<!-- valineè¯„è®º -->
<div id="vcomments-box">
    <div id="vcomments">
    </div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#vcomments',
        app_id: 'UJJrvaXXm06Um0bqrqXMa1gO-gzGzoHsz',
        app_key: 'g2NktDxnwWHiG84di6iVBq80',
        path: window.location.pathname,
        notify: 'false',
        verify: 'false',
        avatar: 'retro',
        placeholder: 'æœ‰ä»€ä¹ˆæƒ³è¯´çš„å˜›ï¼Ÿ',
        recordIP: true
    });
    const infoEle = document.querySelector('#vcomments .info');
    if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
        infoEle.childNodes.forEach(function (item) {
            item.parentNode.removeChild(item);
        });
    }
</script>
<style>
    #vcomments-box {
        padding: 5px 30px;
    }

    @media screen and (max-width: 800px) {
        #vcomments-box {
            padding: 5px 0px;
        }
    }

    #vcomments-box #vcomments {
        background-color: #fff;
    }

    .v .vlist .vcard .vh {
        padding-right: 20px;
    }

    .v .vlist .vcard {
        padding-left: 10px;
    }
</style>

  

  
  
  

</article>
</section>
      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2020
        lyhhhhh
      </li>
      <li>
        
          Powered by
        
        
        <a href="https://hexo.io" target="_blank">Hexo</a> Theme <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
        
        <span>
  <i>PV:<span id="busuanzi_value_page_pv"></span></i>
  <i>UV:<span id="busuanzi_value_site_uv"></span></i>
</span>
        
      </li>
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
      </li>
    </ul>
  </div>
</footer>
    <div class="to_top">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>
      </div>
    </main>
      <aside class="sidebar">
        <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="ğŸ‹èˆªçˆ±coding"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">ä¸»é¡µ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">ç›®å½•</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">åˆ†ç±»</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">æ ‡ç­¾</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
      </aside>
      <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i></p>
  <div class="reward-box">
    
    
  </div>
</div>
      
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<script src="/js/share.js"></script>



<script src="/fancybox/jquery.fancybox.min.js"></script>




<script>
  try {
    var typed = new Typed("#subtitle", {
    strings: ['çƒ­çˆ±ç”Ÿæ´»ï¼Œçƒ­çˆ±è‡ªæˆ‘','å® è¾±ä¸æƒŠï¼Œä¸å‘ä¸äº¢','æƒ³è¦çš„éƒ½æ‹¥æœ‰ï¼Œå¾—ä¸åˆ°çš„éƒ½é‡Šæ€€'],
    startDelay: 0,
    typeSpeed: 200,
    loop: true,
    backSpeed: 100,
    showCursor: true
    });
  } catch (err) {
  }
  
</script>




<script src="/js/tocbot.min.js"></script>

<script>
  // Tocbot_v4.7.0  http://tscanlin.github.io/tocbot/
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer:'main',
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto',
    onClick: (e) => {
      $('.toc-link').removeClass('is-active-link');
      $(`a[href=${e.target.hash}]`).addClass('is-active-link');
      $(e.target.hash).scrollIntoView();
      return false;
    }
  });
</script>


<script>
  var ayerConfig = {
    mathjax: false
  }
</script>


<script src="/js/ayer.js"></script>


<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>




<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>
  </div>
</body>

</html>