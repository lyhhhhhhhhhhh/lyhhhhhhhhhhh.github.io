<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Mysql</title>
    <url>/blog/2020/04/03/Mysql/</url>
    <content><![CDATA[<p>ä¹‹å‰Mysqlå­¦çš„å±å®æ‹‰èƒ¯ï¼Œé¢å‘å·¥ä½œå­¦ä¸€ä¸‹ğŸ˜‚</p>
<a id="more"></a>

<h1 id="äº†è§£SQL"><a href="#äº†è§£SQL" class="headerlink" title="äº†è§£SQL"></a>äº†è§£SQL</h1><p>æ•°æ®åº“ï¼šæ˜¯ä¸€ä¸ªä»¥æŸç§æœ‰ç»„ç»‡å½¢å¼å­˜å‚¨çš„æ•°æ®é›†åˆã€‚ï¼ˆdatabaseï¼‰</p>
<blockquote>
<p>æˆ‘ä»¬å¹³å¸¸ä½¿ç”¨çš„æ•°æ®åº“è½¯ä»¶å®é™…ä¸Šåº”å½“å«åšDBMSï¼ˆæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼‰ã€‚æ•°æ®åº“æ˜¯é€šè¿‡DBMSæ¥åˆ›å»ºå’Œæ“ä½œçš„å®¹å™¨ã€‚</p>
</blockquote>
<p>è¡¨ï¼šä¸€ç§ç»“æ„åŒ–çš„æ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ¥å­˜å‚¨æŸç§ç‰¹å®šç±»å‹çš„æ•°æ®ã€‚</p>
<p>æ¨¡å¼ï¼šå…³äºæ•°æ®åº“å’Œè¡¨çš„å¸ƒå±€åŠç‰¹æ€§çš„ä¿¡æ¯ã€‚</p>
<p>åˆ—ï¼šè¡¨ç”±åˆ—ç»„æˆï¼Œåˆ—ä¸­å­˜å‚¨ç€è¡¨ä¸­æŸéƒ¨åˆ†ä¿¡æ¯ã€‚æ¯ä¸ªåˆ—éƒ½æœ‰ç‰¹å®šçš„æ•°æ®ç±»å‹ã€‚</p>
<p>è¡Œï¼šæ•°æ®åº“ä¸­çš„æ•°æ®æ˜¯æŒ‰è¡Œå­˜å‚¨çš„ï¼Œè¡Œæ˜¯è¡¨ä¸­çš„ä¸€ä¸ªè®°å½•ã€‚</p>
<p>ä¸»é”®ï¼šè¡¨ä¸­çš„æ¯ä¸€è¡Œéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡è¯†è‡ªå·±çš„ä¸€åˆ—ã€‚å› æ­¤ä¸»é”®æ˜¯æ•°æ®åº“ä¸­çš„ä¸€åˆ—æˆ–è€…ä¸€ç»„åˆ—ï¼Œå…¶å€¼å¯ä»¥å”¯ä¸€åŒºåˆ†è¡¨ä¸­çš„æ¯ä¸ªè¡Œã€‚</p>
<p>ä½œä¸ºä¸»é”®çš„æ¡ä»¶ï¼š</p>
<ol>
<li>ä»»æ„ä¸¤è¡Œéƒ½ä¸å­˜åœ¨ç›¸ç­‰çš„ä¸»é”®å€¼</li>
<li>æ¯ä¸€è¡Œéƒ½å¿…é¡»æœ‰ä¸€ä¸ªä¸»é”®å€¼ï¼ˆä¸å¯ä»¥ä¸ºNULLï¼‰</li>
</ol>
<h1 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h1><p>ç™»é™†ï¼š<code>mysql -u root -qpassword</code></p>
<h2 id="showè¯­å¥ï¼šç”¨äºæ˜¾ç¤ºä¿¡æ¯ã€‚"><a href="#showè¯­å¥ï¼šç”¨äºæ˜¾ç¤ºä¿¡æ¯ã€‚" class="headerlink" title="showè¯­å¥ï¼šç”¨äºæ˜¾ç¤ºä¿¡æ¯ã€‚"></a>showè¯­å¥ï¼šç”¨äºæ˜¾ç¤ºä¿¡æ¯ã€‚</h2><pre><code class="mysql">show databases;
show tables;
show columns from table_name;
show status;</code></pre>
<blockquote>
<p>Mysql ä¸åŒºåˆ†ç©ºæ ¼å’Œå¤§å°å†™</p>
</blockquote>
<h2 id="selectè¯­å¥ï¼šç”¨äºé€‰æ‹©ã€‚"><a href="#selectè¯­å¥ï¼šç”¨äºé€‰æ‹©ã€‚" class="headerlink" title="selectè¯­å¥ï¼šç”¨äºé€‰æ‹©ã€‚"></a>selectè¯­å¥ï¼šç”¨äºé€‰æ‹©ã€‚</h2><p>å¯ä»¥åŠ ä¸Š<code>distinct</code>å…³é”®è¯ä½¿å¾—åªè¿”å›ä¸åŒå€¼ã€‚limitå…³é”®å­—ç”¨äºé™åˆ¶ç»“æœæ•°é‡ï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®èµ·å§‹ä½ç½®ï¼Œ<strong>ç¬¬ä¸€è¡Œæ ‡å·ä¸º0</strong>ã€‚</p>
<blockquote>
<p>åˆ—åå’Œè¡¨åéƒ½å¯ä»¥é€šè¿‡  .  è¿ç®—ç¬¦æ¥é™å®šä½ç½®ã€‚</p>
</blockquote>
<pre><code class="mysql">select distinct id from table limit 5    ;</code></pre>
<h2 id="order-byè¯­å¥ï¼šç”¨äºæ’åºã€‚"><a href="#order-byè¯­å¥ï¼šç”¨äºæ’åºã€‚" class="headerlink" title="order byè¯­å¥ï¼šç”¨äºæ’åºã€‚"></a>order byè¯­å¥ï¼šç”¨äºæ’åºã€‚</h2><p>å¯ä»¥å¯¹å¤šä¸ªåˆ—è¿›è¡Œæ’åºï¼Œåªéœ€è¦é€šè¿‡é€—å·åˆ†å¼€å³å¯ã€‚</p>
<p>é€šè¿‡incï¼Œdescå…³é”®å­—æŒ‡å®šæ’åºé¡ºåºï¼ˆé»˜è®¤ä¸ºå‡åºï¼‰ã€‚</p>
<blockquote>
<p>å­—å…¸åºçš„æ’åºè¿‡ç¨‹éœ€è¦è®¾ç½®ã€‚</p>
</blockquote>
<p>âš ï¸order byå­—å¥åº”å½“æ˜¯selectè¯­å¥ä¸­çš„æœ€åä¸€æ¡å­å¥ã€‚</p>
<h2 id="whereè¯­å¥ï¼šè¿‡æ»¤æ•°æ®"><a href="#whereè¯­å¥ï¼šè¿‡æ»¤æ•°æ®" class="headerlink" title="whereè¯­å¥ï¼šè¿‡æ»¤æ•°æ®"></a>whereè¯­å¥ï¼šè¿‡æ»¤æ•°æ®</h2><p>æ•°æ®æ ¹æ®whereç»™å‡ºçš„æ¡ä»¶è¿›è¡Œè¿‡æ»¤ã€‚ä¸€èˆ¬è·Ÿåœ¨è¡¨åï¼ˆfromè¯­å¥ä¹‹åç»™å‡ºï¼‰ï¼Œä½äºorder byä¹‹å‰ã€‚</p>
<ul>
<li><p>å¯ä½¿ç”¨æ“ä½œç¬¦ï¼š</p>
<p><img src="/lyhhhhhhhhh/lyhhhhh_blog.git/2020/04/03/Mysql/image-20200405112407972.png" alt="image-20200405112407972"></p>
</li>
</ul>
<pre><code class="mysql">select a, b from tableA where cond between 1 and 2;
</code></pre>
<ul>
<li><p>ç©ºå€¼æ£€æŸ¥NULLï¼š</p>
<p>NULLå’Œ0ã€ç©ºæ ¼ç­‰ä¸åŒï¼Œåœ¨mysqlä¸­å…¶å±äºä¸€ä¸ªç‰¹æ®Šçš„å€¼ã€‚</p>
<p>å¯¹äºå®ƒçš„æ“ä½œç¬¦æˆ‘ä»¬ä½¿ç”¨<strong>ISNULL</strong>ã€‚</p>
</li>
</ul>
<p><strong>ç»„åˆè¿‡æ»¤</strong>ï¼š</p>
<p>å¯ä»¥é€šè¿‡andå’Œoræ¥è¿›è¡Œç±»ä¼¼ç¼–ç¨‹ä¸­çš„æ“ä½œã€‚</p>
<blockquote>
<p>And  or è®¡ç®—æ¬¡åºé—®é¢˜ï¼š</p>
<p>mysqlä¼˜å…ˆå¤„ç†andæ“ä½œï¼Œå› æ­¤å¿…è¦æ—¶æˆ‘ä»¬éœ€è¦ä½¿ç”¨ï¼ˆï¼‰æ¥æŒ‡å®šè¿ç®—é¡ºåºã€‚</p>
</blockquote>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨inæ“ä½œç¬¦æ¥æŒ‡å®šèŒƒå›´ï¼ŒèŒƒå›´ä¸­çš„æ¯ä¸ªæ¡ä»¶éƒ½å¯ä»¥è¿›è¡ŒåŒ¹é…ã€‚</p>
<p>âš ï¸æ³¨æ„inåé¢ç»™å‡ºçš„ä¸æ˜¯èŒƒå›´å–å€¼è€Œæ˜¯æ¸…å•ã€‚inæ“ä½œçš„é€Ÿåº¦æ¯”oræ›´å¿«ã€‚</p>
<p>notæ“ä½œç¬¦ï¼šå¦å®šåé¢çš„å…³é”®å­—ã€‚</p>
<h2 id="likeè¯­å¥ï¼šç”¨é€šé…ç¬¦è¿›è¡Œè¿‡æ»¤æ“ä½œ"><a href="#likeè¯­å¥ï¼šç”¨é€šé…ç¬¦è¿›è¡Œè¿‡æ»¤æ“ä½œ" class="headerlink" title="likeè¯­å¥ï¼šç”¨é€šé…ç¬¦è¿›è¡Œè¿‡æ»¤æ“ä½œ"></a>likeè¯­å¥ï¼šç”¨é€šé…ç¬¦è¿›è¡Œè¿‡æ»¤æ“ä½œ</h2><p>å¸¸ç”¨é€šé…ç¬¦ï¼š</p>
<table>
<thead>
<tr>
<th align="left">é€šé…ç¬¦</th>
<th align="left">ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td align="left">%</td>
<td align="left">ä»»ä½•å­—ç¬¦å‡ºç°ä»»ä½•æ¬¡æ•°ï¼ˆåŒ…æ‹¬0æ¬¡ï¼‰</td>
</tr>
<tr>
<td align="left">_</td>
<td align="left">ä»»ä½•å­—ç¬¦å‡ºç°ä¸€æ¬¡</td>
</tr>
</tbody></table>
<p>é€šé…ç¬¦éœ€è¦å¾ˆé•¿çš„æ“ä½œæ—¶é—´ï¼Œå¦‚æœå¯ä»¥ä¸ç”¨ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ã€‚</p>
<p><strong>é€šé…ç¬¦ç½®äºæœç´¢æ¨¡å¼çš„å¼€å§‹å¤„ï¼Œæ•ˆç‡æœ€ä½</strong></p>
<h2 id="regexpï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼"><a href="#regexpï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="regexpï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼"></a>regexpï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</h2><blockquote>
<p>mysqlä¸­çš„æ­£åˆ™è¡¨è¾¾å¼åªæ˜¯æ­£åˆ™è¡¨è¾¾å¼è¯­è¨€ä¸­çš„ä¸€ä¸ªå­é›†ã€‚</p>
</blockquote>
<p><em>æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ—¶ä¸€èˆ¬ä¸åŒºåˆ†å¤§å°å†™ï¼Œå¯ä»¥ä½¿ç”¨binaryå…³é”®å­—</em></p>
<table>
<thead>
<tr>
<th>è¡¨è¾¾å¼ç¬¦å·</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>ï½œ</td>
<td>æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„or</td>
</tr>
<tr>
<td>[]</td>
<td>è¡¨ç¤ºåŒ¹é…åˆ—è¡¨ä¸­å­—ç¬¦çš„ä»»æ„ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç±»ä¼¼[0-9]çš„è§„åˆ™</td>
</tr>
<tr>
<td>\\</td>
<td>è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œä¹Ÿå¯ä»¥å¼•ç”¨å…·æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦</td>
</tr>
<tr>
<td>.</td>
<td>åŒ¹é…ä»»æ„å­—ç¬¦</td>
</tr>
<tr>
<td>å­—ç¬¦é›†</td>
<td>é¢„å…ˆå®šä¹‰å¥½çš„å­—ç¬¦ï¼Œè§è¡¨9-2</td>
</tr>
<tr>
<td>é‡å¤å…ƒå­—ç¬¦</td>
<td>è¡¨ç¤ºå‰ä¸€ä¸ªåŒ¹é…è§„åˆ™çš„é‡å¤æ¬¡æ•°ï¼Œè§ä¸‹è¡¨2</td>
</tr>
<tr>
<td>å®šä½å…ƒå­—ç¬¦</td>
<td>è¡¨ç¤ºåŒ¹é…çš„æŒ‡å®šä½ç½®ï¼Œè§è¡¨9-4</td>
</tr>
</tbody></table>
<p><img src="/lyhhhhhhhhh/lyhhhhh_blog.git/2020/04/03/Mysql/image-20200406101943699.png" alt="image-20200406101943699"></p>
<p><img src="/lyhhhhhhhhh/lyhhhhh_blog.git/2020/04/03/Mysql/image-20200406102245913.png" alt="image-20200406102245913"></p>
<p><img src="/lyhhhhhhhhh/lyhhhhh_blog.git/2020/04/03/Mysql/image-20200406102420943.png" alt="image-20200406102420943"></p>
<p>âš ï¸  ^æœ‰ä¸¤ç§ç”¨æ³•ï¼š</p>
<ol>
<li>ç”¨äºé›†åˆ[]ä¸­è¡¨ç¤ºå¦å®šé›†åˆä¸­å…ƒç´ </li>
<li>ç”¨äºå¤–é¢åˆ™è¡¨ç¤ºå®šä½ï¼Œåœ¨å¼€å¤´è¿›è¡ŒåŒ¹é…</li>
</ol>
<blockquote>
<p>ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•æ–¹æ³•ï¼š</p>
<p><img src="/lyhhhhhhhhh/lyhhhhh_blog.git/2020/04/03/Mysql/image-20200406102837052.png" alt="image-20200406102837052"></p>
</blockquote>
<h2 id="è®¡ç®—å­—æ®µ"><a href="#è®¡ç®—å­—æ®µ" class="headerlink" title="è®¡ç®—å­—æ®µ"></a>è®¡ç®—å­—æ®µ</h2><ul>
<li><p>æ‹¼æ¥å­—æ®µï¼šConcatå‡½æ•°</p>
<p>é€šè¿‡æŒ‡å®šå¤šä¸ªä¸²å°†å…¶æ‹¼æˆä¸€ä¸ªä¸²</p>
</li>
<li><p>Rtrimï¼šåˆ é™¤æ•°æ®å³è¾¹çš„å¤šä½™ç©ºæ ¼</p>
</li>
<li><p>asï¼šä¸ºæ–°çš„åˆ—æŒ‡å®šåˆ«å</p>
</li>
<li><p>ç®—æ•°æ“ä½œï¼š</p>
<p><img src="/lyhhhhhhhhh/lyhhhhh_blog.git/2020/04/03/Mysql/image-20200406172138333.png" alt="image-20200406172138333"></p>
</li>
</ul>
<h2 id="ä½¿ç”¨å‡½æ•°"><a href="#ä½¿ç”¨å‡½æ•°" class="headerlink" title="ä½¿ç”¨å‡½æ•°"></a>ä½¿ç”¨å‡½æ•°</h2><blockquote>
<p>å‡½æ•°ç›¸è¾ƒäºSQLè¯­è¨€æ¥è®²å¯ç§»æ¤æ€§è¾ƒå·®ï¼Œå› ä¸ºæ¯ä¸ªDBMSéƒ½å¯èƒ½æœ‰åˆ«çš„ä¸æ”¯æŒçš„å‡½æ•°ï¼Œå› æ­¤åœ¨å†™çš„è¿‡ç¨‹ä¸­åº”å½“åŠ å¥½æ³¨é‡Šã€‚</p>
</blockquote>
<ul>
<li><p>æ–‡æœ¬å¤„ç†å‡½æ•°ï¼š</p>
<ol>
<li>Upperï¼šå°†æ–‡æœ¬è½¬æ¢ä¸ºå¤§å†™</li>
<li>Leftï¼šè¿”å›ä¸²å·¦è¾¹çš„å­—ç¬¦</li>
<li>Lengthï¼šè¿”å›ä¸²çš„é•¿åº¦</li>
<li>Locateï¼šæ‰¾å‡ºä¸€ä¸ªå­ä¸²</li>
<li>Lowerï¼šè½¬æ¢æˆå°å†™</li>
<li>LTrimï¼šå»æ‰ä¸²å·¦è¾¹çš„ç©ºæ ¼</li>
<li>Rightï¼šè¿”å›ä¸²å³è¾¹çš„å­—ç¬¦</li>
<li>RTrimï¼šå»æ‰ä¸²å³è¾¹çš„ç©ºæ ¼</li>
<li>Substringï¼šè¿”å›å­ä¸²çš„å­—ç¬¦</li>
<li>Soundexï¼šè¿”å›ä¸²çš„soundexå€¼ï¼Œè¯¥å€¼æ˜¯ä¸€ä¸ªæè¿°è¯­éŸ³çš„ç®—æ³•ï¼Œé€šè¿‡è¯¥å‡½æ•°æˆ‘ä»¬å¯ä»¥å®ç°å¯¹ä¸²è¿›è¡Œå‘éŸ³çš„æ¯”è¾ƒ</li>
</ol>
<p><img src="/lyhhhhhhhhh/lyhhhhh_blog.git/2020/04/03/Mysql/image-20200406180526527.png" alt="image-20200406180526527"></p>
</li>
<li><p>æ—¶é—´å’Œæ—¥æœŸå¤„ç†å‡½æ•°ï¼š</p>
<p><img src="/lyhhhhhhhhh/lyhhhhh_blog.git/2020/04/03/Mysql/image-20200406180619816.png" alt="image-20200406180619816"></p>
<p><strong>mysqlæ—¥æœŸæ ¼å¼</strong>ï¼šyyyy-mm-ddï¼Œè¿™æ ·çš„æ ¼å¼ä¸å®¹æ˜“å‡ºç°äºŒä¹‰æ€§</p>
</li>
<li><p>æ•°å€¼å¤„ç†å‡½æ•°ï¼š</p>
<p><img src="/lyhhhhhhhhh/lyhhhhh_blog.git/2020/04/03/Mysql/image-20200406220037588.png" alt="image-20200406220037588"></p>
</li>
</ul>
<h2 id="æ±‡æ€»æ•°æ®"><a href="#æ±‡æ€»æ•°æ®" class="headerlink" title="æ±‡æ€»æ•°æ®"></a>æ±‡æ€»æ•°æ®</h2><p>mysqlæä¾›ä¸€äº›å‡½æ•°ä¾›æˆ‘ä»¬å¯¹äºæ•°æ®åº“è¡¨ä¸­çš„åˆ—è¿›è¡Œç»Ÿè®¡ã€‚</p>
<p><img src="/lyhhhhhhhhh/lyhhhhh_blog.git/2020/04/03/Mysql/image-20200406220458418.png" alt="image-20200406220458418"></p>
<blockquote>
<p>sumå‡½æ•°å¿½ç•¥å€¼ä¸ºNULLçš„è¡Œ</p>
</blockquote>
<h2 id="æ•°æ®åˆ†ç»„"><a href="#æ•°æ®åˆ†ç»„" class="headerlink" title="æ•°æ®åˆ†ç»„"></a>æ•°æ®åˆ†ç»„</h2><p>åœ¨mysqlä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨group byå¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œå‚è€ƒä¸‹é¢çš„ä¾‹å­</p>
<pre><code class="mysql">select vend_id, count(*) as num_prods
from products
group by vend_id;
# è¿™ä¸ªmysqlè¯­å¥ä¸­æˆ‘ä»¬çš„countæ“ä½œå¯¹äºæŒ‰vend_idåˆ’åˆ†å‡ºçš„ç»„è€Œä¸æ˜¯æ•´ä¸ªè¡¨</code></pre>
<p>å¯¹äºgroup byæˆ‘ä»¬åº”è¯¥çŸ¥é“ï¼š</p>
<ol>
<li>group byå¯ä»¥åŒ…å«ä»»æ„æ•°é‡çš„åˆ—ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¯¹åˆ†ç»„åšåµŒå¥—ã€‚</li>
<li>å¦‚æœåœ¨group byä¸­åµŒå¥—äº†åˆ†ç»„ï¼Œæ•°æ®å°†åœ¨æœ€åè§„å®šçš„åˆ†ç»„ä¸Šæ±‡æ€»ã€‚</li>
<li>å¦‚æœåˆ†ç»„åˆ—ä¸­æœ‰NULLå€¼ï¼Œåˆ™å…¶ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„åˆ†ç»„ç»™å‡ºï¼Œå¦‚æœæœ‰å¤šä¸ªNULLå€¼ï¼Œåˆ™å°†å®ƒä»¬åˆ†ä¸ºä¸€ç»„</li>
<li>group byè¯­å¥å¿…é¡»åœ¨whereå­å¥ä¹‹åï¼Œorder byè¯­å¥ä¹‹å‰ã€‚</li>
</ol>
<h3 id="ä½¿ç”¨havingè¿‡æ»¤åˆ†ç»„"><a href="#ä½¿ç”¨havingè¿‡æ»¤åˆ†ç»„" class="headerlink" title="ä½¿ç”¨havingè¿‡æ»¤åˆ†ç»„"></a>ä½¿ç”¨havingè¿‡æ»¤åˆ†ç»„</h3><p>havingç±»ä¼¼äºwhereï¼Œä½†æ˜¯whereä¸å«æœ‰ç»„çš„æ¦‚å¿µï¼Œåªèƒ½ä½¿ç”¨havingå¯¹ç»„è¿›è¡Œæ“ä½œã€‚</p>
<h2 id="å­æŸ¥è¯¢"><a href="#å­æŸ¥è¯¢" class="headerlink" title="å­æŸ¥è¯¢"></a>å­æŸ¥è¯¢</h2><p>Mysql4.1åŠä»¥ä¸Šå…è®¸ä½¿ç”¨å­æŸ¥è¯¢ï¼Œå³åµŒå¥—åœ¨å…¶ä»–æŸ¥è¯¢ä¸­çš„æŸ¥è¯¢ã€‚</p>
<p>å­æŸ¥è¯¢å¯ä»¥ç”¨äºæä¾›æ–°çš„è¡¨ä¾›å¤–å±‚æŸ¥è¯¢æ£€ç´¢ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºselectå­—æ®µä¸­çš„è¿›è¡Œè®¡ç®—</p>
<blockquote>
<p>ç›´æ¥å»ºç«‹ä¸€ä¸ªåµŒå¥—çš„æŸ¥è¯¢æ˜¯å›°éš¾çš„ï¼Œå› æ­¤æˆ‘ä»¬åº”å½“ä»å†…å±‚å‘å¤–å±‚é€æ­¥å»ºç«‹åµŒå¥—æŸ¥è¯¢ã€‚</p>
<p>å¹¶ä¸”æ¯æ¬¡éƒ½è¿›è¡Œæµ‹è¯•ï¼Œè¿™æ ·å¯ä»¥çœå»åé¢å¦‚æœå‡ºé”™äº†çš„å¤§é‡æ—¶é—´</p>
</blockquote>
<h2 id="è¿æ¥è¡¨"><a href="#è¿æ¥è¡¨" class="headerlink" title="è¿æ¥è¡¨"></a>è¿æ¥è¡¨</h2>]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>recent tasks</title>
    <url>/blog/2020/04/02/recent-tasks/</url>
    <content><![CDATA[<h1 id="Recent-Plan"><a href="#Recent-Plan" class="headerlink" title="Recent Plan"></a>Recent Plan</h1><ul>
<li><input disabled type="checkbox"> æ·±å…¥äº†è§£è®¡ç®—æœºç³»ç»Ÿ</li>
<li><input disabled type="checkbox"> Mysql</li>
<li><input disabled type="checkbox"> the way to go</li>
</ul>
]]></content>
      <categories>
        <category>plan</category>
      </categories>
      <tags>
        <tag>study</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥äº†è§£IPC</title>
    <url>/blog/2020/03/19/%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3IPC/</url>
    <content><![CDATA[<p>IPCæŒ‡è¿›ç¨‹é—´é€šä¿¡ï¼Œå¸¸è§çš„æœ‰ç®¡é“ã€å‘½ä»¤ç®¡é“ã€ä¿¡å·é‡ã€å…±äº«å†…å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ã€socket</p>
<p>ä¸‹é¢æˆ‘ä»¬å°±æ¥è¯¦ç»†è¯´è¯´å„ä¸ªæ–¹æ³•çš„å…·ä½“å®ç°ã€‚</p>
<a id="more"></a>

<h2 id="ç®¡é“"><a href="#ç®¡é“" class="headerlink" title="ç®¡é“"></a>ç®¡é“</h2><p>ç®¡é“æ˜¯è¿›ç¨‹é—´é€šä¿¡çš„ä¸»è¦æ‰‹æ®µä¹‹ä¸€ï¼Œè€Œç®¡é“å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ª<strong>åªå­˜åœ¨äºå†…å­˜ä¸­çš„è™šæ‹Ÿæ–‡ä»¶</strong>ã€‚</p>
<p>å¯¹å®ƒçš„æ“ä½œéœ€è¦ä¸¤ä¸ªå·²ç»æ‰“å¼€äº†çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œåˆ†åˆ«ä»£è¡¨ç®¡é“çš„è¯»å†™ä¸¤ç«¯ã€‚</p>
<p>ç®¡é“åªèƒ½ç”¨äºçˆ¶å­è¿›ç¨‹ä¹‹é—´ã€‚</p>
<h3 id="å®ç°æœºåˆ¶"><a href="#å®ç°æœºåˆ¶" class="headerlink" title="å®ç°æœºåˆ¶"></a>å®ç°æœºåˆ¶</h3><p>ç®¡é“å®é™…ä¸Šæ˜¯ä¸€æ®µå†…æ ¸çš„ç¼“å†²åŒºï¼Œä¸€èˆ¬ä¸º4kå·¦å³çš„å¤§å°ï¼Œå¹¶ä¸”è®¾è®¡ä¸ºç¯å½¢ä»¥ä¾¿èƒ½å¤Ÿå¾ªç¯åˆ©ç”¨ã€‚</p>
<ul>
<li>å¦‚æœæ‰€æœ‰æŒ‡å‘ç®¡é“å†™ç«¯çš„æ–‡ä»¶æè¿°ç¬¦éƒ½å…³é—­äº†ï¼Œè€Œä»ç„¶æœ‰è¿›ç¨‹ä»ç®¡é“çš„è¯»ç«¯è¯»æ•°æ®ï¼Œé‚£ä¹ˆæ–‡ä»¶å†…çš„æ‰€æœ‰å†…å®¹è¢«è¯»å®Œåå†æ¬¡readå°±ä¼šè¿”å›0ï¼Œå°±åƒè¯»åˆ°æ–‡ä»¶ç»“å°¾ã€‚</li>
<li>å¦‚æœæœ‰æŒ‡å‘ç®¡é“å†™ç«¯çš„æ–‡ä»¶æè¿°ç¬¦æ²¡æœ‰å…³é—­ï¼ˆç®¡é“å†™æ®µçš„å¼•ç”¨è®¡æ•°å¤§äº0ï¼‰ï¼Œè€ŒæŒæœ‰ç®¡é“å†™ç«¯çš„è¿›ç¨‹æ²¡æœ‰å‘ç®¡é“å†…å†™å…¥æ•°æ®ï¼Œå‡å¦‚è¿™æ—¶æœ‰è¿›ç¨‹ä»ç®¡é“è¯»ç«¯è¯»æ•°æ®ï¼Œé‚£ä¹ˆè¯»å®Œç®¡é“å†…å‰©ä½™çš„æ•°æ®åå°±ä¼šé˜»å¡ç­‰å¾…ï¼Œç›´åˆ°æœ‰æ•°æ®å¯è¯»æ‰è¯»å–æ•°æ®å¹¶è¿”å›ã€‚</li>
<li>å¦‚æœæ‰€æœ‰æŒ‡å‘ç®¡é“è¯»ç«¯çš„æ–‡ä»¶æè¿°ç¬¦éƒ½å…³é—­ï¼Œæ­¤æ—¶æœ‰è¿›ç¨‹é€šè¿‡å†™ç«¯æ–‡ä»¶æè¿°ç¬¦å‘ç®¡é“å†…å†™æ•°æ®æ—¶ï¼Œåˆ™è¯¥è¿›ç¨‹å°±ä¼šæ”¶åˆ°SIGPIPEä¿¡å·ï¼Œå¹¶å¼‚å¸¸ç»ˆæ­¢ã€‚</li>
<li>å¦‚æœæœ‰æŒ‡å‘ç®¡é“è¯»ç«¯çš„æ–‡ä»¶æè¿°ç¬¦æ²¡æœ‰å…³é—­ï¼ˆç®¡é“è¯»ç«¯çš„å¼•ç”¨è®¡æ•°å¤§äº0ï¼‰ï¼Œè€ŒæŒæœ‰ç®¡é“è¯»ç«¯çš„è¿›ç¨‹æ²¡æœ‰ä»ç®¡é“å†…è¯»æ•°æ®ï¼Œå‡å¦‚æ­¤æ—¶æœ‰è¿›ç¨‹é€šè¿‡ç®¡é“å†™æ®µå†™æ•°æ®ï¼Œé‚£ä¹ˆç®¡é“è¢«å†™æ»¡åå°±ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°ç®¡é“å†…æœ‰ç©ºä½ç½®åæ‰å†™å…¥æ•°æ®å¹¶è¿”å›ã€‚</li>
</ul>
<p><img src="https://i.loli.net/2020/03/19/TicOxe7bGlXCyf3.jpg" alt="Jietu20200319-104028@2x"></p>
<h3 id="å®ç°ç»†èŠ‚"><a href="#å®ç°ç»†èŠ‚" class="headerlink" title="å®ç°ç»†èŠ‚"></a>å®ç°ç»†èŠ‚</h3><p>åœ¨linuxä¸­ï¼Œç®¡é“çš„å®ç°å¹¶æ²¡æœ‰ä¸“é—¨çš„æ•°æ®ç»“æ„ï¼Œè€Œæ˜¯å€ŸåŠ©äº†æ–‡ä»¶ç³»ç»Ÿå’Œè™šæ‹Ÿçš„VFSèŠ‚ç‚¹å®ç°çš„ã€‚</p>
<p>ä¸¤ä¸ªè¿›ç¨‹ä¼šå„æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç»“æ„åŒæ—¶æŒ‡å‘è¿™ä¸ªè™šæ‹Ÿçš„æ–‡ä»¶èŠ‚ç‚¹ï¼Œè€Œè¿™ä¸ªinodeä¼šæŒ‡å‘å†…æ ¸ç¼“å†²åŒºä¸­çš„ä¸€æ®µç‰©ç†é¡µ</p>
<p>å¦‚ä¸‹å›¾æœ‰ä¸¤ä¸ª file æ•°æ®ç»“æ„ï¼Œä½†å®ƒä»¬å®šä¹‰æ–‡ä»¶æ“ä½œä¾‹ç¨‹åœ°å€æ˜¯ä¸åŒçš„ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯å‘ç®¡é“ä¸­å†™å…¥æ•°æ®çš„ä¾‹ç¨‹åœ°å€ï¼Œè€Œå¦ä¸€ä¸ªæ˜¯ä»ç®¡é“ä¸­è¯»å‡ºæ•°æ®çš„ä¾‹ç¨‹åœ°å€ã€‚</p>
<p>è¿™æ ·ä»¥æ¥å°±å¯ä»¥é€šè¿‡æ™®é€šçš„æ–‡ä»¶æ“ä½œæ¥è¿›è¡Œpipeè¿™ä¸€ä¸ªç‰¹æ®Šçš„æ“ä½œã€‚</p>
<p><img src="https://i.loli.net/2020/03/19/xO1nuBldkWaepvh.jpg" alt="Jietu20200319-105159@2x"></p>
<p>è€Œåœ¨å®é™…çš„è¯»å†™æ“ä½œä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç­‰å¾…é˜Ÿåˆ—ã€ä¿¡å·é‡ã€é”ç­‰æœºåˆ¶æ§åˆ¶åŒæ­¥ã€‚</p>
<pre><code class="c">/**
 *    struct pipe_buffer - a linux kernel pipe buffer
 *    @page: the page containing the data for the pipe buffer
 *    @offset: offset of data inside the @page
 *    @len: length of data inside the @page
 *    @ops: operations associated with this buffer. See @pipe_buf_operations.
 *    @flags: pipe buffer flags. See above.
 *    @private: private data owned by the ops.
 **/
struct pipe_buffer {
    struct page *page;
    unsigned int offset, len;
    const struct pipe_buf_operations *ops;
    unsigned int flags;
    unsigned long private;
};


/**
 *    struct pipe_inode_info - a linux kernel pipe
 *    @mutex: mutex protecting the whole thing
 *    @wait: reader/writer wait point in case of empty/full pipe
 *    @nrbufs: the number of non-empty pipe buffers in this pipe
 *    @buffers: total number of buffers (should be a power of 2)
 *    @curbuf: the current pipe buffer entry
 *    @tmp_page: cached released page
 *    @readers: number of current readers of this pipe
 *    @writers: number of current writers of this pipe
 *    @files: number of struct file referring this pipe (protected by -&gt;i_lock)
 *    @waiting_writers: number of writers blocked waiting for room
 *    @r_counter: reader counter
 *    @w_counter: writer counter
 *    @fasync_readers: reader side fasync
 *    @fasync_writers: writer side fasync
 *    @bufs: the circular array of pipe buffers
 *    @user: the user who created this pipe
 **/
struct pipe_inode_info {
    struct mutex mutex;
    wait_queue_head_t wait;
    unsigned int nrbufs, curbuf, buffers;
    unsigned int readers;
    unsigned int writers;
    unsigned int files;
    unsigned int waiting_writers;
    unsigned int r_counter;
    unsigned int w_counter;
    struct page *tmp_page;
    struct fasync_struct *fasync_readers;
    struct fasync_struct *fasync_writers;
    struct pipe_buffer *bufs;
    struct user_struct *user;
};</code></pre>
<p><strong>pipeæ˜¯åŠåŒå·¥çš„</strong><br>å› ä¸ºå…¶æ˜¯ä¸€ä¸ªç¯å½¢çš„ç»“æ„ï¼Œå…¶ä¸­éœ€è¦ç»´æŒlenã€offsetç­‰ä¿¡æ¯ï¼Œä¿®æ”¹æ—¶åŠ¿å¿…è¦åŠ é”ï¼Œæ‰€ä»¥åªèƒ½åŠåŒå·¥é€šä¿¡ã€‚</p>
<p><a href="https://segmentfault.com/q/1010000014814117/a-1020000014828268" target="_blank" rel="noopener">https://segmentfault.com/q/1010000014814117/a-1020000014828268</a></p>
<blockquote>
<p>åŠåŒå·¥(Half Duplex)æ•°æ®ä¼ è¾“æŒ‡æ•°æ®å¯ä»¥åœ¨ä¸€ä¸ªä¿¡å·è½½ä½“çš„ä¸¤ä¸ªæ–¹å‘ä¸Šä¼ è¾“ï¼Œä½†æ˜¯ä¸èƒ½åŒæ—¶ä¼ è¾“ã€‚</p>
</blockquote>
<h2 id="å‘½åç®¡é“"><a href="#å‘½åç®¡é“" class="headerlink" title="å‘½åç®¡é“"></a>å‘½åç®¡é“</h2><p>ç®¡é“åˆä¸€ä¸ªæ˜æ˜¾çš„ç¼ºç‚¹å°±æ˜¯åªèƒ½çˆ¶å­è¿›ç¨‹ä¹‹é—´è¿›è¡Œé€šä¿¡ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½åç®¡é“ã€‚</p>
<ol>
<li>FIFOæ˜¯æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªå…·ä½“çš„æ–‡ä»¶ï¼Œæ˜¯å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶åå’Œå…¶ç»‘å®šçš„ï¼Œå› æ­¤å¯ä»¥å®ç°ä¸¤ä¸ªä»»æ„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œè€ŒåŒ¿åç®¡é“å¯¹äºæ–‡ä»¶ç³»ç»Ÿæ˜¯é€æ˜çš„ã€‚</li>
<li>FIFOæ˜¯ä¸€ä¸ªè®¾å¤‡æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ä»¥æ–‡ä»¶åçš„å½¢å¼å­˜åœ¨ï¼Œå› æ­¤å³ä½¿è¿›ç¨‹ä¸åˆ›å»ºFIFOçš„è¿›ç¨‹ä¸å­˜åœ¨è¡€ç¼˜å…³ç³»ä¹Ÿä¾ç„¶å¯ä»¥é€šä¿¡ï¼Œå‰ææ˜¯å¯ä»¥è®¿é—®è¯¥è·¯å¾„ã€‚</li>
</ol>
<pre><code class="c">#include &lt;sys/stat.h&gt;
int  mknod(const  char*  path, mode_t mod,  dev_t dev);
int  mkfifo(const  char* path,  mode_t  mod);</code></pre>
<p>ä¸Šé¢ä¸¤ä¸ªå‡½æ•°éƒ½å¯ä»¥åˆ›å»ºä¸€ä¸ªå‘½åç®¡é“ï¼Œå‰ä¸¤ä¸ªå‚æ•°æ˜¯æŒ‡è·¯å¾„å’Œå­˜å–æƒé™ï¼Œè€Œç¬¬ä¸€ä¸ªå‡½æ•°ä¸­çš„æœ€åä¸€ä¸ªå‚æ•°æŒ‡çš„æ˜¯è®¾å¤‡ç±»å‹ï¼Œåªæœ‰åˆ›å»ºè®¾å¤‡æ–‡ä»¶çš„æ—¶å€™æ‰æœ‰ã€‚</p>
<p>å‘½åç®¡é“åˆ›å»ºå®Œæˆåå°±å¯ä»¥ä½¿ç”¨ï¼Œå…¶ä½¿ç”¨æ–¹æ³•ä¸ç®¡é“ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºï¼šå‘½åç®¡é“ä½¿ç”¨ä¹‹å‰éœ€è¦ä½¿ç”¨open()æ‰“å¼€ã€‚è¿™æ˜¯å› ä¸ºï¼šå‘½åç®¡é“æ˜¯è®¾å¤‡æ–‡ä»¶ï¼Œå®ƒæ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„ï¼Œè€Œç®¡é“æ˜¯å­˜åœ¨å†…å­˜ä¸­çš„ç‰¹æ®Šæ–‡ä»¶ã€‚<br>âš ï¸ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‘½åç®¡é“è°ƒç”¨open()æ‰“å¼€æœ‰å¯èƒ½ä¼šé˜»å¡ï¼Œä½†æ˜¯å¦‚æœä»¥è¯»å†™æ–¹å¼ï¼ˆO_RDWRï¼‰æ‰“å¼€åˆ™ä¸€å®šä¸ä¼šé˜»å¡ï¼›ä»¥åªè¯»ï¼ˆO_RDONLYï¼‰æ–¹å¼æ‰“å¼€æ—¶ï¼Œè°ƒç”¨open()çš„å‡½æ•°ä¼šè¢«é˜»å¡ç›´åˆ°æœ‰æ•°æ®å¯è¯»ï¼›å¦‚æœä»¥åªå†™æ–¹å¼ï¼ˆO_WRONLYï¼‰æ‰“å¼€æ—¶åŒæ ·ä¹Ÿä¼šè¢«é˜»å¡ï¼ŒçŸ¥é“æœ‰ä»¥è¯»æ–¹å¼æ‰“å¼€è¯¥ç®¡é“ã€‚</p>
<p>å› æ­¤ï¼Œå‘½åç®¡é“å¯ä»¥è¢«æ‰©å±•æˆc/sæ¨¡å¼ã€‚</p>
<h2 id="æ¶ˆæ¯é˜Ÿåˆ—"><a href="#æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="æ¶ˆæ¯é˜Ÿåˆ—"></a>æ¶ˆæ¯é˜Ÿåˆ—</h2><p>å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„åšæ–‡â€”â€”â€”â€”æ¶ˆæ¯é˜Ÿåˆ—æ‰«ç›²ã€‚</p>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>IPC</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¼–è¯‘åŸç†</title>
    <url>/blog/2020/03/17/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/</url>
    <content><![CDATA[<p>ç¼–è¯‘åŸç†è™ä¹¦é˜…è¯»ç¬”è®°ï¼Œå¦ä¸Šè¯¾ç¬”è®°</p>
<a id="more"></a>



<h1 id="ç¼–è¯‘æ¦‚è®º"><a href="#ç¼–è¯‘æ¦‚è®º" class="headerlink" title="ç¼–è¯‘æ¦‚è®º"></a>ç¼–è¯‘æ¦‚è®º</h1><h2 id="ç¼–è¯‘å™¨ç»“æ„"><a href="#ç¼–è¯‘å™¨ç»“æ„" class="headerlink" title="ç¼–è¯‘å™¨ç»“æ„"></a>ç¼–è¯‘å™¨ç»“æ„</h2><p>å‰ç«¯+ä¼˜åŒ–å™¨+åç«¯ï¼Œå…¶ä¸­ä»¥IRï¼ˆä¸­é—´è¡¨ç¤ºï¼‰æ¥ä¼ é€’ä¿¡æ¯</p>
<h3 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h3><p>åœ¨ç¼–è¯‘å™¨èƒ½å¤Ÿå°†è¡¨è¾¾å¼è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„ç›®æ ‡ä»£ç ä¹‹å‰ï¼Œå®ƒå¿…é¡»ç†è§£è¡¨è¾¾å¼çš„å½¢å¼å’Œå†…å®¹ï¼Œæˆ–è€…<em>è¯­æ³•å’Œè¯­ä¹‰</em>ã€‚</p>
<p>å…¶åˆ¤æ–­ä»£ç æ˜¯å¦æ˜¯è‰¯æ„çš„ï¼Œå¦‚æœæ˜¯æœ‰æ•ˆçš„åˆ™ä»¥ç¼–è¯‘å™¨çš„IRå½¢å¼æ„å»ºä¸€ä¸ªä»£ç è¡¨ç¤ºã€‚åä¹‹è¿”å›ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ã€‚</p>
<p>å‰ç«¯ä¸­æœ‰ä¸¤è¶Ÿç‹¬ç«‹çš„å¤„ç†ï¼Œåˆ†åˆ«ç§°ä¸º<strong>è¯æ³•åˆ†æå™¨</strong>å’Œ<strong>è¯­æ³•åˆ†æå™¨</strong>ã€‚</p>
<ol>
<li><p>è¯æ³•åˆ†æå™¨</p>
<blockquote>
<p>ç¼–è¯‘å™¨ä¸­çš„ä¸€è¶Ÿï¼Œå°†å­—ç¬¦æ„æˆçš„ä¸²è½¬æ¢ä¸ºå•è¯æ„æˆçš„æµã€‚</p>
</blockquote>
<p>æŒ‰ç…§è¾“å…¥è¯­è¨€çš„è¯­æ³•è§„åˆ™ï¼ŒåŒ¹é…å·²åˆ†ç±»å•è¯çš„æµï¼Œç„¶åå¯¹å…¶è¿›è¡Œæ¨å¯¼ã€‚</p>
</li>
<li><p>è¯­æ³•åˆ†æå™¨<br>è¯­æ³•æ­£ç¡®çš„å¥å­å¯èƒ½æ˜¯æ— æ„ä¹‰çš„ã€‚</p>
<p>ç¼–è¯‘å™¨å¯ä»¥é€šè¿‡æ„å»ºæ•°å­¦æ¨¡å‹æ¥æ£€æŸ¥ç¨‹åºä¸­çš„ä¸ä¸€è‡´ä¹‹å¤„ã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>compiler</tag>
      </tags>
  </entry>
  <entry>
    <title>data structure and algorithm</title>
    <url>/blog/2020/03/06/data-structure-and-algorithm/</url>
    <content><![CDATA[<p>Data Structure and Algorithm Notes</p>
<a id="more"></a>

<h2 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h2><h3 id="base-sort"><a href="#base-sort" class="headerlink" title="base sort"></a>base sort</h3><p>é€‰æ‹©æ’åº</p>
<pre><code class="go">func sortArray(nums []int) []int {
    length := len(nums)
    for i := range nums {
        min := i
        for j:= i+1; j&lt; length; j++ {
            if nums[min] &gt; nums[j] {
                min = j
            }
        }
        nums[i], nums[min] = nums[min], nums[i]
    }
    return nums
}</code></pre>
<p>æ’å…¥æ’åº</p>
<h3 id="quick-sort"><a href="#quick-sort" class="headerlink" title="quick sort"></a>quick sort</h3><pre><code class="go">func sortArray(nums []int) []int {
    if len(nums) &lt;= 1 {
        return nums
    }
    mid := partition(nums)
    sortArray(nums[:mid])
    sortArray(nums[mid+1:])
    return nums
}

func partition(nums []int) int {
    begin, end := 0, len(nums)-2
    target := nums[end+1]
    for ; ; begin, end = begin+1, end-1 {
        for nums[begin] &lt; target {
            begin++
        }
        for end != 0 &amp;&amp; nums[end] &gt; target {
            end--
        }
        if begin &gt;= end {
            break
        }
        nums[begin], nums[end] = nums[end], nums[begin]
    }
    nums[begin], nums[len(nums)-1] = nums[len(nums)-1], nums[begin]
    return begin
}</code></pre>
<p>å…·æœ‰ä¸‰æ•°å–ä¸­é¢„å¤„ç†çš„å¿«é€Ÿæ’åº</p>
<pre><code class="go">func sortArray(nums []int) []int {
    if len(nums) &lt;= 1 {
        return nums
    }
    mid := partition(nums)
    sortArray(nums[:mid])
    sortArray(nums[mid+1:])
    return nums
}

func partition(nums []int) int {
    pretreatment(nums)
    begin, end := 0, len(nums)-2
    target := nums[end+1]
    for ; ; begin, end = begin+1, end-1 {
        for nums[begin] &lt; target {
            begin++
        }
        for end != 0 &amp;&amp; nums[end] &gt; target {
            end--
        }
        if begin &gt;= end {
            break
        }
        nums[begin], nums[end] = nums[end], nums[begin]
    }
    nums[begin], nums[len(nums)-1] = nums[len(nums)-1], nums[begin]
    return begin
}

func pretreatment(nums []int) {
    begin, mid, end := 0, len(nums)/2, len(nums)-1
    if nums[begin] &gt; nums[end] {
        nums[begin], nums[end] = nums[end], nums[begin]
    }
    if nums[begin] &gt; nums[mid] {
        nums[begin], nums[mid] = nums[mid], nums[begin]
    }
    if nums[end] &gt; nums[mid] {
        nums[mid], nums[end] = nums[end], nums[mid]
    }
}</code></pre>
<h3 id="merge-sort"><a href="#merge-sort" class="headerlink" title="merge sort"></a>merge sort</h3><p>å½’å¹¶æ’åºæœ€å¼•äººç©ç›®çš„ä¸€ç‚¹æ˜¯å¯¹äºä»€ä¹ˆè¾“å…¥éƒ½å¯ä»¥ä¿è¯nlognï¼Œä½†æ˜¯ä»˜å‡ºçš„ä»£ä»·å°±æ˜¯éœ€è¦nçš„ç©ºé—´å¤æ‚åº¦ã€‚</p>
<p>å½’å¹¶è¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯é¡ºåºçš„è®¿é—®æ•°æ®ï¼Œå› æ­¤å¯¹äºé“¾è¡¨çš„æ’åºæˆ–è€…é«˜æ€§èƒ½è®¡ç®—æœºä¸Šï¼Œå½’å¹¶æ›´åŠ åˆé€‚ï¼Œå› ä¸ºé¡ºåºè®¿é—®æ•°æ®æ›´å¿«ã€‚</p>
<p>å½’å¹¶æ’åºä¹Ÿå¯ä»¥é€šè¿‡åŸåœ°æ’åºå®ç°ï¼Œå¯ä»¥å°†å¦ä¸€ä¸ªæ•°ç»„å€’ç½®åœ¨ä¹‹å‰çš„æ•°ç»„ä¹‹åã€‚ç„¶åè¿›è¡Œç§»ä½å½’å¹¶ã€‚</p>
<blockquote>
<p>å‡å®šåœ¨å¾…æ’åºçš„è®°å½•åºåˆ—ä¸­ï¼Œå­˜åœ¨å¤šä¸ªå…·æœ‰ç›¸åŒçš„å…³é”®å­—çš„è®°å½•ï¼Œè‹¥ç»è¿‡æ’åºï¼Œè¿™äº›è®°å½•çš„ç›¸å¯¹æ¬¡åºä¿æŒä¸å˜ï¼Œå³åœ¨åŸåºåˆ—ä¸­ï¼Œr[i]=r[j]ï¼Œä¸”r[i]åœ¨r[j]ä¹‹å‰ï¼Œè€Œåœ¨æ’åºåçš„åºåˆ—ä¸­ï¼Œr[i]ä»åœ¨r[j]ä¹‹å‰ï¼Œåˆ™ç§°è¿™ç§æ’åºç®—æ³•æ˜¯ç¨³å®šçš„ï¼›å¦åˆ™ç§°ä¸ºä¸ç¨³å®šçš„ã€‚</p>
</blockquote>
<pre><code class="go">func sortArray(nums []int) []int {
    if len(nums) &lt;= 1 {
        return nums
    }
    mid := len(nums) / 2
    left := sortArray(nums[:mid])
    right := sortArray(nums[mid:])
    return merge(left, right)
}

func merge(left, right []int) []int {
    lenLeft, lenRight := len(left), len(right)
    res := make([]int, lenLeft+lenRight)
    for i, j, k := 0, 0, 0; k &lt; lenLeft+lenRight; k++ {
        if i == lenLeft {
            copy(res[k:], right[j:])
            break
        }
        if j == lenRight {
            copy(res[k:], left[i:])
            break
        }
        if left[i] &lt; right[j] {
            res[k] = left[i]
            i++
        } else {
            res[k] = right[j]
            j++
        }
    }
    return res
}</code></pre>
<h4 id="æ”¹è¿›ç­–ç•¥"><a href="#æ”¹è¿›ç­–ç•¥" class="headerlink" title="æ”¹è¿›ç­–ç•¥"></a>æ”¹è¿›ç­–ç•¥</h4><ol>
<li><p>é€’å½’ç®—æ³•éƒ½å¯ä»¥é€šè¿‡å°†å°æ–‡ä»¶é€šè¿‡æ’å…¥æ’åºç­‰å®ç°ï¼Œè¿™æ ·å‡å°é€’å½’çš„å¼€é”€ã€‚</p>
</li>
<li><p>é€šè¿‡ä½¿ä¸¤ä¸ªæœ‰åºæ•°ç»„æ”¾åœ¨å¦ä¸€ä¸ªå…¨å±€æ•°ç»„ä¸­å½¢æˆbitonicæ’åºæ¥è¿›è¡ŒåŸåœ°çš„å½’å¹¶æ’åºã€‚</p>
</li>
</ol>
<blockquote>
<p>çœ‹ä¸€ä¸‹åŒè°ƒæ’åºã€‚</p>
</blockquote>
<h3 id="ä¼˜å…ˆé˜Ÿåˆ—å’Œå †æ’åº"><a href="#ä¼˜å…ˆé˜Ÿåˆ—å’Œå †æ’åº" class="headerlink" title="ä¼˜å…ˆé˜Ÿåˆ—å’Œå †æ’åº"></a>ä¼˜å…ˆé˜Ÿåˆ—å’Œå †æ’åº</h3><p>ä¼˜å…ˆé˜Ÿåˆ—æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå…¶æ•°æ®é¡¹ä¸­å¸¦æœ‰å…³é”®å­—ï¼Œæ”¯æŒä¸¤ç§åŸºæœ¬æ“ä½œï¼šå‘ä¼˜å…ˆé˜Ÿåˆ—ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„æ•°æ®é¡¹ï¼Œåˆ é™¤ä¼˜å…ˆé˜Ÿåˆ—ä¸­å…³é”®å­—æœ€å¤§çš„æ•°æ®é¡¹ã€‚</p>
<p>ä¼˜å…ˆé˜Ÿåˆ—æ˜¯ä¸€ç§æŠ½è±¡çš„æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰å¤šç§æ–¹å¼å®ç°å®ƒï¼Œé—®é¢˜åœ¨äºæˆ‘ä»¬æƒ³å¾—åˆ°çš„æ˜¯æ’å…¥å’Œåˆ é™¤æœ€å¤§ä¸¤ä¸ªæ“ä½œåŒæ—¶å¯ä»¥çº¿æ€§æˆ–è€…åŒæ—¶ä»¥lognå®Œæˆã€‚</p>
<ol>
<li>å¯ä»¥ä½¿ç”¨åºåˆ—ï¼ˆæ•°ç»„æˆ–è€…é“¾è¡¨ï¼‰æ¥å®ç°ã€‚</li>
<li>ç”¨å †å®ç°ã€‚<br>å †ç”Ÿæˆçš„æœ€åæƒ…å†µä¸ºnlgn</li>
</ol>
<h4 id="å †æ’åº"><a href="#å †æ’åº" class="headerlink" title="å †æ’åº"></a>å †æ’åº</h4><ol>
<li>è¿ç»­çš„æ’å…¥æ„å»ºå †ï¼Œç„¶åå†è¿ç»­çš„åˆ é™¤æœ€å¤§å€¼ï¼ˆå¹¶ä¸æ˜¯æœ€ç†æƒ³çš„æƒ…å†µï¼‰</li>
<li>åœ¨åŸæ•°ç»„ä¸ŠåŸåœ°æ„å»ºå †ï¼Œæ•°ç»„è‡ªå³å‘å·¦ä¾æ¬¡åšä¸‹æ²‰æ“ä½œ<br>å…¶ç›¸å½“äºå°†å½“å‰èŠ‚ç‚¹çš„ä½œä¸ºå­å †çš„æ ¹ç»“ç‚¹ï¼Œå…¶ä¸¤ä¸ªå­å †éƒ½å·²ç»æ˜¯å †åºçš„ã€‚<br>ç„¶åäº¤æ¢ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åçš„å…ƒç´ ã€‚ç›´åˆ°æ’åºå®Œæˆã€‚</li>
</ol>
<p>åº”å½“æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ„é€ å †çš„æ–¹å¼æ˜¯<strong>çº¿æ€§å¤æ‚åº¦çš„</strong>ã€‚</p>
<p>ç„¶è€Œä¹‹åçš„æ“ä½œè¿˜æ˜¯éœ€è¦nlgn</p>
<pre><code class="go">func sortArray(nums []int) []int {
    length := len(nums)
    for i:=length/2; i &gt;= 0; i-- {
        fixdown(nums, i)
    }
    for ;length &gt; 1; length--  {
        nums[length-1], nums[0] = nums[0], nums[length-1]
        fixdown(nums[:length-1], 0)
    }
    return nums
}

func fixdown(nums []int, k int) {
    length := len(nums)
    for k &lt; length {
        child := 2*k+1
        if child &lt; length-1 &amp;&amp; (nums[child] &lt; nums[child+1]) {
            child++
        }
        if child &lt; length &amp;&amp; nums[child] &gt; nums[k] {
            nums[child], nums[k] = nums[k], nums[child]
            k = child
        } else {
            break
        }
    }
}</code></pre>
<h3 id="å¤–éƒ¨æ’åº"><a href="#å¤–éƒ¨æ’åº" class="headerlink" title="å¤–éƒ¨æ’åº"></a>å¤–éƒ¨æ’åº</h3><p>å¹³è¡¡å¤šè·¯å½’å¹¶æ’åºã€‚</p>
<p>åˆå§‹åˆ†å¸ƒé+å¤šè·¯å½’å¹¶</p>
<h2 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h2><p>é€šè¿‡ä¸€ä¸ªæ•£åˆ—å‡½æ•°å°†å…³é”®å­—è½¬æ¢ä¸ºè¡¨ä¸­åœ°å€ï¼Œç†æƒ³æƒ…å†µæ˜¯ä¸åŒçš„å…³é”®å­—åœ°å€ä¸åŒï¼Œå¦‚æœç›¸åŒæ—¶åˆ™å‡ºç°å†²çª</p>
<p>ç¬¬äºŒæ­¥å°±æ˜¯å†²çªè§£å†³</p>
<h3 id="å†²çªè§£å†³"><a href="#å†²çªè§£å†³" class="headerlink" title="å†²çªè§£å†³"></a>å†²çªè§£å†³</h3><ol>
<li>é“¾åœ°å€æ³•</li>
</ol>
<p>é€šè¿‡å°†å†²çªçš„ä½ç½®ä½¿ç”¨é“¾è¡¨å‚¨å­˜æ¥è§£å†³å†²çªé—®é¢˜ã€‚</p>
<ol start="2">
<li>å¼€æ”¾å®šå€æ³•</li>
</ol>
<p>çº¿æ€§æ¢æµ‹ã€å¹³æ–¹æ¢æµ‹ã€å†hashç­‰ï¼ŒæŸ¥æ‰¾ä¸‹ä¸€ä¸ªç©ºä½</p>
<h3 id="åŠ¨æ€hash"><a href="#åŠ¨æ€hash" class="headerlink" title="åŠ¨æ€hash"></a>åŠ¨æ€hash</h3><p>å“ˆå¸Œè¡¨åœ¨è¡¨å¿«æ»¡çš„æ—¶å€™æ•ˆç‡ä¼šæ€¥å‰§ä¸‹é™ï¼Œæ‰€ä»¥éœ€è¦åŠ¨æ€çš„æ”¹å˜å…¶å¤§å°ã€‚</p>
<h2 id="ç¬¦å·è¡¨ä¸äºŒå‰æœç´¢æ ‘"><a href="#ç¬¦å·è¡¨ä¸äºŒå‰æœç´¢æ ‘" class="headerlink" title="ç¬¦å·è¡¨ä¸äºŒå‰æœç´¢æ ‘"></a>ç¬¦å·è¡¨ä¸äºŒå‰æœç´¢æ ‘</h2><p>ç¬¦å·è¡¨æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå…¶ä¸­æ•°æ®é¡¹å«æœ‰å…³é”®å­—ï¼Œæ”¯æŒä¸¤ä¸ªåŸºæœ¬æ“ä½œï¼šæ’å…¥æ–°çš„æ•°æ®é¡¹ï¼Œè¿”å›ç»™å®šå…³é”®å­—çš„æ•°æ®é¡¹</p>
<h3 id="å¹³è¡¡äºŒå‰æœç´¢æ ‘"><a href="#å¹³è¡¡äºŒå‰æœç´¢æ ‘" class="headerlink" title="å¹³è¡¡äºŒå‰æœç´¢æ ‘"></a>å¹³è¡¡äºŒå‰æœç´¢æ ‘</h3><p>ä¸‰ç§æ€§èƒ½ä¿éšœæ–¹æ³•ï¼š</p>
<ol>
<li>éšæœºåŒ–</li>
<li>æ‘Šè¿˜</li>
<li>ä¼˜åŒ–</li>
</ol>
<h3 id="çº¢é»‘æ ‘"><a href="#çº¢é»‘æ ‘" class="headerlink" title="çº¢é»‘æ ‘"></a>çº¢é»‘æ ‘</h3><h4 id="2-3-4æ ‘"><a href="#2-3-4æ ‘" class="headerlink" title="2-3-4æ ‘"></a>2-3-4æ ‘</h4><p>ç†æƒ³æ¨¡å‹ï¼Œå…¶è¦ä¹ˆæ²¡æœ‰å­èŠ‚ç‚¹è¦ä¹ˆå­èŠ‚ç‚¹æ˜¯ä»¥ä¸‹ä¸‰ç§èŠ‚ç‚¹ä¹‹ä¸€</p>
<p>2ï¼Œ3ï¼Œ4è¡¨ç¤ºçš„æ˜¯èŠ‚ç‚¹å…³é”®å€¼åˆ’åˆ†å‡ºæ¥çš„åŸŸï¼Œå› æ­¤å¯¹åº”çš„å…³é”®å­—ä¸ªæ•°å°±åº”è¯¥æ˜¯1ï¼Œ2ï¼Œ3</p>
<p>2-3-4æ ‘éš¾ä»¥å®ç°ã€‚<br>çº¢é»‘æ ‘æ˜¯2-3-4æ ‘çš„äºŒå‰å½¢å¼ï¼Œå°†3ï¼Œ4èŠ‚ç‚¹ä¸­çš„å­æ ‘ç”¨çº¢é“¾æ¥è¿æ¥ï¼Œå‰©ä¸‹çš„ç”¨é»‘é“¾æ¥</p>
<p>å®šä¹‰ï¼š</p>
<ol>
<li>èŠ‚ç‚¹æ˜¯çº¢è‰²æˆ–è€…é»‘è‰²</li>
<li>æ ¹ç»“ç‚¹å¿…é¡»æ˜¯é»‘è‰²</li>
<li>çº¢è‰²èŠ‚ç‚¹å­èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²</li>
<li>ä¸€ä¸ªèŠ‚ç‚¹åˆ°æ ‘çš„åº•éƒ¨æ‰€æœ‰è·¯å¾„ä¸Šçš„é»‘è‰²èŠ‚ç‚¹æ•°åº”å½“ç›¸ç­‰ã€‚</li>
</ol>
<h2 id="å•æºæœ€çŸ­è·¯å¾„ç®—æ³•"><a href="#å•æºæœ€çŸ­è·¯å¾„ç®—æ³•" class="headerlink" title="å•æºæœ€çŸ­è·¯å¾„ç®—æ³•"></a>å•æºæœ€çŸ­è·¯å¾„ç®—æ³•</h2><h3 id="relaxæ“ä½œ"><a href="#relaxæ“ä½œ" class="headerlink" title="relaxæ“ä½œ"></a>relaxæ“ä½œ</h3><p><img src="https://i.loli.net/2020/03/07/A1R7EB8P6hTV9am.jpg" alt="Jietu20200307-184224@2x"></p>
<p>è·¯å¾„æ¾å¼›æ€§è´¨</p>
<p>å‰é©±å­å›¾ã€å‰é©±èŠ‚ç‚¹ã€‚</p>
<h3 id="Bellman-fordç®—æ³•"><a href="#Bellman-fordç®—æ³•" class="headerlink" title="Bellman-fordç®—æ³•"></a>Bellman-fordç®—æ³•</h3><p>æŒ‰ç…§èŠ‚ç‚¹æ•°å¯¹äºæ¯ä¸€æ¡è¾¹è¿›è¡Œæ¾å¼›æ“ä½œã€‚Oï¼ˆVEï¼‰</p>
<p>å¯ä»¥å¯¹å«è´Ÿæƒé‡çš„æœ‰å‘å›¾æ“ä½œã€‚</p>
<p>å¦‚æœä¹‹åè¿˜å¯ä»¥æ¾å¼›ï¼Œè¯´æ˜å­˜åœ¨è´Ÿæƒé‡çš„ç¯ã€‚</p>
<h3 id="dijkstraç®—æ³•"><a href="#dijkstraç®—æ³•" class="headerlink" title="dijkstraç®—æ³•"></a>dijkstraç®—æ³•</h3><p>è¦æ±‚æ¯ä¸€æ¡è¾¹éƒ½æ˜¯éè´Ÿæƒé‡ã€‚</p>
<p>æ˜¯ä¸€ç§è´ªå¿ƒç®—æ³•ï¼Œæ€»é€‰æ‹©æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼æœ€å°çš„èŠ‚ç‚¹åŠ å…¥sä¸­ã€‚</p>
<p>å…¶æ—¶é—´å¤æ‚åº¦å’ŒæŸ¥æ‰¾æœ€å°å€¼çš„ç®—æ³•æœ‰å…³ã€‚</p>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>dataStructure</tag>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>cçº¿ç¨‹æ± å®ç°</title>
    <url>/blog/2020/03/05/c%E7%BA%BF%E7%A8%8B%E6%B1%A0%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<p>è‡ªå·±ç…§ç€githubå’Œcsdné‡Œåˆ«çš„å¤§å“¥å†™çš„ä»£ç å®Œæˆäº†è‡ªå·±çš„çº¿ç¨‹æ± ã€‚</p>
<p>å‚è€ƒè¿æ¥å¦‚ä¸‹ï¼š</p>
<p><a href="https://blog.csdn.net/virgofarm/article/details/80994153" target="_blank" rel="noopener">https://blog.csdn.net/virgofarm/article/details/80994153</a></p>
<p><a href="https://github.com/Pithikos/C-Thread-Pool" target="_blank" rel="noopener">https://github.com/Pithikos/C-Thread-Pool</a></p>
<p><a href="https://github.com/mbrossard/threadpool" target="_blank" rel="noopener">https://github.com/mbrossard/threadpool</a></p>
<a id="more"></a>

<h1 id="ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± "><a href="#ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± " class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± "></a>ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± </h1><blockquote>
<p>é¢è¯•çš„æ—¶å€™é—®åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ„Ÿè§‰æ²¡æœ‰å›ç­”åˆ°ç‚¹å­ä¸Š</p>
</blockquote>
<ol>
<li><p>æœåŠ¡å™¨çš„åˆ›å»ºå’Œé”€æ¯å¼€é”€å¾ˆå¤§ï¼Œå¦‚æœæ¯ä¸ªè¯·æ±‚éƒ½ååˆ†çŸ­æš‚ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨åˆ›å»ºå’Œé”€æ¯çš„è¿‡ç¨‹ä¸­æ¶ˆè€—å¤§é‡çš„èµ„æº</p>
</li>
<li><p>æ´»åŠ¨çš„çº¿ç¨‹ä¹Ÿä¼šæ¶ˆè€—èµ„æºï¼Œå¦‚æœå¯¹äºçº¿ç¨‹çš„æ•°é‡æ²¡æœ‰é™åˆ¶çš„è¯ï¼Œå°±ä¼šåœ¨å¤§é‡è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨çš„æ—¶å€™åˆ›å»ºå‡ºå¤§é‡çš„å·¥ä½œçº¿ç¨‹ï¼Œä¼šæ¶ˆè€—å¤§é‡çš„å†…å­˜ç©ºé—´ï¼Œå½±å“æœåŠ¡å™¨çš„ä½¿ç”¨ã€‚</p>
</li>
<li><p>å¦‚æœçº¿ç¨‹çš„æ•°ç›®å›ºå®šï¼Œå¹¶ä¸”æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰å¾ˆé•¿çš„ç”Ÿå‘½å‘¨æœŸï¼Œé‚£ä¹ˆçº¿ç¨‹åˆ‡æ¢ä¹Ÿå°±æ˜¯å›ºå®šçš„ï¼Œè¿™æ ·å°±ä¼šç»™æœåŠ¡å™¨å‡è½»å¾ˆå¤šå‹åŠ›ï¼Œä½†æ˜¯å¦‚æœé¢‘ç¹çš„åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ï¼Œå¿…å°†å¯¼è‡´é¢‘ç¹çš„åˆ‡æ¢çº¿ç¨‹ï¼Œä½¿å¾—çº¿ç¨‹ä¹‹é—´çš„åˆ‡æ¢ä¸å†éµå¾ªç³»ç»Ÿçš„å›ºå®šåˆ‡æ¢å‘¨æœŸï¼Œçº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ä¹Ÿä¼šå¢å¤§å¾ˆå¤šã€‚</p>
</li>
</ol>
<h2 id="pthread-cond-t"><a href="#pthread-cond-t" class="headerlink" title="pthread_cond_t"></a>pthread_cond_t</h2><p><a href="https://blog.csdn.net/chengonghao/article/details/51779279" target="_blank" rel="noopener">https://blog.csdn.net/chengonghao/article/details/51779279</a></p>
<p>åœ¨è¯¦ç»†çš„è¯´æ˜çº¿ç¨‹æ± çš„æ„æˆä¹‹å‰æˆ‘ä»¬é¦–å…ˆäº†è§£ä¸€ä¸‹pthread_cond_tï¼Œè¿™ä¸ªå«åšæ¡ä»¶å˜é‡ï¼Œå¯ä»¥å’Œpthread_mutex_tä¸€èµ·å®Œæˆè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚</p>
<p>æ¡ä»¶å˜é‡çš„ä½œç”¨å°±æ˜¯ä½¿è¿›ç¨‹é˜»å¡åœ¨æ¡ä»¶å˜é‡ä¸Šï¼Œå½“å…¶æ¡ä»¶æ»¡è¶³çš„æ—¶å€™å”¤é†’çº¿ç¨‹ï¼Œå®Œæˆæ“ä½œ</p>
<p>é¦–å…ˆï¼Œpthread_cond_tå…·æœ‰äº”ä¸ªå‡½æ•°ï¼š</p>
<pre><code class="c">/* åˆå§‹åŒ–ä¸€ä¸ªæ¡ä»¶å˜é‡ */
int pthread_cond_init (pthread_cond_t* cond, pthread_condattr_t *cond_attr);

/* é”€æ¯ä¸€ä¸ªæ¡ä»¶å˜é‡ */
int pthread_cond_destroy(pthread_cond_t* cond);

/* ä»¤ä¸€ä¸ªæ¶ˆè´¹è€…ç­‰å¾…åœ¨æ¡ä»¶å˜é‡ä¸Š */
int pthread_cond_wait(pthread_cond_t* cond);

/* ç”Ÿäº§è€…é€šçŸ¥ç­‰å¾…åœ¨æ¡ä»¶å˜é‡ä¸Šçš„æ¶ˆè´¹è€… */
int pthread_cond_signal(pthread_cond_t* cond);

/* ç”Ÿäº§è€…å‘æ¶ˆè´¹è€…å¹¿æ’­æ¶ˆæ¯ */
int pthread_cond_broadcast(pthread_cond_t* cond);</code></pre>
<p>å…¶ä¸­æœ€ä¸»è¦çš„å°±æ˜¯waitæ–¹æ³•ï¼Œä»–å¯ä»¥ä½¿è¿›ç¨‹åœ¨è¿™ä¸ªè¯­å¥ä¸Šé˜»å¡ï¼Œå½“signalæˆ–è€…broadcastæ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™è¢«å”¤é†’ã€‚</p>
<p>condå’Œmutexçš„ç»„åˆä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="c">/* consumet*/
pthread_mutex_lock(&amp;mutex); // æ‹¿åˆ°äº’æ–¥é”ï¼Œè¿›å…¥ä¸´ç•ŒåŒº
while (false){
    pthread_cond_wait(cond, mutex); // ä»¤è¿›ç¨‹ç­‰å¾…åœ¨æ¡ä»¶å˜é‡ä¸Šä¿®æ”¹ä»¶
}    
pthread_mutex_unlock(&amp;mutex); // é‡Šæ”¾äº’æ–¥é”

/*porduct*/
pthread_mutex_lock(&amp;mutex); // æ‹¿åˆ°äº’æ–¥é”ï¼Œè¿›å…¥ä¸´ç•ŒåŒº
è®¾ç½®æ¡ä»¶ä¸ºçœŸ
pthread_cond_signal(cond); // é€šçŸ¥ç­‰å¾…åœ¨æ¡ä»¶å˜é‡ä¸Šçš„æ¶ˆè´¹è€…
pthread_mutex_unlock(&amp;mutex); // é‡Šæ”¾äº’æ–¥é”</code></pre>
<p>æŒ‰ç…§æˆ‘ä»¬ä¹‹å‰çš„çŸ¥è¯†ï¼Œè¿™ä¸ªç¨‹åºæ˜¯ä¼šæ­»é”çš„ï¼Œä½†å®é™…ä¸Šï¼Œç¨‹åºè¿è¡Œåˆ°<code>pthread_cond_wait</code>çš„æ—¶å€™ï¼Œçº¿ç¨‹ä¼šå…ˆé‡Šæ”¾mutexï¼Œåœ¨è¢«å”¤é†’ä¹‹åé‡æ–°æ‹¿å›mutexã€‚</p>
<p>è¿™æ ·ä»¥æ¥æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡mutexå’Œcondçš„ç»„åˆå®Œæˆå¦ä¸€ç§æ¨¡å¼çš„çº¿ç¨‹é€šä¿¡ã€‚</p>
<h2 id="çº¿ç¨‹æ± å®ç°"><a href="#çº¿ç¨‹æ± å®ç°" class="headerlink" title="çº¿ç¨‹æ± å®ç°"></a>çº¿ç¨‹æ± å®ç°</h2><p>é¦–å…ˆæˆ‘ä»¬æ¥è¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± ï¼š<br>å¦‚æœä¸€ä¸ªåº”ç”¨éœ€è¦é¢‘ç¹çš„åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ï¼Œè€Œä»»åŠ¡æ‰§è¡Œçš„æ—¶é—´åˆéå¸¸çŸ­ï¼Œè¿™æ ·çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯çš„å¸¦æ¥çš„å¼€é”€å°±ä¸å®¹å¿½è§†ï¼Œè¿™æ—¶ä¹Ÿæ˜¯çº¿ç¨‹æ± è¯¥å‡ºåœºçš„æœºä¼šäº†</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œçº¿ç¨‹æ± çš„ç»„æˆä¸»è¦æ˜¯ï¼š</p>
<ol>
<li><p>çº¿ç¨‹ç®¡ç†å™¨ï¼šç”¨äºåˆ›å»ºå¹¶ç®¡ç†çº¿ç¨‹æ± ã€‚</p>
</li>
<li><p>å·¥ä½œçº¿ç¨‹ï¼šçº¿ç¨‹æ± ä¸­å®é™…æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹ã€‚åœ¨åˆå§‹åŒ–çº¿ç¨‹æ—¶ä¼šé¢„å…ˆåˆ›å»ºå¥½å›ºå®šæ•°ç›®çš„çº¿ç¨‹åœ¨æ± ä¸­ï¼Œè¿™äº›åˆå§‹åŒ–çš„çº¿ç¨‹ä¸€èˆ¬å¤„äºç©ºé—²çŠ¶æ€ï¼Œä¸€èˆ¬ä¸å ç”¨CPUï¼Œå ç”¨è¾ƒå°çš„å†…å­˜ç©ºé—´ã€‚</p>
</li>
<li><p>ä»»åŠ¡æ¥å£ï¼šæ¯ä¸ªä»»åŠ¡å¿…é¡»å®ç°çš„æ¥å£ï¼Œå½“çº¿ç¨‹æ± çš„ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ‰å¯æ‰§è¡Œä»»åŠ¡æ—¶ï¼Œè¢«ç©ºé—²çš„å·¥ä½œçº¿ç¨‹è°ƒå»æ‰§è¡Œï¼ˆçº¿ç¨‹çš„é—²ä¸å¿™æ˜¯é€šè¿‡äº’æ–¥é‡å®ç°çš„ï¼Œè·Ÿå‰é¢æ–‡ç« ä¸­çš„è®¾ç½®æ ‡å¿—ä½å·®ä¸å¤šï¼‰ï¼ŒæŠŠä»»åŠ¡æŠ½è±¡å‡ºæ¥å½¢æˆæ¥å£ï¼Œå¯ä»¥åšåˆ°çº¿ç¨‹æ± ä¸å…·ä½“çš„ä»»åŠ¡æ— å…³ã€‚</p>
</li>
<li><p>ä»»åŠ¡é˜Ÿåˆ—ï¼šç”¨æ¥å­˜æ”¾æ²¡æœ‰å¤„ç†çš„ä»»åŠ¡ï¼Œæä¾›ä¸€ç§ç¼“å†²æœºåˆ¶ï¼Œå®ç°è¿™ç§ç»“æ„æœ‰å¥½å‡ ç§æ–¹æ³•ï¼Œå¸¸ç”¨çš„æ˜¯é˜Ÿåˆ—ï¼Œä¸»è¦è¿ç”¨å…ˆè¿›å…ˆå‡ºåŸç†ï¼Œå¦å¤–ä¸€ç§æ˜¯é“¾è¡¨ä¹‹ç±»çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥åŠ¨æ€çš„ä¸ºå®ƒåˆ†é…å†…å­˜ç©ºé—´ï¼Œåº”ç”¨ä¸­æ¯”è¾ƒçµæ´»ï¼Œä¸‹æ–‡ä¸­å°±æ˜¯ç”¨åˆ°çš„é“¾è¡¨ã€‚</p>
</li>
</ol>
<p>é™„ä¸Šä»£ç ï¼š</p>
<p>threadpool.h</p>
<pre><code class="c">#include &lt;stdlib.h&gt;
#include &lt;pthread.h&gt;
#include &lt;unistd.h&gt;

#define MAX_THREAD 5
#define MAX_TASKS 64


/* the interface of the work*/
typedef struct 
{
    void (*func) (void*);
    void *argument;
}tasks;

/* the struct of cond and mutex
 *to complish complish comunication between threads*/

typedef struct 
{
    pthread_cond_t cond;
    pthread_mutex_t locker;

}condition;


/* the definition of the erro type */
typedef enum {
    threadpool_invalid        = -1,
    threadpool_lock_failure   = -2,
    threadpool_queue_full     = -3,
    threadpool_shutdown       = -4,
    threadpool_thread_failure = -5
} threadpool_error_t;

/* 
 * the definition of the threadpool
 * @var threads,  array of pthread
 * @var cur_cond, condition pointer
 * @var tasks_queue, the queue of the task
 * @var thread_count, the num in threadpool
 * @var queue_head, the head of queue
 * @var queue_tail, the tail of queue
 * @var shutdown_flag, tag for shutdown operation
 * @var queue_size, the size of queue
 * @var started, the num of running threads
 * @var pending_count, the num of pending task in queue
 * */ 

typedef struct
{
    pthread_t* threads;
    condition* cur_cond;
    tasks *tasks_queue;
    int thread_count;
    int queue_head;
    int queue_tail;
    int shutdown_flag;
    int queue_size;
    int started;
    int pending_count;
}threadpool;



threadpool* thread_pool_init(int, int);

int threadpool_add(threadpool*, void (*func)(void*), void*);

int threadpool_destroy(threadpool*);


/* initial the condition struct*/
condition* condition_init(void) {
    condition* newcond = (condition*)malloc(sizeof(condition));
    if (newcond == NULL) {
        goto err;
    }

    if ((pthread_cond_init(&amp;newcond-&gt;cond, NULL) != 0) 
    || (pthread_mutex_init(&amp;newcond-&gt;locker, NULL) != 0)) {
        goto err;
    }

    return newcond;

err:
    if (newcond != NULL) {
        free(newcond);
    }
    return NULL;
}</code></pre>
<p>threadpool.c</p>
<pre><code class="c">#include &quot;threadpool.h&quot;
static void* threadpool_thread_run(void*);

condition* condition_init(void) {
    condition* newcond = (condition*)malloc(sizeof(condition));
    if (newcond == NULL) {
        goto err;
    }

    if ((pthread_cond_init(&amp;newcond-&gt;cond, NULL) != 0) 
    || (pthread_mutex_init(&amp;newcond-&gt;locker, NULL) != 0)) {
        goto err;
    }

    return newcond;

err:
    if (newcond != NULL) {
        free(newcond);
    }
    return NULL;
}

threadpool* threadpool_init(int thread_num, int queue_size)
{
    threadpool* pool;

    if (thread_num&lt;=0 || thread_num &gt; MAX_THREAD 
    || queue_size &lt;= 0 || queue_size &gt; MAX_TASKS ) {
        return NULL;
    }

    pool = (threadpool*)malloc(sizeof(threadpool));
    if (pool == NULL) {
        goto err;
    }

    /* initialize*/
    pool-&gt;thread_count = 0;
    pool-&gt;queue_head = pool-&gt;queue_tail = pool-&gt;pending_count = 0;
    pool-&gt;shutdown_flag = pool-&gt;started = 0;
    pool-&gt;queue_size = queue_size;

    pool-&gt;threads = (pthread_t *)malloc(sizeof(pthread_t) * thread_num);
    pool-&gt;tasks_queue = (tasks*)malloc(sizeof(tasks)*queue_size);
    pool-&gt;cur_cond = condition_init();

    if (pool-&gt;threads == NULL || pool-&gt;cur_cond == NULL 
    || pool-&gt;tasks_queue == NULL) {
        goto err;
    }

    for (int i = 0; i&lt;thread_num; i++) {
        if (pthread_create(&amp;pool-&gt;threads[i], NULL,
        threadpool_thread_run, (void*)pool) != 0) {
            threadpool_destroy(pool);
            return NULL;
        }
        pool-&gt;thread_count++;
        pool-&gt;started++;
    }

    return pool;

err:
    if (pool != NULL) {

    }
    return NULL;
}

int threadpool_add(threadpool* pool, void (*func)(void*), void* argument)
{
    int err = 0;

    if (pool == NULL || func == NULL) {
        return threadpool_invalid;
    }

    condition* curcond = pool-&gt;cur_cond;
    if(pthread_mutex_lock(&amp;curcond-&gt;locker) != 0) {
        return threadpool_lock_failure;
    }

    if (pool-&gt;shutdown_flag != 0) {
        return threadpool_shutdown;
    }

    if (pool-&gt;queue_size == pool-&gt;pending_count) {
        return threadpool_queue_full;
    }

    pool-&gt;tasks_queue[pool-&gt;queue_tail].func = func;
    pool-&gt;tasks_queue[pool-&gt;queue_tail].argument = argument;
    pool-&gt;queue_tail = (pool-&gt;queue_tail+1) % pool-&gt;queue_size;
    pool-&gt;pending_count++;

    if (pthread_cond_signal(&amp;curcond-&gt;cond) != 0) {
        return threadpool_lock_failure;
    }

    if(pthread_mutex_unlock(&amp;curcond-&gt;locker) != 0) {
        return threadpool_lock_failure;
    }

    return err;
}

static void * threadpool_thread_run(void *thepool) {
    threadpool* pool = (threadpool*) thepool;
    tasks task;

    for(;;) {
        pthread_mutex_lock(&amp;pool-&gt;cur_cond-&gt;locker);

        while(pool-&gt;pending_count == 0 &amp;&amp; !(pool-&gt;shutdown_flag)) {
            pthread_cond_wait(&amp;pool-&gt;cur_cond-&gt;cond, &amp;pool-&gt;cur_cond-&gt;locker);
        }

        if(pool-&gt;shutdown_flag) {
            break;
        }

        task.func = pool-&gt;tasks_queue[pool-&gt;queue_head].func;
        task.argument = pool-&gt;tasks_queue[pool-&gt;queue_head].argument;
        pool-&gt;queue_head = (pool-&gt;queue_head + 1) % pool-&gt;queue_size;
        pool-&gt;pending_count--;

        pthread_mutex_unlock(&amp;pool-&gt;cur_cond-&gt;locker);

        (*(task.func))(task.argument);
    }

    pool-&gt;started--;

    pthread_exit(NULL);
    return NULL;
}

int threadpool_destroy(threadpool* pool) {
    if (pool == NULL) {
        return -1;
    }

    if (pool-&gt;shutdown_flag) {
        return -1;
    }

    pthread_cond_broadcast(&amp;pool-&gt;cur_cond-&gt;cond);

    for (int i=0; i&lt; pool-&gt;thread_count; i++) {
        pthread_join(pool-&gt;threads[i], NULL);
    }
    free(pool-&gt;threads);
    free(pool-&gt;tasks_queue);

    pthread_mutex_destroy(&amp;(pool-&gt;cur_cond-&gt;locker));
    pthread_cond_destroy(&amp;(pool-&gt;cur_cond-&gt;cond));

    free(pool);
    pool = NULL;
    return 0;
}
</code></pre>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>threadpool</tag>
        <tag>c</tag>
      </tags>
  </entry>
  <entry>
    <title>golangæ‰“è¡¥ä¸</title>
    <url>/blog/2020/03/05/golang%E6%89%93%E8%A1%A5%E4%B8%81/</url>
    <content><![CDATA[<p>æ ‡é¢˜å³å†…å®¹ğŸ˜Š</p>
<a id="more"></a>

<h2 id="for"><a href="#for" class="headerlink" title="for"></a>for</h2><ol>
<li>å­˜åœ¨é«˜çº§breakè¯­å¥å¯ä»¥è·³å‡ºå¾ªç¯åˆ°æŒ‡å®šä½ç½®</li>
</ol>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
)

func main() {
    fmt.Println(&quot;1&quot;)

Exit:
    for i := 0; i &lt; 9; i++ {
        for j := 0; j &lt; 9; j++ {
            if i+j &gt; 15 {
                fmt.Print(&quot;exit&quot;)
                break Exit
            }
        }
    }

    fmt.Println(&quot;3&quot;)
}</code></pre>
<ol start="2">
<li>forå¾ªç¯ä¸æ”¯æŒä»¥é€—å·ä¸ºé—´éš”çš„å¤šä¸ªèµ‹å€¼è¯­å¥ï¼Œå¿…é¡»ä½¿ç”¨å¹³è¡Œèµ‹å€¼çš„æ–¹å¼æ¥åˆå§‹åŒ–å¤šä¸ªå˜é‡</li>
</ol>
<p>ç­‰å·å·¦è¾¹å’Œå³è¾¹å«æœ‰å¤šä¸ªè¡¨è¾¾å¼ï¼Œå°±æ˜¯å¹³è¡Œèµ‹å€¼ã€‚<br>ç”±äºGoæ²¡æœ‰é€—å·è¡¨è¾¾å¼ï¼Œè€Œ++å’Œâ€“æ˜¯è¯­å¥è€Œä¸æ˜¯è¡¨è¾¾å¼ï¼Œå¦‚æœæƒ³åœ¨forä¸­æ‰§è¡Œå¤šä¸ªå˜é‡,éœ€è¦ä½¿ç”¨å¹³è¡Œèµ‹å€¼</p>
<pre><code class="go">for i, j := 1, 10; i &lt; j; i,j=i+1,j+1 {  //æ­»å¾ªç¯
    fmt.Println(i)
}

// wrong example
for i, j := 1, 10; i &lt; j; i++,j++ {
    fmt.Println(i)
}
</code></pre>
<ol start="3">
<li>forè¯­å¥ä¸­çš„conditionæ¯æ¬¡å¾ªç¯éƒ½è¦æ‰§è¡Œä¸€æ¬¡ï¼Œå› æ­¤ä¸è¦æŠŠconditionå†™å¤æ‚ã€‚</li>
</ol>
<pre><code class="go">// use as an example, do not use len(str)
for i=0; i&lt; len(str); i++ {
    fmt.Println(str[i])
}</code></pre>
<h2 id="channel"><a href="#channel" class="headerlink" title="channel"></a>channel</h2><p>æ— ç¼“å†²çš„channelæ˜¯åŒæ­¥çš„ï¼Œè€Œæœ‰ç¼“å†²çš„channelæ˜¯éåŒæ­¥çš„<br>æ¯”å¦‚</p>
<p>c1:=make(chan int)        æ— ç¼“å†²</p>
<p>c2:=make(chan int,1)      æœ‰ç¼“å†²</p>
<p>c1&lt;-1                            </p>
<p>æ— ç¼“å†²çš„ ä¸ä»…ä»…æ˜¯ å‘ c1 é€šé“æ”¾ 1 è€Œæ˜¯ ä¸€ç›´è¦æœ‰åˆ«çš„æºç¨‹ &lt;-c1 æ¥æ‰‹äº† è¿™ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆc1&lt;-1æ‰ä¼šç»§ç»­ä¸‹å»ï¼Œè¦ä¸ç„¶å°±ä¸€ç›´é˜»å¡ç€</p>
<p>è€Œ c2&lt;-1 åˆ™ä¸ä¼šé˜»å¡ï¼Œå› ä¸ºç¼“å†²å¤§å°æ˜¯1 åªæœ‰å½“ æ”¾ç¬¬äºŒä¸ªå€¼çš„æ—¶å€™ ç¬¬ä¸€ä¸ªè¿˜æ²¡è¢«äººæ‹¿èµ°ï¼Œè¿™æ—¶å€™æ‰ä¼šé˜»å¡ã€‚æ‰“ä¸ªæ¯”å–»<br>æ— ç¼“å†²çš„  å°±æ˜¯ä¸€ä¸ªé€ä¿¡äººå»ä½ å®¶é—¨å£é€ä¿¡ ï¼Œä½ ä¸åœ¨å®¶ ä»–ä¸èµ°ï¼Œä½ ä¸€å®šè¦æ¥ä¸‹ä¿¡ï¼Œä»–æ‰ä¼šèµ°, æ— ç¼“å†²ä¿è¯ä¿¡èƒ½åˆ°ä½ æ‰‹ä¸Šã€‚<br>æœ‰ç¼“å†²çš„ å°±æ˜¯ä¸€ä¸ªé€ä¿¡äººå»ä½ å®¶ä»åˆ°ä½ å®¶çš„ä¿¡ç®± è½¬èº«å°±èµ° ï¼Œé™¤éä½ çš„ä¿¡ç®±æ»¡äº† ä»–å¿…é¡»ç­‰ä¿¡ç®±ç©ºä¸‹æ¥ï¼Œæœ‰ç¼“å†²çš„ï¼Œä¿è¯ä¿¡èƒ½è¿›ä½ å®¶çš„é‚®ç®±</p>
<h2 id="å€¼ç±»å‹å’Œé¥®ç”¨ç±»å‹"><a href="#å€¼ç±»å‹å’Œé¥®ç”¨ç±»å‹" class="headerlink" title="å€¼ç±»å‹å’Œé¥®ç”¨ç±»å‹"></a>å€¼ç±»å‹å’Œé¥®ç”¨ç±»å‹</h2><p>golangä¸­åˆ†ä¸ºå€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹</p>
<p>å€¼ç±»å‹åˆ†åˆ«æœ‰ï¼šintç³»åˆ—ã€floatç³»åˆ—ã€boolã€stringã€æ•°ç»„å’Œç»“æ„ä½“<br>å¼•ç”¨ç±»å‹æœ‰ï¼šæŒ‡é’ˆã€sliceåˆ‡ç‰‡ã€ç®¡é“channelã€æ¥å£interfaceã€mapã€å‡½æ•°ç­‰</p>
<p>å€¼ç±»å‹çš„ç‰¹ç‚¹æ˜¯ï¼šå˜é‡ç›´æ¥å­˜å‚¨å€¼ï¼Œå†…å­˜é€šå¸¸åœ¨æ ˆä¸­åˆ†é…<br>å¼•ç”¨ç±»å‹çš„ç‰¹ç‚¹æ˜¯ï¼šå˜é‡å­˜å‚¨çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€å¯¹åº”çš„ç©ºé—´é‡Œæ‰æ˜¯çœŸæ­£å­˜å‚¨çš„å€¼ï¼Œå†…å­˜é€šå¸¸åœ¨å †ä¸­åˆ†é…</p>
<h2 id="å¸¸é‡ç±»å‹"><a href="#å¸¸é‡ç±»å‹" class="headerlink" title="å¸¸é‡ç±»å‹"></a>å¸¸é‡ç±»å‹</h2><p>Goè¯­è¨€çš„å¸¸é‡æœ‰ä¸ªä¸åŒå¯»å¸¸ä¹‹å¤„ã€‚è™½ç„¶ä¸€ä¸ªå¸¸é‡å¯ä»¥æœ‰ä»»æ„æœ‰ä¸€ä¸ªç¡®å®šçš„åŸºç¡€ç±»å‹ï¼Œä¾‹å¦‚intæˆ–float64ï¼Œæˆ–è€…æ˜¯ç±»ä¼¼time.Durationè¿™æ ·å‘½åçš„åŸºç¡€ç±»å‹ï¼Œä½†æ˜¯è®¸å¤šå¸¸é‡å¹¶æ²¡æœ‰ä¸€ä¸ªæ˜ç¡®çš„åŸºç¡€ç±»å‹ã€‚ç¼–è¯‘å™¨ä¸ºè¿™äº›æ²¡æœ‰æ˜ç¡®çš„åŸºç¡€ç±»å‹çš„æ•°å­—å¸¸é‡æä¾›æ¯”åŸºç¡€ç±»å‹æ›´é«˜ç²¾åº¦çš„ç®—æœ¯è¿ç®—ï¼›ä½ å¯ä»¥è®¤ä¸ºè‡³å°‘æœ‰256bitçš„è¿ç®—ç²¾åº¦ã€‚è¿™é‡Œæœ‰å…­ç§æœªæ˜ç¡®ç±»å‹çš„å¸¸é‡ç±»å‹ï¼Œåˆ†åˆ«æ˜¯æ— ç±»å‹çš„å¸ƒå°”å‹ã€æ— ç±»å‹çš„æ•´æ•°ã€æ— ç±»å‹çš„å­—ç¬¦ã€æ— ç±»å‹çš„æµ®ç‚¹æ•°ã€æ— ç±»å‹çš„å¤æ•°ã€æ— ç±»å‹çš„å­—ç¬¦ä¸²ã€‚</p>
<h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><p>GOè¯­è¨€ä¸­å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥ä¸èƒ½å¯¹å­—ç¬¦ä¸²ä¸­æŸä¸ªå­—ç¬¦å•ç‹¬èµ‹å€¼ã€‚<br>å­—ç¬¦ä¸²ä¸æ”¯æŒä¸‹æ ‡æ“ä½œã€‚</p>
<h2 id="init"><a href="#init" class="headerlink" title="init"></a>init</h2><p><a href="https://zhuanlan.zhihu.com/p/34211611" target="_blank" rel="noopener">zhihu</a></p>
<h2 id="go-vet"><a href="#go-vet" class="headerlink" title="go vet"></a>go vet</h2><p>a tool in go to find the bugs in your code, <a href="https://studygolang.com/articles/9619" target="_blank" rel="noopener">more details</a>.</p>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>go</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcodeé¢è¯•æ¨¡æ‹Ÿ</title>
    <url>/blog/2020/03/04/leetcode%E9%9D%A2%E8%AF%95%E6%A8%A1%E6%8B%9F/</url>
    <content><![CDATA[<p>æ–¥å·¨èµ„è´­ä¹°leetcodeä¼šå‘˜ä¹‹åæ‹¥æœ‰çš„äººä¸Šäººä½“éªŒğŸ’©</p>
<a id="more"></a>

<h2 id="è…¾è®¯"><a href="#è…¾è®¯" class="headerlink" title="è…¾è®¯"></a>è…¾è®¯</h2><p><img src="https://i.loli.net/2020/03/04/Zgi7DmCY4dwMyue.jpg" alt="Jietu20200304-173009@2x"></p>
<p>èŠ±äº†å¾ˆé•¿æ—¶é—´åœ¨è¿™é“é¢˜ä¸Šï¼ŒåŸºæœ¬ä¸Šç®—æ˜¯æš´åŠ›è§£æ³•ï¼Œéå†æ•°ç»„ï¼Œç”¨hashè¡¨å­˜ä¸‹æ¥ï¼Œä¹‹åç”¨æ•°ç»„ä¿å­˜å“ˆå¸Œè¡¨çš„keyï¼Œæ’åºåå€’ç½®éå†ï¼Œå¯èƒ½çš„é—®é¢˜æŒ‡å‡ºåœ¨sum&gt;=store[i]å¯èƒ½å­˜åœ¨åœ¨ä¹‹å‰å°±å·²ç»æ»¡è¶³æ¡ä»¶çš„æƒ…å†µã€‚</p>
<p>æ³¨æ„ï¼Œå½“éå†äº†ä¸€ééƒ½ä¸æˆåŠŸæ—¶ï¼Œè¿”å›çš„å€¼ä¸åº”è¯¥æ˜¯0ï¼Œè€Œåº”å½“æ˜¯æ•°ç»„é•¿åº¦ã€‚</p>
<pre><code class="go">func hIndex(citations []int) int {
    m := make(map[int]int)
    for _, value := range citations {
        m[value]++
    }
    store := make([]int, 0)
    for k := range m {
        store = append(store, k)
    }
    sort.Ints(store)
    sum := 0
    for i := len(store) - 1; i &gt;= 0; i-- {
        sum += m[store[i]]
        if sum &gt;= store[i] {
            temp := sum - m[store[i]]
            if i != len(store)-1 &amp;&amp; temp &gt;= store[i] {
                return temp
            }
            return store[i]
        }
    }
    if len(citations) &gt; 0 {
        return len(citations)
    }
    return 0
}</code></pre>
<p><img src="https://i.loli.net/2020/03/04/8RwDzxycTrYk4Es.jpg" alt="Jietu20200304-173802@2x"></p>
<p>è¿™é¢˜æˆ‘æ˜¯åšè¿‡çš„ï¼Œé•¿åº¦è¡¥é½ä¹‹åä¾æ¬¡åŠ å°±è¡Œäº†</p>
<pre><code class="go">func addTwoNumbers(l1 *ListNode, l2 *ListNode) *ListNode {
    firstLength := getlength(l1)
    secondLength := getlength(l2)
    add := &amp;ListNode{0, nil}
    tail := add
    if firstLength &gt; secondLength {
        for i := 1; i &lt; (firstLength - secondLength); i++ {
            tail.Next = &amp;ListNode{0, nil}
            tail = tail.Next
        }
        tail.Next = l2
        l2 = add
    } else if firstLength &lt; secondLength {
        for i := 1; i &lt; (secondLength - firstLength); i++ {
            tail.Next = &amp;ListNode{0, nil}
            tail = tail.Next
        }
        tail.Next = l1
        l1 = add
    }
    if calculate(l1, l2) == 1 {
        head := &amp;ListNode{1, l1}
        return head
    }
    return l1
}

func getlength(root *ListNode) int {
    res := 0
    for root != nil {
        res++
        root = root.Next
    }
    return res
}

func calculate(l1, l2 *ListNode) int {
    if l1 == nil &amp;&amp; l2 == nil {
        return 0
    }
    res := l1.Val + l2.Val + calculate(l1.Next, l2.Next)
    l1.Val = res % 10
    return res / 10
}</code></pre>
<p><img src="https://i.loli.net/2020/03/04/TBntFlXm3bpoeAH.jpg" alt="Jietu20200304-173955@2x"></p>
<p>è½¬æˆæ•°ç»„ä¹‹åï¼ŒåŒæŒ‡é’ˆéå†ã€‚</p>
<pre><code class="go">func isPalindrome(x int) bool {
    if x &lt; 0 {
        return false
    }
    store := make([]int, 0)
    for ;x &gt; 0; x /= 10 {
        store = append(store, x%10)
    }
    begin, end := 0, len(store)-1
    for begin &lt;= end {
        if store[begin] != store[end] {
            return false
        }
        begin++
        end--
    }
    return true
}</code></pre>
<p>æ¯”ä¸Šé¢é‚£ä¸ªè¦æœºæ™ºä¸€ç‚¹ï¼ŒæŠŠä¸€ä¸ªæ•°åˆ†æˆä¸¤ä¸ªæ¥åˆ¤å®šã€‚</p>
<pre><code class="go">func isPalindrome(x int) bool {
    if x &lt; 0 ||(x%10==0 &amp;&amp; x!=0){
        return false
    }

    var revertedNumber int
    for x &gt; revertedNumber{
        revertedNumber = revertedNumber * 10 + x%10
        x/=10
    }
    return revertedNumber == x || revertedNumber /10 == x
}</code></pre>
<p><img src="https://i.loli.net/2020/03/05/AEMfnU63BJIoXPT.jpg" alt="Jietu20200305-232717@2x"></p>
<p>å“ˆå¸Œæˆ–è€…å¿«æ…¢æŒ‡é’ˆ</p>
<pre><code class="go">func hasCycle(head *ListNode) bool {
    fast, slow := head, head
    count := 0
    for fast != nil &amp;&amp; slow != nil {
        if count % 2 == 1 {
            slow = slow.Next
        }
        fast = fast.Next
        if fast == slow {
            return true
        }
        count++
    }
    return false
}

func hasCycle(head *ListNode) bool {
    m := make(map[*ListNode]bool)
    for head != nil {
        if m[head] {
            return true
        }
        m[head] = true
        head = head.Next
    }
    return false
}</code></pre>
<p><img src="https://i.loli.net/2020/03/05/zuIMvy8KfDAT9Cm.jpg" alt="Jietu20200305-235210@2x"></p>
<p>è¿™ä¸ªé—®é¢˜æ€è·¯ä¸Šæ²¡å•¥éš¾çš„ï¼Œå…³é”®åœ¨äºç»†èŠ‚å®ç°ä¸Šå°¤å…¶æ˜¯MaxInt32ç­‰çš„åˆ¤å®šã€‚</p>
<pre><code class="go">func myAtoi(str string) int {
    res, negative, begin := 0, false, false
    for _, value := range str {
        if value == &#39; &#39; &amp;&amp; !begin {
            continue
        }
        if (value == &#39;+&#39; || value == &#39;-&#39;) &amp;&amp; !begin {
            if value == &#39;-&#39; {
                negative = true
            }
            begin = true
            continue
        }
        if value &gt;= &#39;0&#39; &amp;&amp; value &lt;= &#39;9&#39; {
            if !begin {
                begin = true
            }
            res = res*10 + int(value-48)
            if res &gt; (-math.MinInt32) &amp;&amp; negative {
                res = math.MinInt32
                negative = false
                break
            }
            if res &gt; math.MaxInt32 &amp;&amp; !negative {
                res = math.MaxInt32
                break
            }
        } else {
            break
        }
    }
    if negative {
        res = (-res)
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/03/06/sLu79nDazT4gVUj.jpg" alt="Jietu20200306-000722@2x"></p>
<p>è¿™é¢˜è™½ç„¶å¾ˆç®€å•ï¼Œä½†æ˜¯ä¸‹é¢çš„ç¬¬ä¸€ç§åšæ³•å±å®å·§å¦™ï¼Œå……åˆ†åˆ©ç”¨äº†è¿‡åŠçš„æ¡ä»¶ã€‚<br>åé¢çš„è§£æ³•æ˜¯æˆ‘çš„ï¼Œå¾ˆå¸¸è§„ï¼Œç”¨äº†mapã€‚</p>
<pre><code class="go">func majorityElement(nums []int) int {
    var last, count int
    for _, v := range nums {
        if count == 0 {
            last = v
            count = 1
            continue
        }
        if last == v {
            count++
        } else {
            count--
        }
    }
    return last
}

func majorityElement(nums []int) int {
    length := len(nums)
    m := make(map[int]int)
    for _, value := range nums {
        m[value] = m[value] + 1
        if m[value] &gt; length/2 {
            return value
        }
    }
    return 0
}</code></pre>
<p><img src="https://i.loli.net/2020/03/07/cp5QOBEXHYCFMnR.jpg" alt="Jietu20200307-122040@2x"></p>
<p>è¿™ä¸ªé¢˜å±å®å¾ˆå·§å¦™ï¼Œæ’å…¥å’Œå¼¹å‡ºçš„Oï¼ˆ1ï¼‰ç®—æ³•éƒ½å¾ˆå¥½å†™ï¼Œé—®é¢˜åœ¨äºæœ€å¤§å€¼ä¸Šï¼Œæˆ‘ä»¬éœ€è¦é¢å¤–ç»´æŒä¸€ä¸ªæ•°ç»„æ¥ä¿å­˜æœ€å¤§å€¼ä¿¡æ¯ã€‚</p>
<p>æœ€å¤§å€¼çš„ç»´æŒæœ‰è¿™æ ·ä¸€ä¸ªè§„å¾‹ï¼šå¯¹äºä¸€æ–°çš„valueï¼Œä¹‹å‰å…¥é˜Ÿçš„å°äºvalueçš„å€¼éƒ½å¯¹å…¶æ— å½±å“ã€‚å› æ­¤æˆ‘ä»¬ç»´æŒä¸€ä¸ªé€’å‡æ•°åˆ—ï¼Œæ¯æ¬¡æœ‰æ–°å€¼çš„æ—¶å€™å°†é€’å‡æ•°åˆ—ä¸­å°äºè¿™ä¸ªå€¼çš„æ•°å…¨éƒ¨åˆ é™¤ï¼Œè¿™æ ·ä»¥æ¥æˆ‘ä»¬å°±å¯ä»¥å®Œæˆéœ€è¦çš„æ“ä½œã€‚</p>
<p>è™½ç„¶å…¶ä¸­æœ‰å¯èƒ½æœ‰Oï¼ˆnï¼‰çš„å¤æ‚åº¦ï¼Œä½†æ˜¯æ‘Šè¿˜ä¹‹åå…¶åº”å½“ä¸ºOï¼ˆ1ï¼‰ã€‚</p>
<pre><code class="go">type MaxQueue struct {
    queue []int
    aux []int
}


func Constructor() MaxQueue {
    return MaxQueue{
        queue: make([]int, 0),
        aux: make([]int, 0),
    }
}


func (this *MaxQueue) Max_value() int {
    if len(this.aux) == 0 {
        return -1
    }
    return this.aux[0]
}


func (this *MaxQueue) Push_back(value int)  {
    this.queue = append(this.queue, value)
    index := 0
    for index = range this.aux {
        if this.aux[index] &lt; value {
            break
        }
    }
    if len(this.aux) &gt; 0 &amp;&amp; this.aux[index] &gt;= value { index++ }
    this.aux = append(this.aux[:index], value)
}


func (this *MaxQueue) Pop_front() int {
    if len(this.queue) == 0 {
        return -1
    }
    res := this.queue[0]
    this.queue = this.queue[1:]
    if this.aux[0] == res {
        this.aux = this.aux[1:]
    }
    return res
}
</code></pre>
<p><img src="https://i.loli.net/2020/03/12/iz7mUreH8wIuk2j.jpg" alt="Jietu20200312-200130@2x"></p>
<p>è§‚å¯Ÿå¯å¾—æ­£ç€èµ°n-ï¼ˆk%nï¼‰å³ä¸ºæ‰€æ±‚èµ·ç‚¹ï¼Œæ‰€ä»¥é¦–å…ˆéå†ä¸€éï¼Œæ„é€ å‡ºä¸€ä¸ªç¯å¹¶ä¸”æ±‚é•¿åº¦ï¼Œç„¶åå†ç¡®å®šå¤´èŠ‚ç‚¹ã€‚</p>
<pre><code class="go">func rotateRight(head *ListNode, k int) *ListNode {
    if head == nil {
        return head
    }
    travel, length := head, 1
    for travel.Next != nil {
        length++
        travel = travel.Next
    }
    travel.Next = head
    for i:=0; i&lt;length-(k%length)-1; i++ {
        head = head.Next
    }
    head, head.Next = head.Next, nil
    return head
}</code></pre>
<p><img src="https://i.loli.net/2020/03/13/nW61QMTGzkVcqXo.jpg" alt="Jietu20200313-080126@2x"></p>
<p>ä¹‹å‰åœ¨é‚£æœ¬æ•°æ®ç»“æ„é‡Œçœ‹åˆ°çš„ï¼ŒåŸåœ°å½’å¹¶æ’åºçš„æ–¹æ³•ï¼Œå°†ç¬¬äºŒä¸ªæ•°ç»„å€’ç½®æ‹·è´è‡³ç¬¬ä¸€ä¸ªæ•°ç»„ï¼Œè¿›è¡ŒåŒè°ƒæ’åº</p>
<pre><code class="go">func merge(nums1 []int, m int, nums2 []int, n int) {
    for i, j := m, n-1; i &lt; m+n; i, j = i+1, j-1 {
        nums1[i] = nums2[j]
    }
    for i, index := m+n-1, 0; index &lt; i; index++ {
        if nums1[index] &gt;= nums1[i] {
            temp := nums1[i]
            for j := i; j &gt; index; j-- {
                nums1[j] = nums1[j-1]
            }
            nums1[index] = temp
        }
    }
}</code></pre>
<p>é™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥ä½¿ç”¨å‰‘æŒ‡offerä¸­æåˆ°çš„ä»åå¾€å‰è¿›è¡Œæ’åºã€‚</p>
<pre><code class="go">func merge(nums1 []int, m int, nums2 []int, n int) {
    for m!=0 &amp;&amp; n!=0 {
        if nums1[m-1] &lt; nums2[n-1] {
            nums1[m+n-1] = nums2[n-1]
            n--
        } else {
            nums1[m+n-1] = nums1[m-1]
            m--
        }
    }
    if n != 0 {
        copy(nums1[:n], nums2[:n])
    }
}</code></pre>
<p><img src="https://i.loli.net/2020/03/15/1RUi4CoYzcDH35l.jpg" alt="Jietu20200315-205528@2x"></p>
<p>æœ‰ä¸€è¯´ä¸€ï¼Œè¿™ç§æ ¼å­çš„é¢˜ç›´æ¥å¹¿æœå°±å®Œäº‹äº†<br>è¿™ä¸ªé¢˜æ¯”è¾ƒç§’çš„åœ¨äºï¼Œç”¨è¿‡çš„ç›´æ¥ç½®0å°±ğŸ‰‘ï¸äº†ã€‚æ²¡å¿…è¦å®³åœ¨å“ªhashmap</p>
<pre><code class="go">func maxAreaOfIsland(grid [][]int) int {
    max := 0
    queue:= make([]int, 0)
    for i, v := range grid {
        for j, value := range v {
            temp := 0
            if value == 1 {
                temp++
                grid[i][j] = 0
                queue = append(queue, i*100+j)
                for len(queue) &gt; 0 {
                    nextQue := make([]int, 0)
                    for _, node := range queue {
                        cow, row := node%100, node/100
                        if row!=0 &amp;&amp; grid[row-1][cow]==1 {
                            temp++
                            grid[row-1][cow] = 0
                            nextQue = append(nextQue, (row-1)*100+cow)
                        }
                        if row!=len(grid)-1 &amp;&amp; grid[row+1][cow]==1 {
                            temp++
                            grid[row+1][cow]=0
                            nextQue = append(nextQue, (row+1)*100+cow)
                        }
                        if cow!=0 &amp;&amp; grid[row][cow-1]==1 {
                            temp++
                            grid[row][cow-1]=0
                            nextQue = append(nextQue, row*100+cow-1)
                        }
                        if cow!=len(v)-1&amp;&amp;grid[row][cow+1]==1 {
                            temp++
                            grid[row][cow+1]=0
                            nextQue = append(nextQue, row*100+cow+1)
                        }
                    }
                    queue = nextQue
                }
            }
            if temp &gt; max {
                max = temp
            }
        }
    }
    return max
}  </code></pre>
<p><img src="https://i.loli.net/2020/03/16/DWgAmhpOz7GSrb8.jpg" alt="Jietu20200316-155925@2x"></p>
<p>é¢˜ç›®ä¸éš¾ï¼Œå…³é”®åœ¨äºåˆ¤æ–­çš„é—®é¢˜ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯åªæœ‰ä¸€ä¸ªç‚¹ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªè·¯å¾„ã€‚<br>æŒ‰ç…§é¢˜è§£çš„æ–¹å¼ç®€åŒ–äº†ä»£ç ï¼Œä½†æ˜¯è¿™æ ·å…¶å®å°±æ…¢äº†ä¸€ç‚¹ï¼Œä¸è¿‡çœ‹èµ·æ¥æ›´åŠ ç®€æ˜ã€‚</p>
<pre><code class="go">/**
 * Definition for a binary tree node.
 * type TreeNode struct {
 *     Val int
 *     Left *TreeNode
 *     Right *TreeNode
 * }
 */
func maxPathSum(root *TreeNode) int {
    res := math.MinInt32
    helper(root, &amp;res)
    return res
}

func helper(root *TreeNode, res *int) int {
    if root == nil {
        return 0
    }
    left := int(math.Max(float64(helper(root.Left, res)), float64(0)))
    right := int(math.Max(float64(helper(root.Right, res)), float64(0)))
    if root.Val + left + right &gt; *res {
        *res = root.Val + left + right
    }
    return root.Val + int(math.Max(float64(left), float64(right)))
}</code></pre>
<p><img src="https://i.loli.net/2020/03/16/IhBRb6FyGxT5WXY.jpg" alt="Jietu20200316-164133@2x"></p>
<p>è¿™é¢˜ç¡®å®ä¸éš¾ï¼Œå…³é”®æ˜¯æ€ç»´å®šå¼äº†ï¼Œä»¥ä¸ºåªèƒ½æ“ä½œæŒ‡é’ˆï¼Œå®é™…ä¸Šè¿™é“é¢˜æ˜¯è®©æˆ‘ä»¬é€šè¿‡èµ‹å€¼æ¥å®Œæˆåˆ é™¤æ“ä½œï¼Œå°†é“¾è¡¨å½“ä½œæ•°ç»„ã€‚</p>
<pre><code class="go">func deleteNode(node *ListNode) {
    prev := node
    for ;node.Next != nil; node = node.Next {
        node.Val, prev = node.Next.Val, node
    }
    prev.Next = nil
}</code></pre>
<p><img src="https://i.loli.net/2020/03/16/tWw7HZCR3bQjEIl.jpg" alt="Jietu20200316-182503@2x"></p>
<p>è¿™ä¸ªé¢˜çœŸçš„æ˜¯æˆ‘è§è¿‡çš„æœ€ç‰›é€¼çš„é¢˜ï¼Œæ‰€æœ‰çš„2çš„å¹‚éƒ½åº”å½“æ»¡è¶³<code>(n &amp; (n-1)) == 0</code></p>
<pre><code class="go">func isPowerOfTwo(n int) bool {
    return n &gt; 0 &amp;&amp; (n &amp; (n-1)) == 0
}</code></pre>
<p><img src="https://i.loli.net/2020/03/17/QfwTD3HlaL5jWFg.jpg" alt="Jietu20200316-210810@2x"></p>
<p>æœ‰ä¸€è¯´ä¸€ï¼Œè¿™ä¸ªä¹Ÿæ˜¯çœŸçš„ç‰›é€¼ï¼Œä¸¤ä¸ªç›¸åŒçš„æ•°å¼‚æˆ–ä¸º0ï¼Œé›¶å’Œä»»ä½•æ•°å¼‚æˆ–éƒ½ä¸ºå…¶æœ¬èº«ã€‚<br>è¿™ä¸ªé¢˜æˆ‘ä¸€å¼€å§‹åªèƒ½æƒ³åˆ°å“ˆå¸Œè¡¨æ¥åšã€‚</p>
<pre><code class="go">func singleNumber(nums []int) int {
    res := 0
    for _, value := range nums {
        res ^= value
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/03/17/EStl1Qjmos6n4v5.jpg" alt="Jietu20200317-114152@2x"></p>
<p>è¿™ä¸ªé¢˜å…³é”®åœ¨äºï¼Œæˆ‘ä»¬ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆç›¸é‡ä¹‹åçš„ä½ç½®ï¼Œç„¶åä»å¤´èŠ‚ç‚¹å†å‡ºå‘ä¸€ä¸ªæŒ‡é’ˆï¼Œå’Œç›¸é‡ç‚¹ä¸€èµ·å‡ºå‘ä¹‹åçš„ç›¸é‡ä½ç½®å°±æ˜¯ç¯å…¥å£ï¼Œå¯ä»¥ä»æ•°å­¦ä¸­æ¨åˆ°å‡ºæ¥ã€‚</p>
<pre><code class="go">func detectCycle(head *ListNode) *ListNode {
    fast, slow:= head, head
    for fast != nil {
        if fast.Next == nil {
            return nil
        }
        slow, fast = slow.Next, fast.Next.Next
        if slow == fast {
            break
        }
    }
    if fast == nil {
        return nil
    }
    for head != fast {
        head, fast = head.Next, fast.Next
    }
    return head
}</code></pre>
<p><img src="https://i.loli.net/2020/03/17/H2KTILljRtOZsuB.jpg" alt="Jietu20200317-131923@2x"></p>
<p>è¿™ä¸ªé¢˜æ˜¯å¾ˆæ˜æ˜¾çš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œé€’æ¨å…³ç³»ä¸º<code>path[m][n] = path[m-1][n] + path[m][n-1]</code></p>
<pre><code class="go">func uniquePaths(m int, n int) int {
    store := make([][]int, n)
    for i := range store {
        store[i] = make([]int, m)
    }
    for i:=0; i&lt;n; i++ {
        for j:=0; j&lt;m; j++ {
            if i == j &amp;&amp; i == 0 {
                store[i][j] = 1
                continue
            }
            if i != 0 {
                store[i][j] += store[i-1][j]
            }
            if j != 0 {
                store[i][j] += store[i][j-1]
            }
        }
    }
    return store[n-1][m-1]
}</code></pre>
<p><img src="https://i.loli.net/2020/03/17/U3VuMEh92ex7INT.jpg" alt="Jietu20200317-153134@2x"></p>
<p>å…ˆç»™å‡ºä¸€ä¸ªå¸¸è§„çš„æœç´¢ç®—æ³•ï¼Œé€‰æ‹©ä½¿ç”¨äº†å¹¿æœï¼Œä¿å­˜çš„æ˜¯æ•°ç»„ä¸‹æ ‡ã€‚<br>è¿™é“é¢˜è¿˜å¯ä»¥ç”¨ä½è¿ç®—è§£ï¼Œç®€ç›´æ˜¯ç¥ä»™è§£æ³•ã€‚</p>
<pre><code class="go">func subsets(nums []int) [][]int {
    queue, res := make([][]int, 0), make([][]int, 1)
    res[0] = []int{}
    for i := range nums {
        queue = append(queue, []int{i})
    }
    for len(queue) &gt; 0 {
        nextQueue := make([][]int, 0)
        for _, v := range queue {
            subset := make([]int, len(v))
            for i, value := range v {
                subset[i] = nums[value]
            }
            res = append(res, subset)
            for j:=v[len(v)-1]+1; j&lt;len(nums); j++ {
                temp := make([]int, len(v))
                copy(temp, v)
                temp = append(temp, j)
                nextQueue = append(nextQueue, temp)
            }
        }
        queue = nextQueue
    }
    return res
}</code></pre>
<p>ä»0å¼€å§‹æ¯æ¬¡åŠ ä¸€ï¼Œå…¶äºŒè¿›åˆ¶æ˜¯000ï¼Œ 001ï¼Œ010ï¼Œ011ï¼Œ100ï¼Œ101ï¼Œ110ï¼Œ111ï¼Œåˆšå¥½å’Œä¸‹æ ‡å¯¹åº”ï¼Œæ˜¯å­é›†çš„ä¸‹æ ‡ã€‚</p>
<pre><code class="go">func subsets(nums []int) [][]int {
    var n = uint(len(nums))
    res := make([][]int, 0, 1 &lt;&lt; n)
    var i uint
    for i = 0; i &lt; 1&lt;&lt;n; i++ {
        s := make([]int, 0)
        var j uint
        for j = 0; j &lt; n; j++ {
            if i&amp;(1&lt;&lt;j) != 0 {
                s = append(s, nums[j])
            }
        }
        res = append(res, s)
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/03/18/VQxfTCL1MomjRaI.jpg" alt="Jietu20200318-132632@2x"></p>
<p>å›ºå®šçŸ©å½¢2ï¼Œåªè¦ä¸€å·åœ¨äºŒå·çŸ©å½¢ä¹‹å¤–å°±å¯ä»¥ã€‚</p>
<pre><code class="go">func isRectangleOverlap(rec1 []int, rec2 []int) bool {
    return !(rec1[1] &gt;= rec2[3] || rec1[3] &lt;= rec2[1] || rec1[2] &lt;= rec2[0] || rec1[0] &gt;= rec2[2])
}</code></pre>
<p><img src="https://i.loli.net/2020/03/18/B3EvAY4xiJ1t5Pr.jpg" alt="Jietu20200318-213817@2x"></p>
<p>ç¡®å®å¾ˆæœ‰ä¸œè¥¿ï¼Œæ³¨æ„é€’å½’ä¼ é€’å‰åºéå†çš„sliceï¼Œå·§å¦™çš„ç”¨åˆ°äº†å‰åºå’Œä¸­åºéå†ç»“æœçš„æ€§è´¨ã€‚</p>
<pre><code class="go">func buildTree(preorder []int, inorder []int) *TreeNode {
    if len(preorder) == 0 || len(inorder) == 0 {
        return nil
    }

    // ä¸­é¡ºåºåˆ—æ‰¾æ ¹ç»“ç‚¹
    var root int
    for k, v :=  range inorder {
        if v == preorder[0] {
            root = k
            break
        }
    }

    // å·¦å³å­æ ‘å½’ç±»
    // pre_left, pre_right := preorder[1: root+1], preorder[root+1:]
    // in_left, in_right := inorder[0: root], inorder[root+1:]

    // å·¦å³å­æ ‘é€’å½’
    return &amp;TreeNode{
        Val:   preorder[0],
        Left:  buildTree(preorder[1: root+1], inorder[0: root]),
        Right: buildTree(preorder[root+1:], inorder[root+1:]),
    }
}</code></pre>
<p><img src="https://i.loli.net/2020/03/18/6QaEevJyIp3nB5x.jpg" alt="Jietu20200318-220617@2x"></p>
<pre><code class="go">func buildTree(inorder []int, postorder []int) *TreeNode {
    if len(inorder) == 0 || len(postorder) == 0 {
        return nil
    }
    var root int
    for i, v := range inorder {
        if v == postorder[len(postorder)-1] {
            root = i
            break
        }
    }

    return &amp;TreeNode{
        Val: inorder[root],
        Left: buildTree(inorder[:root], postorder[:root]),
        Right: buildTree(inorder[root+1:], postorder[root:len(postorder)-1]),
    }
}</code></pre>
<p><img src="https://i.loli.net/2020/03/19/Q1Hcb93TCxEpAUD.jpg" alt="Jietu20200319-223944@2x"></p>
<p>å›æº¯åŠ å‰ªæï¼Œé—®é¢˜åœ¨äºå¦‚æœæ˜¯ä¸€æ£µæ»¡äºŒå‰æ ‘ä¼šæœ‰æ€§èƒ½é€€åŒ–ã€‚</p>
<pre><code class="go">func countNodes(root *TreeNode) int {
    if root == nil {
        return 0
    }
    num, success := 0, false
    depth := deep(root, &amp;success, &amp;num)
    return (1&lt;&lt;depth)-1-num
}

func deep(root *TreeNode, success *bool, num *int) int {
    if root.Left == root.Right {
        return 1
    }
    if root.Right == nil {
        (*num)++
        *success = true
        return 2
    }
    right := deep(root.Right, success, num)
    if *success {
        return right+1
    }
    left := deep(root.Left, success, num)
    if left != right {
        (*num) += (1&lt;&lt;right)
        *success = true
    }
    return left+1
}</code></pre>
<p><img src="https://i.loli.net/2020/03/23/yDObY7okaq5MTwn.jpg" alt="Jietu20200323-202237@2x"></p>
<p>ç”¨DFSä¼šè¶…æ—¶ï¼Œå› æ­¤è¿™é“é¢˜åº”è¯¥ç”¨åŠ¨æ€è§„åˆ’ï¼Œé€’æ¨å¼ä¸º<code>dp[i] += dp[i-coins]</code></p>
<pre><code class="go">func change(amount int, coins []int) int {
    dp := make([]int, amount+1)
    dp[0] = 1
    for _, v := range coins {
        for i:=v;i&lt;=amount;i++ {
            dp[i] += dp[i-v] 
        }
    }
    return dp[amount]
}</code></pre>
<p><img src="https://i.loli.net/2020/03/23/DGxcU5tNSEI92zK.jpg" alt="Jietu20200323-223538@2x"></p>
<pre><code class="go">type timetable [][]int

func (a timetable) Len() int {
    return len(a)
}
func (a timetable) Swap(i, j int) {
    a[i], a[j] = a[j], a[i]
}
func (a timetable) Less(i, j int) bool {
    if a[i][0] &lt; a[j][0] {
        return true
    }
    return false
} 

func minMeetingRooms(intervals [][]int) int {
    if len(intervals) == 0 {
        return 0
    }
    sort.Sort(timetable(intervals))

    room := make([]int, 1)
    room[0] = intervals[0][1]
    for i:=1; i&lt;len(intervals); i++ {
        j := 0
        for ; j&lt;len(room);j++ {
            if intervals[i][0] &gt;= room[j] {
                room[j] = intervals[i][1]
                break
            } 
        }
        if j == len(room) {
            room = append(room, intervals[i][1])
        }
    }
    return len(room)
}</code></pre>
<p><img src="https://i.loli.net/2020/03/25/PglJq9SiEVI8syA.jpg" alt="Jietu20200325-075541@2x"></p>
<p>åˆ†æ­¥ç®—ï¼Œç„¶åå‡å»é‡å¤çš„</p>
<pre><code class="go">func surfaceArea(grid [][]int) int {
    res := 0
    min := func (a, b int) int {
        if a &lt; b {
            return a
        }
        return b
    }
    for i, v := range grid {
        for j, value := range v {
            if value != 0 {
                res += (6+(value-1)*4)
                if i != 0 &amp;&amp; grid[i-1][j] != 0 {
                    res -= min(value, grid[i-1][j])
                }
                if j != 0 &amp;&amp; grid[i][j-1] != 0 {
                    res -= min(value, grid[i][j-1])
                }
                if i != len(grid)-1 &amp;&amp; grid[i+1][j] != 0 {
                    res -= min(value, grid[i+1][j])
                }
                if j != len(grid)-1 &amp;&amp; grid[i][j+1] != 0 {
                    res -= min(value, grid[i][j+1])
                }
            }
        }
    }
    return res
}</code></pre>
<p>è¿™ä¸ªæ›´æœºæ™ºä¸€ç‚¹ï¼Œæ¯æ¬¡æŠŠå·¦ä¸Šä¸¤è¾¹é‡å¤çš„å‡å»ä¸¤æ¬¡ã€‚</p>
<pre><code class="go">func surfaceArea(grid [][]int) int {
    res := 0
    for i:=0; i&lt;len(grid); i++ {
        for j:=0; j&lt;len(grid); j++ {
            if grid[i][j] &gt; 0 {
                res += 4 * grid[i][j] + 2
            }
            if j&gt;0 {
                res -= min(grid[i][j], grid[i][j-1]) * 2
            }
            if i&gt;0 {
                res -= min(grid[i][j], grid[i-1][j]) * 2
            }
        }
    }
    return res
}

func min(a, b int) int {
    if a &lt;= b {
        return a
    }
    return b
}</code></pre>
<p><img src="https://i.loli.net/2020/03/25/kgaOsW4lM7rNYwz.jpg" alt="Jietu20200325-214429@2x"></p>
<p>è¿™é¢˜ä¸€æ ·å¾ˆå¼ºï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æœ€åæ‹¿åˆ°2çš„èƒ½èµ¢ï¼Œæ‹¿åˆ°1çš„è¾“ã€‚<br>è€Œå¥‡æ•°çš„çº¦æ•°åªèƒ½æ˜¯å¥‡æ•°æˆ–è€…1ï¼Œæ“ä½œä¹‹åæ˜¯å¶æ•°ã€‚<br>è€Œå¶æ•°çš„çº¦æ•°å¯ä»¥æ˜¯å¥‡å¶æˆ–è€…1ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨1æ¥æ“ä½œï¼Œæ˜¯å¥‡æ•°ã€‚<br>åˆ†æå¯ä»¥å¾—å‡ºï¼Œå¥‡æ•°è¾“ï¼Œå¶æ•°èµ¢ã€‚</p>
<pre><code class="go">func divisorGame(N int) bool {
    res := (N&amp;1 == 0)
    return res
}</code></pre>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¶ˆæ¯é˜Ÿåˆ—æ‰«ç›²</title>
    <url>/blog/2020/03/04/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E6%89%AB%E7%9B%B2/</url>
    <content><![CDATA[<p>å†…å®¹å¦‚é¢˜ã€‚<br>å‚è€ƒï¼š</p>
<ol>
<li><a href="https://developer.51cto.com/art/201904/595020.html" target="_blank" rel="noopener">ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ</a></li>
</ol>
<a id="more"></a>

<h2 id="æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆç”¨"><a href="#æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆç”¨" class="headerlink" title="æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆç”¨"></a>æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆç”¨</h2><h3 id="è§£è€¦åˆ"><a href="#è§£è€¦åˆ" class="headerlink" title="è§£è€¦åˆ"></a>è§£è€¦åˆ</h3><p>å¦‚æœæ¨¡å—ä¹‹é—´ä¸ç›´æ¥è¿›è¡Œè°ƒç”¨ï¼Œæ¨¡å—ä¹‹é—´è€¦åˆåº¦å°±ä¼šå¾ˆä½ï¼Œé‚£ä¹ˆä¿®æ”¹ä¸€ä¸ªæ¨¡å—æˆ–è€…æ–°å¢ä¸€ä¸ªæ¨¡å—å¯¹å…¶å®ƒæ¨¡å—çš„å½±å“ä¼šå¾ˆå°ï¼Œä»è€Œå®ç°å¯æ‰©å±•æ€§ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ¨¡å—åªéœ€è¦å‘æ¶ˆæ¯é˜Ÿåˆ—ä¸­å‘é€æ¶ˆæ¯ï¼Œå…¶å®ƒæ¨¡å—å¯ä»¥é€‰æ‹©æ€§åœ°ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è®¢é˜…æ¶ˆæ¯ä»è€Œå®Œæˆè°ƒç”¨ã€‚</p>
<h3 id="å‰Šå³°"><a href="#å‰Šå³°" class="headerlink" title="å‰Šå³°"></a>å‰Šå³°</h3><p>åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå¦‚æœçŸ­æ—¶é—´æœ‰å¤§é‡çš„è¯·æ±‚åˆ°è¾¾ä¼šå‹å®æœåŠ¡å™¨ã€‚</p>
<p>å¯ä»¥å°†è¯·æ±‚å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼ŒæœåŠ¡å™¨æŒ‰ç…§å…¶å¤„ç†èƒ½åŠ›ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è®¢é˜…æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚</p>
<h3 id="å¼‚æ­¥"><a href="#å¼‚æ­¥" class="headerlink" title="å¼‚æ­¥"></a>å¼‚æ­¥</h3><p>å‘é€è€…å°†æ¶ˆæ¯å‘é€ç»™æ¶ˆæ¯é˜Ÿåˆ—ä¹‹åï¼Œä¸éœ€è¦åŒæ­¥ç­‰å¾…æ¶ˆæ¯æ¥æ”¶è€…å¤„ç†å®Œæ¯•ï¼Œè€Œæ˜¯ç«‹å³è¿”å›è¿›è¡Œå…¶å®ƒæ“ä½œã€‚æ¶ˆæ¯æ¥æ”¶è€…ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è®¢é˜…æ¶ˆæ¯ä¹‹åå¼‚æ­¥å¤„ç†ã€‚</p>
<blockquote>
<p>ä¾‹å¦‚åœ¨æ³¨å†Œæµç¨‹ä¸­é€šå¸¸éœ€è¦å‘é€éªŒè¯é‚®ä»¶æ¥ç¡®ä¿æ³¨å†Œç”¨æˆ·èº«ä»½çš„åˆæ³•æ€§ï¼Œå¯ä»¥ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ä½¿å‘é€éªŒè¯é‚®ä»¶çš„æ“ä½œå¼‚æ­¥å¤„ç†ï¼Œç”¨æˆ·åœ¨å¡«å†™å®Œæ³¨å†Œä¿¡æ¯ä¹‹åå°±å¯ä»¥å®Œæˆæ³¨å†Œï¼Œè€Œå°†å‘é€éªŒè¯é‚®ä»¶è¿™ä¸€æ¶ˆæ¯å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ã€‚</p>
</blockquote>
<p>åªæœ‰åœ¨<strong>ä¸šåŠ¡æµç¨‹å…è®¸å¼‚æ­¥å¤„ç†</strong>çš„æƒ…å†µä¸‹æ‰èƒ½è¿™ä¹ˆåšï¼Œä¾‹å¦‚ä¸Šé¢çš„æ³¨å†Œæµç¨‹ä¸­ï¼Œå¦‚æœè¦æ±‚ç”¨æˆ·å¯¹éªŒè¯é‚®ä»¶è¿›è¡Œç‚¹å‡»ä¹‹åæ‰èƒ½å®Œæˆæ³¨å†Œçš„è¯ï¼Œå°±ä¸èƒ½å†ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ã€‚</p>
<h2 id="æ¶ˆæ¯æ¨¡å‹"><a href="#æ¶ˆæ¯æ¨¡å‹" class="headerlink" title="æ¶ˆæ¯æ¨¡å‹"></a>æ¶ˆæ¯æ¨¡å‹</h2><ol>
<li>ç‚¹å¯¹ç‚¹</li>
</ol>
<p>æ¶ˆæ¯ç”Ÿäº§è€…å‘æ¶ˆæ¯é˜Ÿåˆ—ä¸­å‘é€äº†ä¸€æ¡æ¶ˆæ¯ä¹‹åï¼Œåªèƒ½è¢«<strong>ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ä¸€æ¬¡</strong>ã€‚</p>
<ol start="2">
<li>å‘å¸ƒ/è®¢é˜…</li>
</ol>
<p>æ¶ˆæ¯ç”Ÿäº§è€…å‘é¢‘é“å‘é€ä¸€ä¸ªæ¶ˆæ¯ä¹‹åï¼Œå¤šä¸ªæ¶ˆè´¹è€…å¯ä»¥ä»è¯¥é¢‘é“è®¢é˜…åˆ°è¿™æ¡æ¶ˆæ¯å¹¶æ¶ˆè´¹ã€‚</p>
<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ol>
<li><p>é«˜å¯ç”¨<br>éœ€è¦æ˜¯é›†ç¾¤/åˆ†å¸ƒå¼çš„</p>
</li>
<li><p>æ¶ˆè´¹é—®é¢˜<br>é‡å¤æ¶ˆè´¹å’Œæ¶ˆæ¯é¡ºåºé—®é¢˜ã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>Message Queue</tag>
      </tags>
  </entry>
  <entry>
    <title>Internet</title>
    <url>/blog/2020/03/03/Internet/</url>
    <content><![CDATA[<p>internet for my lovely offer.</p>
<a id="more"></a>

<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>åˆ†ç»„äº¤æ¢ç”µè·¯äº¤æ¢ï¼š<br>åˆ†ç»„äº¤æ¢æ›´åŠ é«˜æ•ˆï¼Œåˆ©ç”¨ç‡æ›´é«˜ï¼Œåˆ©ç”¨äº†å‚¨å­˜è½¬å‘çš„æ€æƒ³ã€‚</p>
<h3 id="æ—¶å»¶"><a href="#æ—¶å»¶" class="headerlink" title="æ—¶å»¶"></a>æ—¶å»¶</h3><p>æ€»æ—¶å»¶ = æ’é˜Ÿæ—¶å»¶ + å¤„ç†æ—¶å»¶ + ä¼ è¾“æ—¶å»¶ + ä¼ æ’­æ—¶å»¶</p>
<p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/4b2ae78c-e254-44df-9e37-578e2f2bef52.jpg" alt="pic"></p>
<p>æ³¨æ„ä¼ è¾“æ—¶å»¶ä¸ä¼ æ’­æ—¶å»¶ï¼š</p>
<ul>
<li>ä¼ è¾“æ—¶å»¶æ˜¯ä¸»æœºæˆ–è€…è·¯ç”±å™¨ä¼ è¾“æ•°æ®å¸§éœ€è¦çš„æ—¶å»¶</li>
<li>ä¼ æ’­æ—¶å»¶æ˜¯æ•°æ®åœ¨çº¿è·¯ä¸Šä¼ æ’­éœ€è¦çš„æ—¶å»¶ã€‚</li>
</ul>
<h3 id="è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„"><a href="#è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„" class="headerlink" title="è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„"></a>è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„</h3><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/0fa6c237-a909-4e2a-a771-2c5485cd8ce0.png" alt="pic"></p>
<p>äº”å±‚åè®®ä½“ç³»ï¼š</p>
<ul>
<li>åº”ç”¨å±‚ï¼šHTTPã€DNSã€SMTPåè®®ç­‰</li>
<li>è¿è¾“å±‚ï¼šä¸º<strong>è¿›ç¨‹æä¾›é€šç”¨çš„æ•°æ®ä¼ è¾“æœåŠ¡</strong>â€“TCP/UDP<ul>
<li>å¯é æ€§ä¼ è¾“ï¼šTCP<ul>
<li>ä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹</li>
<li>æ•°æ®å•ä½ä¸ºæŠ¥æ–‡æ®µ</li>
<li>æŒ‰å­—èŠ‚ç¡®è®¤</li>
</ul>
</li>
<li>ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼š<ul>
<li>ä¸å¯é ã€æ— é“¾æ¥</li>
</ul>
</li>
</ul>
</li>
<li>ç½‘ç»œå±‚ï¼šä¸ºä¸»æœºæä¾›æ•°æ®ä¼ è¾“æœåŠ¡ IP</li>
<li>é“¾è·¯å±‚ï¼šé’ˆå¯¹çš„ä¾æ—§æ˜¯æ˜¯ä¸»æœºé—´çš„ä¼ è¾“æœåŠ¡ </li>
</ul>
<p>OSIä½“ç³»ï¼š<br>åœ¨åº”ç”¨å±‚å’Œè¿è¾“å±‚ä¹‹é—´æ·»åŠ äº†è¡¨ç¤ºå±‚å’Œä¼šè¯å±‚</p>
<ul>
<li>è¡¨ç¤ºå±‚ï¼šå¤„ç†æ•°æ®ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºä¸éœ€è¦å…³å¿ƒåœ¨å„å°ä¸»æœºä¸­æ•°æ®å†…éƒ¨æ ¼å¼é—®é¢˜ã€‚</li>
<li>ä¼šè¯å±‚ï¼šå»ºç«‹åŠç®¡ç†ä¼šè¯</li>
</ul>
<h2 id="åº”ç”¨å±‚"><a href="#åº”ç”¨å±‚" class="headerlink" title="åº”ç”¨å±‚"></a>åº”ç”¨å±‚</h2><h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><p>è¿™æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„æ•°æ®åº“ï¼Œæä¾›ä¸»æœºåå’ŒæœåŠ¡å™¨IPçš„è½¬æ¢æœåŠ¡ã€‚DNSæ˜¯å…·æœ‰å±‚æ¬¡çš„ã€‚</p>
<p>DNSä¸€èˆ¬åªä½¿ç”¨UDPä¼ è¾“ï¼Œç«¯å£å·ä¸º53</p>
<p>åªæœ‰åœ¨è¿”å›çš„å“åº”è¶…è¿‡512å­—èŠ‚ï¼ˆUDPæœ€å¤§ä¼ è¾“å®¹é‡ï¼‰æˆ–è€…è¿›è¡ŒåŒºåŸŸä¼ é€ï¼ˆä¸»æœåŠ¡å™¨å‘è¾…åŠ©åŸŸåæœåŠ¡å™¨ä¼ é€å˜åŒ–çš„éƒ¨åˆ†ï¼‰ä½¿ç”¨TCP</p>
<h3 id="FTP"><a href="#FTP" class="headerlink" title="FTP"></a>FTP</h3><p>æ–‡ä»¶ä¼ é€åè®®ï¼Œéœ€è¦ä¸¤ä¸ªè¿æ¥æ¥ä¼ é€ä¸€ä¸ªæ–‡ä»¶ï¼š</p>
<ol>
<li>æ§åˆ¶è¿æ¥ï¼šæ‰“å¼€ç«¯å£å·21ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ï¼Œå®¢æˆ·ç«¯ä¸»åŠ¨å»ºç«‹è¿æ¥åï¼Œä½¿ç”¨è¿™ä¸ªè¿æ¥å°†å®¢æˆ·ç«¯çš„å‘½ä»¤ä¼ é€ç»™æœåŠ¡å™¨ï¼Œå¹¶ä¼ å›æœåŠ¡å™¨çš„åº”ç­”ã€‚</li>
<li>æ•°æ®è¿æ¥ï¼šç”¨æ¥ä¼ é€ä¸€ä¸ªæ–‡ä»¶æ•°æ®ã€‚</li>
</ol>
<h3 id="DHCP"><a href="#DHCP" class="headerlink" title="DHCP"></a>DHCP</h3><p>DHCP (Dynamic Host Configuration Protocol) æä¾›äº†å³æ’å³ç”¨çš„è¿ç½‘æ–¹å¼ï¼Œç”¨æˆ·ä¸å†éœ€è¦æ‰‹åŠ¨é…ç½® IP åœ°å€ç­‰ä¿¡æ¯ã€‚</p>
<p>DHCP é…ç½®çš„å†…å®¹ä¸ä»…æ˜¯ IP åœ°å€ï¼Œè¿˜åŒ…æ‹¬å­ç½‘æ©ç ã€ç½‘å…³ IP åœ°å€ã€‚</p>
<p>DHCP å·¥ä½œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯å‘é€ Discover æŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡çš„ç›®çš„åœ°å€ä¸º 255.255.255.255:67ï¼Œæºåœ°å€ä¸º 0.0.0.0:68ï¼Œè¢«æ”¾å…¥ UDP ä¸­ï¼Œè¯¥æŠ¥æ–‡è¢«å¹¿æ’­åˆ°åŒä¸€ä¸ªå­ç½‘çš„æ‰€æœ‰ä¸»æœºä¸Šã€‚å¦‚æœå®¢æˆ·ç«¯å’Œ DHCP æœåŠ¡å™¨ä¸åœ¨åŒä¸€ä¸ªå­ç½‘ï¼Œå°±éœ€è¦ä½¿ç”¨ä¸­ç»§ä»£ç†ã€‚</li>
<li>DHCP æœåŠ¡å™¨æ”¶åˆ° Discover æŠ¥æ–‡ä¹‹åï¼Œå‘é€ Offer æŠ¥æ–‡ç»™å®¢æˆ·ç«¯ï¼Œè¯¥æŠ¥æ–‡åŒ…å«äº†å®¢æˆ·ç«¯æ‰€éœ€è¦çš„ä¿¡æ¯ã€‚å› ä¸ºå®¢æˆ·ç«¯å¯èƒ½æ”¶åˆ°å¤šä¸ª DHCP æœåŠ¡å™¨æä¾›çš„ä¿¡æ¯ï¼Œå› æ­¤å®¢æˆ·ç«¯éœ€è¦è¿›è¡Œé€‰æ‹©ã€‚</li>
<li>å¦‚æœå®¢æˆ·ç«¯é€‰æ‹©äº†æŸä¸ª DHCP æœåŠ¡å™¨æä¾›çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±å‘é€ Request æŠ¥æ–‡ç»™è¯¥ DHCP æœåŠ¡å™¨ã€‚</li>
<li>DHCP æœåŠ¡å™¨å‘é€ Ack æŠ¥æ–‡ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯æ­¤æ—¶å¯ä»¥ä½¿ç”¨æä¾›ç»™å®ƒçš„ä¿¡æ¯ã€‚</li>
</ol>
<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/23219e4c-9fc0-4051-b33a-2bd95bf054ab.jpg"> </div><br>

<h2 id="Web-é¡µé¢è¯·æ±‚è¿‡ç¨‹"><a href="#Web-é¡µé¢è¯·æ±‚è¿‡ç¨‹" class="headerlink" title="Web é¡µé¢è¯·æ±‚è¿‡ç¨‹"></a>Web é¡µé¢è¯·æ±‚è¿‡ç¨‹</h2><h3 id="1-DHCP-é…ç½®ä¸»æœºä¿¡æ¯"><a href="#1-DHCP-é…ç½®ä¸»æœºä¿¡æ¯" class="headerlink" title="1. DHCP é…ç½®ä¸»æœºä¿¡æ¯"></a>1. DHCP é…ç½®ä¸»æœºä¿¡æ¯</h3><ul>
<li><p>å‡è®¾ä¸»æœºæœ€å¼€å§‹æ²¡æœ‰ IP åœ°å€ä»¥åŠå…¶å®ƒä¿¡æ¯ï¼Œé‚£ä¹ˆå°±éœ€è¦å…ˆä½¿ç”¨ DHCP æ¥è·å–ã€‚</p>
</li>
<li><p>ä¸»æœºç”Ÿæˆä¸€ä¸ª DHCP è¯·æ±‚æŠ¥æ–‡ï¼Œå¹¶å°†è¿™ä¸ªæŠ¥æ–‡æ”¾å…¥å…·æœ‰ç›®çš„ç«¯å£ 67 å’Œæºç«¯å£ 68 çš„ UDP æŠ¥æ–‡æ®µä¸­ã€‚</p>
</li>
<li><p>è¯¥æŠ¥æ–‡æ®µåˆ™è¢«æ”¾å…¥åœ¨ä¸€ä¸ªå…·æœ‰å¹¿æ’­ IP ç›®çš„åœ°å€(255.255.255.255) å’Œæº IP åœ°å€ï¼ˆ0.0.0.0ï¼‰çš„ IP æ•°æ®æŠ¥ä¸­ã€‚</p>
</li>
<li><p>è¯¥æ•°æ®æŠ¥åˆ™è¢«æ”¾ç½®åœ¨ MAC å¸§ä¸­ï¼Œè¯¥å¸§å…·æœ‰ç›®çš„åœ°å€ FF:FF:FF:FF:FF:FFï¼Œå°†å¹¿æ’­åˆ°ä¸äº¤æ¢æœºè¿æ¥çš„æ‰€æœ‰è®¾å¤‡ã€‚</p>
</li>
<li><p>è¿æ¥åœ¨äº¤æ¢æœºçš„ DHCP æœåŠ¡å™¨æ”¶åˆ°å¹¿æ’­å¸§ä¹‹åï¼Œä¸æ–­åœ°å‘ä¸Šåˆ†è§£å¾—åˆ° IP æ•°æ®æŠ¥ã€UDP æŠ¥æ–‡æ®µã€DHCP è¯·æ±‚æŠ¥æ–‡ï¼Œä¹‹åç”Ÿæˆ DHCP ACK æŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š<strong>IP åœ°å€ã€DNS æœåŠ¡å™¨çš„ IP åœ°å€ã€é»˜è®¤ç½‘å…³è·¯ç”±å™¨çš„ IP åœ°å€å’Œå­ç½‘æ©ç ã€‚</strong>è¯¥æŠ¥æ–‡è¢«æ”¾å…¥ UDP æŠ¥æ–‡æ®µä¸­ï¼ŒUDP æŠ¥æ–‡æ®µæœ‰è¢«æ”¾å…¥ IP æ•°æ®æŠ¥ä¸­ï¼Œæœ€åæ”¾å…¥ MAC å¸§ä¸­ã€‚</p>
</li>
<li><p>è¯¥å¸§çš„ç›®çš„åœ°å€æ˜¯è¯·æ±‚ä¸»æœºçš„ MAC åœ°å€ï¼Œå› ä¸ºäº¤æ¢æœºå…·æœ‰è‡ªå­¦ä¹ èƒ½åŠ›ï¼Œä¹‹å‰ä¸»æœºå‘é€äº†å¹¿æ’­å¸§ä¹‹åå°±è®°å½•äº† MAC åœ°å€åˆ°å…¶è½¬å‘æ¥å£çš„äº¤æ¢è¡¨é¡¹ï¼Œå› æ­¤ç°åœ¨äº¤æ¢æœºå°±å¯ä»¥ç›´æ¥çŸ¥é“åº”è¯¥å‘å“ªä¸ªæ¥å£å‘é€è¯¥å¸§ã€‚</p>
</li>
<li><p>ä¸»æœºæ”¶åˆ°è¯¥å¸§åï¼Œä¸æ–­åˆ†è§£å¾—åˆ° DHCP æŠ¥æ–‡ã€‚ä¹‹åå°±é…ç½®å®ƒçš„ IP åœ°å€ã€å­ç½‘æ©ç å’Œ DNS æœåŠ¡å™¨çš„ IP åœ°å€ï¼Œå¹¶åœ¨å…¶ IP è½¬å‘è¡¨ä¸­å®‰è£…é»˜è®¤ç½‘å…³ï¼ˆç¬¬ä¸€è·³è·¯ç”±å™¨ï¼‰ã€‚</p>
</li>
</ul>
<h3 id="2-ARP-è§£æ-MAC-åœ°å€"><a href="#2-ARP-è§£æ-MAC-åœ°å€" class="headerlink" title="2. ARP è§£æ MAC åœ°å€"></a>2. ARP è§£æ MAC åœ°å€</h3><ul>
<li><p>ä¸»æœºé€šè¿‡æµè§ˆå™¨ç”Ÿæˆä¸€ä¸ª TCP å¥—æ¥å­—ï¼Œå¥—æ¥å­—å‘ HTTP æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚ã€‚ä¸ºäº†ç”Ÿæˆè¯¥å¥—æ¥å­—ï¼Œä¸»æœºéœ€è¦çŸ¥é“ç½‘ç«™çš„åŸŸåå¯¹åº”çš„ IP åœ°å€ã€‚</p>
</li>
<li><p>ä¸»æœºç”Ÿæˆä¸€ä¸ª DNS æŸ¥è¯¢æŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡å…·æœ‰ 53 å·ç«¯å£ï¼Œå› ä¸º DNS æœåŠ¡å™¨çš„ç«¯å£å·æ˜¯ 53ã€‚</p>
</li>
<li><p>è¯¥ DNS æŸ¥è¯¢æŠ¥æ–‡è¢«æ”¾å…¥ç›®çš„åœ°å€ä¸º DNS æœåŠ¡å™¨ IP åœ°å€çš„ IP æ•°æ®æŠ¥ä¸­ã€‚</p>
</li>
<li><p>è¯¥ IP æ•°æ®æŠ¥è¢«æ”¾å…¥ä¸€ä¸ªä»¥å¤ªç½‘å¸§ä¸­ï¼Œè¯¥å¸§å°†å‘é€åˆ°ç½‘å…³è·¯ç”±å™¨ã€‚</p>
</li>
<li><p><strong>DHCP è¿‡ç¨‹åªçŸ¥é“ç½‘å…³è·¯ç”±å™¨çš„ IP åœ°å€ï¼Œä¸ºäº†è·å–ç½‘å…³è·¯ç”±å™¨çš„ MAC åœ°å€ï¼Œéœ€è¦ä½¿ç”¨ ARP åè®®ã€‚</strong></p>
</li>
<li><p>ä¸»æœºç”Ÿæˆä¸€ä¸ªåŒ…å«ç›®çš„åœ°å€ä¸ºç½‘å…³è·¯ç”±å™¨ IP åœ°å€çš„ ARP æŸ¥è¯¢æŠ¥æ–‡ï¼Œå°†è¯¥ ARP æŸ¥è¯¢æŠ¥æ–‡æ”¾å…¥ä¸€ä¸ªå…·æœ‰å¹¿æ’­ç›®çš„åœ°å€ï¼ˆFF:<zero-width space>FF:<zero-width space>FF:<zero-width space>FF:<zero-width space>FF:FFï¼‰çš„ä»¥å¤ªç½‘å¸§ä¸­ï¼Œå¹¶å‘äº¤æ¢æœºå‘é€è¯¥ä»¥å¤ªç½‘å¸§ï¼Œäº¤æ¢æœºå°†è¯¥å¸§è½¬å‘ç»™æ‰€æœ‰çš„è¿æ¥è®¾å¤‡ï¼ŒåŒ…æ‹¬ç½‘å…³è·¯ç”±å™¨ã€‚</zero-width></zero-width></zero-width></zero-width></p>
</li>
<li><p>ç½‘å…³è·¯ç”±å™¨æ¥æ”¶åˆ°è¯¥å¸§åï¼Œä¸æ–­å‘ä¸Šåˆ†è§£å¾—åˆ° ARP æŠ¥æ–‡ï¼Œå‘ç°å…¶ä¸­çš„ IP åœ°å€ä¸å…¶æ¥å£çš„ IP åœ°å€åŒ¹é…ï¼Œå› æ­¤å°±å‘é€ä¸€ä¸ª ARP å›ç­”æŠ¥æ–‡ï¼ŒåŒ…å«äº†å®ƒçš„ MAC åœ°å€ï¼Œå‘å›ç»™ä¸»æœºã€‚</p>
</li>
</ul>
<h3 id="3-DNS-è§£æåŸŸå"><a href="#3-DNS-è§£æåŸŸå" class="headerlink" title="3. DNS è§£æåŸŸå"></a>3. DNS è§£æåŸŸå</h3><ul>
<li><p>çŸ¥é“äº†ç½‘å…³è·¯ç”±å™¨çš„ MAC åœ°å€ä¹‹åï¼Œå°±å¯ä»¥ç»§ç»­ DNS çš„è§£æè¿‡ç¨‹äº†ã€‚</p>
</li>
<li><p>ç½‘å…³è·¯ç”±å™¨æ¥æ”¶åˆ°åŒ…å« DNS æŸ¥è¯¢æŠ¥æ–‡çš„ä»¥å¤ªç½‘å¸§åï¼ŒæŠ½å–å‡º IP æ•°æ®æŠ¥ï¼Œå¹¶æ ¹æ®è½¬å‘è¡¨å†³å®šè¯¥ IP æ•°æ®æŠ¥åº”è¯¥è½¬å‘çš„è·¯ç”±å™¨ã€‚</p>
</li>
<li><p>å› ä¸ºè·¯ç”±å™¨å…·æœ‰å†…éƒ¨ç½‘å…³åè®®ï¼ˆRIPã€OSPFï¼‰å’Œå¤–éƒ¨ç½‘å…³åè®®ï¼ˆBGPï¼‰è¿™ä¸¤ç§è·¯ç”±é€‰æ‹©åè®®ï¼Œå› æ­¤è·¯ç”±è¡¨ä¸­å·²ç»é…ç½®äº†ç½‘å…³è·¯ç”±å™¨åˆ°è¾¾ DNS æœåŠ¡å™¨çš„è·¯ç”±è¡¨é¡¹ã€‚</p>
</li>
<li><p>åˆ°è¾¾ DNS æœåŠ¡å™¨ä¹‹åï¼ŒDNS æœåŠ¡å™¨æŠ½å–å‡º DNS æŸ¥è¯¢æŠ¥æ–‡ï¼Œå¹¶åœ¨ DNS æ•°æ®åº“ä¸­æŸ¥æ‰¾å¾…è§£æçš„åŸŸåã€‚</p>
</li>
<li><p>æ‰¾åˆ° DNS è®°å½•ä¹‹åï¼Œå‘é€ DNS å›ç­”æŠ¥æ–‡ï¼Œå°†è¯¥å›ç­”æŠ¥æ–‡æ”¾å…¥ UDP æŠ¥æ–‡æ®µä¸­ï¼Œç„¶åæ”¾å…¥ IP æ•°æ®æŠ¥ä¸­ï¼Œé€šè¿‡è·¯ç”±å™¨åå‘è½¬å‘å›ç½‘å…³è·¯ç”±å™¨ï¼Œå¹¶ç»è¿‡ä»¥å¤ªç½‘äº¤æ¢æœºåˆ°è¾¾ä¸»æœºã€‚</p>
</li>
</ul>
<h3 id="4-HTTP-è¯·æ±‚é¡µé¢"><a href="#4-HTTP-è¯·æ±‚é¡µé¢" class="headerlink" title="4. HTTP è¯·æ±‚é¡µé¢"></a>4. HTTP è¯·æ±‚é¡µé¢</h3><ul>
<li><p>æœ‰äº† HTTP æœåŠ¡å™¨çš„ IP åœ°å€ä¹‹åï¼Œä¸»æœºå°±èƒ½å¤Ÿç”Ÿæˆ TCP å¥—æ¥å­—ï¼Œè¯¥å¥—æ¥å­—å°†ç”¨äºå‘ Web æœåŠ¡å™¨å‘é€ HTTP GET æŠ¥æ–‡ã€‚</p>
</li>
<li><p>åœ¨ç”Ÿæˆ TCP å¥—æ¥å­—ä¹‹å‰ï¼Œå¿…é¡»å…ˆä¸ HTTP æœåŠ¡å™¨è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹æ¥å»ºç«‹è¿æ¥ã€‚ç”Ÿæˆä¸€ä¸ªå…·æœ‰ç›®çš„ç«¯å£ 80 çš„ TCP SYN æŠ¥æ–‡æ®µï¼Œå¹¶å‘ HTTP æœåŠ¡å™¨å‘é€è¯¥æŠ¥æ–‡æ®µã€‚</p>
</li>
<li><p>HTTP æœåŠ¡å™¨æ”¶åˆ°è¯¥æŠ¥æ–‡æ®µä¹‹åï¼Œç”Ÿæˆ TCP SYN ACK æŠ¥æ–‡æ®µï¼Œå‘å›ç»™ä¸»æœºã€‚</p>
</li>
<li><p>è¿æ¥å»ºç«‹ä¹‹åï¼Œæµè§ˆå™¨ç”Ÿæˆ HTTP GET æŠ¥æ–‡ï¼Œå¹¶äº¤ä»˜ç»™ HTTP æœåŠ¡å™¨ã€‚</p>
</li>
<li><p>HTTP æœåŠ¡å™¨ä» TCP å¥—æ¥å­—è¯»å– HTTP GET æŠ¥æ–‡ï¼Œç”Ÿæˆä¸€ä¸ª HTTP å“åº”æŠ¥æ–‡ï¼Œå°† Web é¡µé¢å†…å®¹æ”¾å…¥æŠ¥æ–‡ä¸»ä½“ä¸­ï¼Œå‘å›ç»™ä¸»æœºã€‚</p>
</li>
<li><p>æµè§ˆå™¨æ”¶åˆ° HTTP å“åº”æŠ¥æ–‡åï¼ŒæŠ½å–å‡º Web é¡µé¢å†…å®¹ï¼Œä¹‹åè¿›è¡Œæ¸²æŸ“ï¼Œæ˜¾ç¤º Web é¡µé¢ã€‚</p>
</li>
</ul>
<h2 id="è¿è¾“å±‚"><a href="#è¿è¾“å±‚" class="headerlink" title="è¿è¾“å±‚"></a>è¿è¾“å±‚</h2><p>ç½‘ç»œå±‚åªè´Ÿè´£å°†æ•°æ®ä¼ é€’ç»™ä¸»æœºï¼Œè€ŒçœŸæ­£é€šä¿¡çš„åº”è¯¥æ˜¯ä¸»æœºä¸­çš„è¿›ç¨‹ã€‚ä¼ è¾“å±‚æä¾›äº†è¿›ç¨‹ä¹‹é—´çš„é€»è¾‘é€šä¿¡ï¼Œå®ç°å¤šè·¯å¤ç”¨ä¸å¤šè·¯åˆ†è§£ã€‚</p>
<p>ç«¯å£â€”â€”â€”â€”ç”¨äºæ ‡è®°åº”ç”¨å±‚è¿›ç¨‹æˆ–è€…æ˜¯çº¿ç¨‹ï¼ˆ16bitï¼‰</p>
<h3 id="TCPæŠ¥æ–‡"><a href="#TCPæŠ¥æ–‡" class="headerlink" title="TCPæŠ¥æ–‡"></a>TCPæŠ¥æ–‡</h3><ul>
<li><p>åºå·ï¼šå¯¹äºå­—èŠ‚æµè¿›è¡Œç¼–å·ï¼Œè¡¨ç¤ºä¼ è¾“æ•°æ®çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åºå·</p>
</li>
<li><p><strong>ç¡®è®¤å·</strong>ï¼šå¸Œæœ›æ”¶åˆ°çš„ä¸‹ä¸€æ®µæŠ¥æ–‡çš„åºå·ï¼ˆTCPæ˜¯ç´¯è®¡ç¡®è®¤ï¼‰</p>
</li>
<li><p><strong>ç¡®è®¤ ACK</strong>   ï¼šå½“ ACK=1 æ—¶ç¡®è®¤å·å­—æ®µæœ‰æ•ˆï¼Œå¦åˆ™æ— æ•ˆã€‚TCP è§„å®šï¼Œåœ¨è¿æ¥å»ºç«‹åæ‰€æœ‰ä¼ é€çš„æŠ¥æ–‡æ®µéƒ½å¿…é¡»æŠŠ ACK ç½® 1ã€‚</p>
</li>
<li><p><strong>åŒæ­¥ SYN</strong>   ï¼šåœ¨è¿æ¥å»ºç«‹æ—¶ç”¨æ¥åŒæ­¥åºå·ã€‚å½“ SYN=1ï¼ŒACK=0 æ—¶è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µã€‚è‹¥å¯¹æ–¹åŒæ„å»ºç«‹è¿æ¥ï¼Œåˆ™å“åº”æŠ¥æ–‡ä¸­ SYN=1ï¼ŒACK=1ã€‚</p>
</li>
<li><p><strong>ç»ˆæ­¢ FIN</strong>   ï¼šç”¨æ¥é‡Šæ”¾ä¸€ä¸ªè¿æ¥ï¼Œå½“ FIN=1 æ—¶ï¼Œè¡¨ç¤ºæ­¤æŠ¥æ–‡æ®µçš„å‘é€æ–¹çš„æ•°æ®å·²å‘é€å®Œæ¯•ï¼Œå¹¶è¦æ±‚é‡Šæ”¾è¿æ¥ã€‚</p>
</li>
<li><p><strong>çª—å£</strong>   ï¼šçª—å£å€¼ä½œä¸ºæ¥æ”¶æ–¹è®©å‘é€æ–¹è®¾ç½®å…¶å‘é€çª—å£çš„ä¾æ®ã€‚ä¹‹æ‰€ä»¥è¦æœ‰è¿™ä¸ªé™åˆ¶ï¼Œæ˜¯å› ä¸ºæ¥æ”¶æ–¹çš„æ•°æ®ç¼“å­˜ç©ºé—´æ˜¯æœ‰é™çš„ã€‚</p>
</li>
</ul>
<h3 id="TCPä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹"><a href="#TCPä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="TCPä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹"></a>TCPä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹</h3><ul>
<li>ä¸‰æ¬¡æ¡æ‰‹</li>
</ul>
<p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/e92d0ebc-7d46-413b-aec1-34a39602f787.png" alt="pic"></p>
<ol>
<li>é¦–å…ˆBå¤„äºç›‘å¬çŠ¶æ€ï¼Œç­‰å¾…å®¢æˆ·çš„è¿æ¥è¯·æ±‚ã€‚</li>
<li>Aå‘Bå‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼ŒSYN=1ï¼ŒACK=0ï¼Œé€‰æ‹©ä¸€ä¸ªåˆå§‹åºå·x</li>
<li>Bæ”¶åˆ°è¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼Œå¦‚æœç»Ÿä¸€å»ºç«‹è¿æ¥åˆ™å‘é€ç¡®è®¤æŠ¥æ–‡ï¼ŒSYN=1ï¼ŒACK=1ï¼Œç¡®è®¤å·ä¸º x+1ï¼ŒåŒæ—¶ä¹Ÿé€‰æ‹©ä¸€ä¸ªåˆå§‹çš„åºå· yã€‚</li>
<li>Aæ”¶åˆ°Bçš„è¿æ¥ç¡®è®¤ä¹‹åï¼Œè¿˜è¦å‘Bå‘å‡ºç¡®è®¤ï¼Œç¡®è®¤å·ä¸ºy+1ï¼Œåºå·ä¸ºx+1</li>
<li>Bæ”¶åˆ°Aç¡®è®¤åè¿æ¥å»ºç«‹</li>
</ol>
<p>ä¸‰æ¬¡æ¡æ‰‹çš„åŸå› ï¼š<br>é˜²æ­¢å¤±æ•ˆè¿æ¥è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ï¼Œé”™è¯¯å¼€å¯è¿æ¥ã€‚</p>
<p>å®¢æˆ·ç«¯å‘é€çš„è¿æ¥è¯·æ±‚å¦‚æœåœ¨ç½‘ç»œä¸­æ»ç•™ï¼Œé‚£ä¹ˆå°±ä¼šéš”å¾ˆé•¿ä¸€æ®µæ—¶é—´æ‰èƒ½æ”¶åˆ°æœåŠ¡å™¨ç«¯å‘å›çš„è¿æ¥ç¡®è®¤ã€‚å®¢æˆ·ç«¯ç­‰å¾…ä¸€ä¸ªè¶…æ—¶é‡ä¼ æ—¶é—´ä¹‹åï¼Œå°±ä¼šé‡æ–°è¯·æ±‚è¿æ¥ã€‚ä½†æ˜¯è¿™ä¸ªæ»ç•™çš„è¿æ¥è¯·æ±‚æœ€åè¿˜æ˜¯ä¼šåˆ°è¾¾æœåŠ¡å™¨ï¼Œå¦‚æœä¸è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šæ‰“å¼€ä¸¤ä¸ªè¿æ¥ã€‚å¦‚æœæœ‰ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯ä¼šå¿½ç•¥æœåŠ¡å™¨ä¹‹åå‘é€çš„å¯¹æ»ç•™è¿æ¥è¯·æ±‚çš„è¿æ¥ç¡®è®¤ï¼Œä¸è¿›è¡Œç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå› æ­¤å°±ä¸ä¼šå†æ¬¡æ‰“å¼€è¿æ¥ã€‚</p>
<ul>
<li>å››æ¬¡æŒ¥æ‰‹</li>
</ul>
<p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/f87afe72-c2df-4c12-ac03-9b8d581a8af8.jpg" alt="pic"></p>
<ol>
<li>Aå‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡ï¼ŒFIN=1</li>
<li>Bæ”¶åˆ°åå‘å‡ºç¡®è®¤ï¼Œæ­¤æ—¶TCPä¸ºåŠå…³é—­çŠ¶æ€ï¼ŒBèƒ½å‘Aå‘é€æ•°æ®ä½†æ˜¯Aä¸èƒ½å‘Bå‘é€ã€‚</li>
<li>Bä¸å†éœ€è¦è¿æ¥æ—¶ï¼Œå‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡ã€‚</li>
<li>Aæ”¶åˆ°åè¿›å…¥TIME-WAITçŠ¶æ€ï¼Œç­‰å¾…ä¸¤ä¸ªæœ€å¤§æŠ¥æ–‡å­˜æ´»æ—¶é—´åé‡Šæ”¾è¿æ¥</li>
<li>Bæ”¶åˆ°Açš„ç¡®è®¤è¯·æ±‚åé‡Šæ”¾è¿æ¥ã€‚</li>
</ol>
<p>å››æ¬¡æŒ¥æ‰‹çš„åŸå› ï¼š</p>
<p>å®¢æˆ·ç«¯å‘é€FINè¿æ¥é‡Šæ”¾æŠ¥æ–‡ä¹‹åï¼ŒæœåŠ¡å™¨æ”¶åˆ°äº†è¿™ä¸ªæŠ¥æ–‡ï¼Œè¿›å…¥CLOSE-WAITçŠ¶æ€ç­‰å¾…æŠ¥æ–‡ä¼ è¾“ç»“æŸåå‘é€é‡Šæ”¾è¿æ¥æŠ¥æ–‡ã€‚</p>
<p>å››æ¬¡æŒ¥æ‰‹çš„åŸå› è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯TCPæ˜¯å…¨åŒå·¥ï¼Œå› æ­¤éœ€è¦ä¸¤è¾¹éƒ½å…³é—­ã€‚</p>
<p><strong>TIME-WAIT</strong><br>å®¢æˆ·ç«¯æ”¶åˆ°FINæŠ¥æ–‡åè¿›å…¥æ­¤çŠ¶æ€ï¼Œå¹¶ä¸ç›´æ¥closeï¼Œå› ä¸ºï¼š</p>
<ol>
<li>ç¡®ä¿æœ€åä¸€ä¸ªæŠ¥æ–‡èƒ½åˆ°è¾¾ï¼Œå¦‚æœAçš„é‡Šæ”¾ç¡®è®¤æŠ¥æ–‡æ²¡æœ‰åˆ°è¾¾çš„è¯ï¼ŒBè¶…æ—¶ä¹‹åä¼šé‡æ–°å‘é€é‡Šæ”¾è¯·æ±‚æŠ¥æ–‡ï¼ŒAç­‰å¾…å°±æ˜¯ä¸ºäº†å¤„ç†è¿™ä¸ªã€‚</li>
<li>ç­‰å¾…ä¸€æ®µæ—¶é—´æ˜¯ä¸ºäº†è®©æœ¬è¿æ¥æŒç»­æ—¶é—´å†…æ‰€äº§ç”Ÿçš„æ‰€æœ‰æŠ¥æ–‡éƒ½ä»ç½‘ç»œä¸­æ¶ˆå¤±ï¼Œä½¿å¾—ä¸‹ä¸€ä¸ªæ–°çš„è¿æ¥ä¸ä¼šå‡ºç°æ—§çš„è¿æ¥è¯·æ±‚æŠ¥æ–‡ã€‚</li>
</ol>
<h3 id="TCPæ‹¥å¡æ§åˆ¶"><a href="#TCPæ‹¥å¡æ§åˆ¶" class="headerlink" title="TCPæ‹¥å¡æ§åˆ¶"></a>TCPæ‹¥å¡æ§åˆ¶</h3><p>æ…¢å¼€å§‹ã€æ‹¥å¡é¿å…ã€å¿«é€Ÿé‡ä¼ ã€å¿«é€Ÿæ¢å¤</p>
<h4 id="æ…¢å¼€å§‹ä¸æ‹¥å¡é¿å…"><a href="#æ…¢å¼€å§‹ä¸æ‹¥å¡é¿å…" class="headerlink" title="æ…¢å¼€å§‹ä¸æ‹¥å¡é¿å…"></a>æ…¢å¼€å§‹ä¸æ‹¥å¡é¿å…</h4><p>æœ€å¼€å§‹cwndä¸º1ï¼Œæ…¢å¼€å§‹é˜¶æ®µæ²¡æ”¶åˆ°ä¸€ä¸ªACKï¼Œcwnd++ï¼Œå› æ­¤å‘é€æ–¹èƒ½å‘é€çš„æŠ¥æ–‡æ•°é‡ä¸º2ï¼Œ4ï¼Œ6ï¼Œ8.ã€‚ã€‚ã€‚</p>
<p>å½“cwndè¾¾åˆ°ä¹‹å‰è®¾ç½®å¥½çš„ssthreshæ—¶ï¼Œè¿›å…¥æ‹¥å¡é¿å…é˜¶æ®µï¼Œcwndçº¿æ€§å¢é•¿ã€‚</p>
<p>å¦‚æœè¶…æ—¶åˆ™ï¼Œssthresh=cwnd/2ï¼Œé‡æ–°æ…¢å¼€å§‹</p>
<h4 id="å¿«é€Ÿé‡ä¼ ä¸å¿«é€Ÿæ¢å¤"><a href="#å¿«é€Ÿé‡ä¼ ä¸å¿«é€Ÿæ¢å¤" class="headerlink" title="å¿«é€Ÿé‡ä¼ ä¸å¿«é€Ÿæ¢å¤"></a>å¿«é€Ÿé‡ä¼ ä¸å¿«é€Ÿæ¢å¤</h4><p>åœ¨æ¥æ”¶æ–¹ï¼Œè¦æ±‚æ¯æ¬¡æ¥æ”¶åˆ°æŠ¥æ–‡æ®µéƒ½åº”è¯¥å¯¹æœ€åä¸€ä¸ªå·²æ”¶åˆ°çš„æœ‰åºæŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ã€‚ä¾‹å¦‚å·²ç»æ¥æ”¶åˆ° M<sub>1</sub> å’Œ M<sub>2</sub>ï¼Œæ­¤æ—¶æ”¶åˆ° M<sub>4</sub>ï¼Œåº”å½“å‘é€å¯¹ M<sub>2</sub> çš„ç¡®è®¤ã€‚</p>
<p>åœ¨å‘é€æ–¹ï¼Œå¦‚æœæ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤ï¼Œé‚£ä¹ˆå¯ä»¥çŸ¥é“ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µä¸¢å¤±ï¼Œæ­¤æ—¶æ‰§è¡Œå¿«é‡ä¼ ï¼Œç«‹å³é‡ä¼ ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µã€‚ä¾‹å¦‚æ”¶åˆ°ä¸‰ä¸ª M<sub>2</sub>ï¼Œåˆ™ M<sub>3</sub> ä¸¢å¤±ï¼Œç«‹å³é‡ä¼  M<sub>3</sub>ã€‚</p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªæ˜¯ä¸¢å¤±ä¸ªåˆ«æŠ¥æ–‡æ®µï¼Œè€Œä¸æ˜¯ç½‘ç»œæ‹¥å¡ã€‚å› æ­¤æ‰§è¡Œå¿«æ¢å¤ï¼Œä»¤ ssthresh = cwnd / 2 ï¼Œcwnd = ssthreshï¼Œæ³¨æ„åˆ°æ­¤æ—¶<strong>ç›´æ¥è¿›å…¥æ‹¥å¡é¿å…</strong>ã€‚</p>
<p>æ…¢å¼€å§‹å’Œå¿«æ¢å¤çš„å¿«æ…¢æŒ‡çš„æ˜¯ cwnd çš„è®¾å®šå€¼ï¼Œè€Œä¸æ˜¯ cwnd çš„å¢é•¿é€Ÿç‡ã€‚æ…¢å¼€å§‹ cwnd è®¾å®šä¸º 1ï¼Œè€Œå¿«æ¢å¤ cwnd è®¾å®šä¸º ssthreshã€‚</p>
<h2 id="ç½‘ç»œå±‚"><a href="#ç½‘ç»œå±‚" class="headerlink" title="ç½‘ç»œå±‚"></a>ç½‘ç»œå±‚</h2><p>ç½‘ç»œå±‚æ˜¯æ•´ä¸ªäº’è”ç½‘çš„æ ¸å¿ƒï¼Œå› æ­¤åº”å½“è®©ç½‘ç»œå±‚å°½å¯èƒ½ç®€å•ï¼Œä½¿ç”¨IPåè®®å¯ä»¥æŠŠå¼‚æ„çš„ç‰©ç†ç½‘ç»œè¿æ¥èµ·æ¥ï¼Œæ˜¯çš„ç½‘ç»œæˆçœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªç»Ÿä¸€çš„ç½‘ç»œã€‚</p>
<h3 id="IPæ•°æ®æŠ¥æ ¼å¼"><a href="#IPæ•°æ®æŠ¥æ ¼å¼" class="headerlink" title="IPæ•°æ®æŠ¥æ ¼å¼"></a>IPæ•°æ®æŠ¥æ ¼å¼</h3><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/85c05fb1-5546-4c50-9221-21f231cdc8c5.jpg" alt="ip"></p>
<ul>
<li><p><strong>ç‰ˆæœ¬</strong>   : æœ‰ 4ï¼ˆIPv4ï¼‰å’Œ 6ï¼ˆIPv6ï¼‰ä¸¤ä¸ªå€¼ï¼›</p>
</li>
<li><p><strong>é¦–éƒ¨é•¿åº¦</strong>   : å  4 ä½ï¼Œå› æ­¤æœ€å¤§å€¼ä¸º 15ã€‚å€¼ä¸º 1 è¡¨ç¤ºçš„æ˜¯ 1 ä¸ª 32 ä½å­—çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯ 4 å­—èŠ‚ã€‚å› ä¸ºå›ºå®šéƒ¨åˆ†é•¿åº¦ä¸º 20 å­—èŠ‚ï¼Œå› æ­¤è¯¥å€¼æœ€å°ä¸º 5ã€‚å¦‚æœå¯é€‰å­—æ®µçš„é•¿åº¦ä¸æ˜¯ 4 å­—èŠ‚çš„æ•´æ•°å€ï¼Œå°±ç”¨å°¾éƒ¨çš„å¡«å……éƒ¨åˆ†æ¥å¡«å……ã€‚</p>
</li>
<li><p><strong>åŒºåˆ†æœåŠ¡</strong>   : ç”¨æ¥è·å¾—æ›´å¥½çš„æœåŠ¡ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸ä½¿ç”¨ã€‚</p>
</li>
<li><p><strong>æ€»é•¿åº¦</strong>   : åŒ…æ‹¬é¦–éƒ¨é•¿åº¦å’Œæ•°æ®éƒ¨åˆ†é•¿åº¦ã€‚</p>
</li>
<li><p><strong>ç”Ÿå­˜æ—¶é—´</strong>   ï¼šTTLï¼Œå®ƒçš„å­˜åœ¨æ˜¯ä¸ºäº†é˜²æ­¢æ— æ³•äº¤ä»˜çš„æ•°æ®æŠ¥åœ¨äº’è”ç½‘ä¸­ä¸æ–­å…œåœˆå­ã€‚ä»¥è·¯ç”±å™¨è·³æ•°ä¸ºå•ä½ï¼Œå½“ TTL ä¸º 0 æ—¶å°±ä¸¢å¼ƒæ•°æ®æŠ¥ã€‚</p>
</li>
<li><p><strong>åè®®</strong>  ï¼šæŒ‡å‡ºæºå¸¦çš„æ•°æ®åº”è¯¥ä¸Šäº¤ç»™å“ªä¸ªåè®®è¿›è¡Œå¤„ç†ï¼Œä¾‹å¦‚ ICMPã€TCPã€UDP ç­‰ã€‚</p>
</li>
<li><p><strong>é¦–éƒ¨æ£€éªŒå’Œ</strong>  ï¼šå› ä¸ºæ•°æ®æŠ¥æ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨ï¼Œéƒ½è¦é‡æ–°è®¡ç®—æ£€éªŒå’Œï¼Œå› æ­¤æ£€éªŒå’Œä¸åŒ…å«æ•°æ®éƒ¨åˆ†å¯ä»¥å‡å°‘è®¡ç®—çš„å·¥ä½œé‡ã€‚</p>
</li>
<li><p><strong>æ ‡è¯†</strong>   : åœ¨æ•°æ®æŠ¥é•¿åº¦è¿‡é•¿ä»è€Œå‘ç”Ÿåˆ†ç‰‡çš„æƒ…å†µä¸‹ï¼Œç›¸åŒæ•°æ®æŠ¥çš„ä¸åŒåˆ†ç‰‡å…·æœ‰ç›¸åŒçš„æ ‡è¯†ç¬¦ã€‚</p>
</li>
<li><p><strong>ç‰‡åç§»</strong>   : å’Œæ ‡è¯†ç¬¦ä¸€èµ·ï¼Œç”¨äºå‘ç”Ÿåˆ†ç‰‡çš„æƒ…å†µã€‚<strong>ç‰‡åç§»çš„å•ä½ä¸º 8 å­—èŠ‚ã€‚</strong></p>
</li>
</ul>
<p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/23ba890e-e11c-45e2-a20c-64d217f83430.png" alt="pic"></p>
<h3 id="IPåœ°å€ç¼–ç "><a href="#IPåœ°å€ç¼–ç " class="headerlink" title="IPåœ°å€ç¼–ç "></a>IPåœ°å€ç¼–ç </h3><ol>
<li>åˆ†ç±»ï¼šç½‘ç»œå·+ä¸»æœºå·ï¼Œä¸å…¬çš„åˆ†ç±»å…·æœ‰ä¸åŒçš„å›ºå®šçš„ç½‘ç»œå·é•¿åº¦</li>
<li>å­ç½‘åˆ’åˆ†ï¼šç½‘ç»œå·ä¸­åˆ’åˆ†ä¸€éƒ¨åˆ†ä½œä¸ºå­ç½‘ï¼ŒIPåœ°å€å˜ä¸ºä¸‰çº§ï¼Œä½¿ç”¨æ—¶éœ€è¦å­ç½‘æ©ç </li>
<li>æ— åˆ†ç±»ï¼ˆç½‘ç»œå‰ç¼€ï¼‰ï¼šCIDR =&gt; è·¯ç”±èšåˆ<br>ä¸€ä¸ª CIDR åœ°å€å—ä¸­æœ‰å¾ˆå¤šåœ°å€ï¼Œä¸€ä¸ª CIDR è¡¨ç¤ºçš„ç½‘ç»œå°±å¯ä»¥è¡¨ç¤ºåŸæ¥çš„å¾ˆå¤šä¸ªç½‘ç»œï¼Œå¹¶ä¸”åœ¨è·¯ç”±è¡¨ä¸­åªéœ€è¦ä¸€ä¸ªè·¯ç”±å°±å¯ä»¥ä»£æ›¿åŸæ¥çš„å¤šä¸ªè·¯ç”±ï¼Œå‡å°‘äº†è·¯ç”±è¡¨é¡¹çš„æ•°é‡ã€‚æŠŠè¿™ç§é€šè¿‡ä½¿ç”¨ç½‘ç»œå‰ç¼€æ¥å‡å°‘è·¯ç”±è¡¨é¡¹çš„æ–¹å¼ç§°ä¸ºè·¯ç”±èšåˆï¼Œä¹Ÿç§°ä¸º   <strong>æ„æˆè¶…ç½‘</strong>  ã€‚<br>è·¯ç”±è¡¨ä¸­é¡¹ç›®ç”±â€œç½‘ç»œå‰ç¼€â€å’Œâ€œä¸‹ä¸€è·³åœ°å€â€ç»„æˆï¼Œéµå¾ªæœ€é•¿å‰ç¼€åŒ¹é…åŸåˆ™ã€‚</li>
</ol>
<h3 id="åœ°å€è§£æåè®®ARP"><a href="#åœ°å€è§£æåè®®ARP" class="headerlink" title="åœ°å€è§£æåè®®ARP"></a>åœ°å€è§£æåè®®ARP</h3><p>ç½‘ç»œå±‚å®ç°ä¸»æœºä¹‹é—´çš„é€šä¿¡ï¼Œè€Œé“¾è·¯å±‚è´Ÿè´£æ¯æ®µå…·ä½“é“¾è·¯çš„é€šä¿¡ã€‚å› æ­¤åœ¨å®é™…ä¼ è¾“è¿‡ç¨‹ä¸­ï¼ŒIPæ•°æ®æŠ¥çš„æºåœ°å€å’Œç›®çš„åœ°å€å§‹ç»ˆä¸å˜ï¼ŒMACåœ°å€ä¸€ç›´åœ¨æ”¹å˜ã€‚</p>
<p>è€ŒARPåè®®å¯ä»¥é€šè¿‡IPåœ°å€å¾—åˆ°MACåœ°å€ã€‚</p>
<h3 id="è™šæ‹Ÿä¸“ç”¨ç½‘ç»œ"><a href="#è™šæ‹Ÿä¸“ç”¨ç½‘ç»œ" class="headerlink" title="è™šæ‹Ÿä¸“ç”¨ç½‘ç»œ"></a>è™šæ‹Ÿä¸“ç”¨ç½‘ç»œ</h3><p>ç”±äº IP åœ°å€çš„ç´§ç¼ºï¼Œä¸€ä¸ªæœºæ„èƒ½ç”³è¯·åˆ°çš„ IP åœ°å€æ•°å¾€å¾€è¿œå°äºæœ¬æœºæ„æ‰€æ‹¥æœ‰çš„ä¸»æœºæ•°ã€‚å¹¶ä¸”ä¸€ä¸ªæœºæ„å¹¶ä¸éœ€è¦æŠŠæ‰€æœ‰çš„ä¸»æœºæ¥å…¥åˆ°å¤–éƒ¨çš„äº’è”ç½‘ä¸­ï¼Œæœºæ„å†…çš„è®¡ç®—æœºå¯ä»¥ä½¿ç”¨ä»…åœ¨æœ¬æœºæ„æœ‰æ•ˆçš„ IP åœ°å€ï¼ˆä¸“ç”¨åœ°å€ï¼‰ã€‚</p>
<h3 id="è·¯ç”±é€‰æ‹©ç®—æ³•"><a href="#è·¯ç”±é€‰æ‹©ç®—æ³•" class="headerlink" title="è·¯ç”±é€‰æ‹©ç®—æ³•"></a>è·¯ç”±é€‰æ‹©ç®—æ³•</h3><p><img src="https://i.loli.net/2020/03/08/uAk8QLew3HZPr27.jpg" alt="Jietu20200308-170712@2x"></p>
<h4 id="OSPF"><a href="#OSPF" class="headerlink" title="OSPF"></a>OSPF</h4><p>å¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆç®—æ³•ï¼Œæ´ªæ³›å¼äº¤æ¢èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œå¿«é€Ÿæ”¶æ•›ï¼Œé€šè¿‡Dijkstraç®—æ³•è®¡ç®—æœ€çŸ­è·¯å¾„ã€‚</p>
<p>å…¶åŸºäºIPåšæ´ªæ³›å¼ä¿¡æ¯äº¤æ¢ä½¿å¾—æ¯ä¸ªä¸»æœºéƒ½å¯ä»¥ç»´æŠ¤æ•´ä¸ªç½‘ç»œçš„æ‹“æ‰‘ç»“æ„ã€‚</p>
<p>å½“çŠ¶æ€å˜åŒ–æ—¶é€šçŸ¥å…¶ä»–ä¸»æœºï¼Œå³ä½¿æ²¡æœ‰å˜åŒ–ï¼Œæ¯30åˆ†é’Ÿä¹Ÿè¦é€šä¿¡ä¸€æ¬¡ã€‚</p>
<p>å…¶é€šä¿¡å…·æœ‰åºåˆ—å·ï¼Œå¹¶ä½¿ç”¨MD5åŠ å¯†ã€‚</p>
<blockquote>
<p><a href="https://zh.wikipedia.org/wiki/MD5" target="_blank" rel="noopener">MD5wiki</a></p>
</blockquote>
<h4 id="RIP"><a href="#RIP" class="headerlink" title="RIP"></a>RIP</h4><p>RIP æ˜¯ä¸€ç§åŸºäºè·ç¦»å‘é‡çš„è·¯ç”±é€‰æ‹©åè®®ã€‚è·ç¦»æ˜¯æŒ‡è·³æ•°ï¼Œç›´æ¥ç›¸è¿çš„è·¯ç”±å™¨è·³æ•°ä¸º 1ã€‚è·³æ•°æœ€å¤šä¸º 15ï¼Œè¶…è¿‡ 15 è¡¨ç¤ºä¸å¯è¾¾ã€‚</p>
<p>RIP æŒ‰å›ºå®šçš„æ—¶é—´é—´éš”ä»…å’Œç›¸é‚»è·¯ç”±å™¨äº¤æ¢è‡ªå·±çš„è·¯ç”±è¡¨ï¼Œç»è¿‡è‹¥å¹²æ¬¡äº¤æ¢ä¹‹åï¼Œæ‰€æœ‰è·¯ç”±å™¨æœ€ç»ˆä¼šçŸ¥é“åˆ°è¾¾æœ¬è‡ªæ²»ç³»ç»Ÿä¸­ä»»ä½•ä¸€ä¸ªç½‘ç»œçš„æœ€çŸ­è·ç¦»å’Œä¸‹ä¸€è·³è·¯ç”±å™¨åœ°å€ã€‚</p>
<p>è·ç¦»å‘é‡ç®—æ³•ï¼š</p>
<ul>
<li>å¯¹åœ°å€ä¸º X çš„ç›¸é‚»è·¯ç”±å™¨å‘æ¥çš„ RIP æŠ¥æ–‡ï¼Œå…ˆä¿®æ”¹æŠ¥æ–‡ä¸­çš„æ‰€æœ‰é¡¹ç›®ï¼ŒæŠŠä¸‹ä¸€è·³å­—æ®µä¸­çš„åœ°å€æ”¹ä¸º Xï¼Œå¹¶æŠŠæ‰€æœ‰çš„è·ç¦»å­—æ®µåŠ  1ï¼›</li>
<li>å¯¹ä¿®æ”¹åçš„ RIP æŠ¥æ–‡ä¸­çš„æ¯ä¸€ä¸ªé¡¹ç›®ï¼Œè¿›è¡Œä»¥ä¸‹æ­¥éª¤ï¼š<ul>
<li>è‹¥åŸæ¥çš„è·¯ç”±è¡¨ä¸­æ²¡æœ‰ç›®çš„ç½‘ç»œ Nï¼Œåˆ™æŠŠè¯¥é¡¹ç›®æ·»åŠ åˆ°è·¯ç”±è¡¨ä¸­ï¼›</li>
<li>å¦åˆ™ï¼šè‹¥ä¸‹ä¸€è·³è·¯ç”±å™¨åœ°å€æ˜¯ Xï¼Œåˆ™æŠŠæ”¶åˆ°çš„é¡¹ç›®æ›¿æ¢åŸæ¥è·¯ç”±è¡¨ä¸­çš„é¡¹ç›®ï¼›å¦åˆ™ï¼šè‹¥æ”¶åˆ°çš„é¡¹ç›®ä¸­çš„è·ç¦» d å°äºè·¯ç”±è¡¨ä¸­çš„è·ç¦»ï¼Œåˆ™è¿›è¡Œæ›´æ–°ï¼ˆä¾‹å¦‚åŸå§‹è·¯ç”±è¡¨é¡¹ä¸º Net2, 5, Pï¼Œæ–°è¡¨é¡¹ä¸º Net2, 4, Xï¼Œåˆ™æ›´æ–°ï¼‰ï¼›å¦åˆ™ä»€ä¹ˆä¹Ÿä¸åšã€‚</li>
</ul>
</li>
<li>è‹¥ 3 åˆ†é’Ÿè¿˜æ²¡æœ‰æ”¶åˆ°ç›¸é‚»è·¯ç”±å™¨çš„æ›´æ–°è·¯ç”±è¡¨ï¼Œåˆ™æŠŠè¯¥ç›¸é‚»è·¯ç”±å™¨æ ‡ä¸ºä¸å¯è¾¾ï¼Œå³æŠŠè·ç¦»ç½®ä¸º 16ã€‚</li>
</ul>
<p>RIP åè®®å®ç°ç®€å•ï¼Œå¼€é”€å°ã€‚ä½†æ˜¯ RIP èƒ½ä½¿ç”¨çš„æœ€å¤§è·ç¦»ä¸º 15ï¼Œé™åˆ¶äº†ç½‘ç»œçš„è§„æ¨¡ã€‚å¹¶ä¸”å½“ç½‘ç»œå‡ºç°æ•…éšœæ—¶ï¼Œè¦ç»è¿‡æ¯”è¾ƒé•¿çš„æ—¶é—´æ‰èƒ½å°†æ­¤æ¶ˆæ¯ä¼ é€åˆ°æ‰€æœ‰è·¯ç”±å™¨</p>
<h4 id="BGP"><a href="#BGP" class="headerlink" title="BGP"></a>BGP</h4><p>BGPï¼ˆBorder Gateway Protocolï¼Œè¾¹ç•Œç½‘å…³åè®®ï¼‰</p>
<p>AS ä¹‹é—´çš„è·¯ç”±é€‰æ‹©å¾ˆå›°éš¾ï¼Œä¸»è¦æ˜¯ç”±äºï¼š</p>
<ul>
<li>äº’è”ç½‘è§„æ¨¡å¾ˆå¤§ï¼›</li>
<li>å„ä¸ª AS å†…éƒ¨ä½¿ç”¨ä¸åŒçš„è·¯ç”±é€‰æ‹©åè®®ï¼Œæ— æ³•å‡†ç¡®å®šä¹‰è·¯å¾„çš„åº¦é‡ï¼›</li>
<li>AS ä¹‹é—´çš„è·¯ç”±é€‰æ‹©å¿…é¡»è€ƒè™‘æœ‰å…³çš„ç­–ç•¥ï¼Œæ¯”å¦‚æœ‰äº› AS ä¸æ„¿æ„è®©å…¶å®ƒ AS ç»è¿‡ã€‚</li>
</ul>
<p>BGP åªèƒ½å¯»æ‰¾ä¸€æ¡æ¯”è¾ƒå¥½çš„è·¯ç”±ï¼Œè€Œä¸æ˜¯æœ€ä½³è·¯ç”±ã€‚</p>
<p>æ¯ä¸ª AS éƒ½å¿…é¡»é…ç½® BGP å‘è¨€äººï¼Œé€šè¿‡åœ¨ä¸¤ä¸ªç›¸é‚» BGP å‘è¨€äººä¹‹é—´å»ºç«‹ TCP è¿æ¥æ¥äº¤æ¢è·¯ç”±ä¿¡æ¯ã€‚</p>
<h2 id="é“¾è·¯å±‚"><a href="#é“¾è·¯å±‚" class="headerlink" title="é“¾è·¯å±‚"></a>é“¾è·¯å±‚</h2><h3 id="CSMA-CD"><a href="#CSMA-CD" class="headerlink" title="CSMA/CD"></a>CSMA/CD</h3><p>CSMA/CD è¡¨ç¤ºè½½æ³¢ç›‘å¬å¤šç‚¹æ¥å…¥ / ç¢°æ’æ£€æµ‹ã€‚</p>
<ul>
<li><strong>å¤šç‚¹æ¥å…¥</strong>  ï¼šè¯´æ˜è¿™æ˜¯æ€»çº¿å‹ç½‘ç»œï¼Œè®¸å¤šä¸»æœºä»¥å¤šç‚¹çš„æ–¹å¼è¿æ¥åˆ°æ€»çº¿ä¸Šã€‚</li>
<li><strong>è½½æ³¢ç›‘å¬</strong>  ï¼šæ¯ä¸ªä¸»æœºéƒ½å¿…é¡»ä¸åœåœ°ç›‘å¬ä¿¡é“ã€‚åœ¨å‘é€å‰ï¼Œå¦‚æœç›‘å¬åˆ°ä¿¡é“æ­£åœ¨ä½¿ç”¨ï¼Œå°±å¿…é¡»ç­‰å¾…ã€‚</li>
<li><strong>ç¢°æ’æ£€æµ‹</strong>  ï¼šåœ¨å‘é€ä¸­ï¼Œå¦‚æœç›‘å¬åˆ°ä¿¡é“å·²æœ‰å…¶å®ƒä¸»æœºæ­£åœ¨å‘é€æ•°æ®ï¼Œå°±è¡¨ç¤ºå‘ç”Ÿäº†ç¢°æ’ã€‚è™½ç„¶æ¯ä¸ªä¸»æœºåœ¨å‘é€æ•°æ®ä¹‹å‰éƒ½å·²ç»ç›‘å¬åˆ°ä¿¡é“ä¸ºç©ºé—²ï¼Œä½†æ˜¯ç”±äºç”µç£æ³¢çš„ä¼ æ’­æ—¶å»¶çš„å­˜åœ¨ï¼Œè¿˜æ˜¯æœ‰å¯èƒ½ä¼šå‘ç”Ÿç¢°æ’ã€‚</li>
</ul>
<p>è®°ç«¯åˆ°ç«¯çš„ä¼ æ’­æ—¶å»¶ä¸º Ï„ï¼Œæœ€å…ˆå‘é€çš„ç«™ç‚¹æœ€å¤šç»è¿‡ 2Ï„ å°±å¯ä»¥çŸ¥é“æ˜¯å¦å‘ç”Ÿäº†ç¢°æ’ï¼Œç§° 2Ï„ ä¸º   <strong>äº‰ç”¨æœŸ</strong>  ã€‚åªæœ‰ç»è¿‡äº‰ç”¨æœŸä¹‹åè¿˜æ²¡æœ‰æ£€æµ‹åˆ°ç¢°æ’ï¼Œæ‰èƒ½è‚¯å®šè¿™æ¬¡å‘é€ä¸ä¼šå‘ç”Ÿç¢°æ’ã€‚</p>
<p>å½“å‘ç”Ÿç¢°æ’æ—¶ï¼Œç«™ç‚¹è¦åœæ­¢å‘é€ï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´å†å‘é€ã€‚è¿™ä¸ªæ—¶é—´é‡‡ç”¨   <strong>æˆªæ–­äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ç®—æ³•</strong>   æ¥ç¡®å®šã€‚ä»ç¦»æ•£çš„æ•´æ•°é›†åˆ {0, 1, .., (2<sup>k</sup>-1)} ä¸­éšæœºå–å‡ºä¸€ä¸ªæ•°ï¼Œè®°ä½œ rï¼Œç„¶åå– r å€çš„äº‰ç”¨æœŸä½œä¸ºé‡ä¼ ç­‰å¾…æ—¶é—´ã€‚</p>
<h3 id="äº¤æ¢æœº"><a href="#äº¤æ¢æœº" class="headerlink" title="äº¤æ¢æœº"></a>äº¤æ¢æœº</h3><p>äº¤æ¢æœºå…·æœ‰è‡ªå­¦ä¹ èƒ½åŠ›ï¼Œå­¦ä¹ çš„æ˜¯äº¤æ¢è¡¨çš„å†…å®¹ï¼Œäº¤æ¢è¡¨ä¸­å­˜å‚¨ç€ MAC åœ°å€åˆ°æ¥å£çš„æ˜ å°„ã€‚</p>
<p>æ­£æ˜¯ç”±äºè¿™ç§è‡ªå­¦ä¹ èƒ½åŠ›ï¼Œå› æ­¤äº¤æ¢æœºæ˜¯ä¸€ç§å³æ’å³ç”¨è®¾å¤‡ï¼Œä¸éœ€è¦ç½‘ç»œç®¡ç†å‘˜æ‰‹åŠ¨é…ç½®äº¤æ¢è¡¨å†…å®¹ã€‚</p>
<p>ä¸‹å›¾ä¸­ï¼Œäº¤æ¢æœºæœ‰ 4 ä¸ªæ¥å£ï¼Œä¸»æœº A å‘ä¸»æœº B å‘é€æ•°æ®å¸§æ—¶ï¼Œäº¤æ¢æœºæŠŠä¸»æœº A åˆ°æ¥å£ 1 çš„æ˜ å°„å†™å…¥äº¤æ¢è¡¨ä¸­ã€‚ä¸ºäº†å‘é€æ•°æ®å¸§åˆ° Bï¼Œå…ˆæŸ¥äº¤æ¢è¡¨ï¼Œæ­¤æ—¶æ²¡æœ‰ä¸»æœº B çš„è¡¨é¡¹ï¼Œé‚£ä¹ˆä¸»æœº A å°±å‘é€å¹¿æ’­å¸§ï¼Œä¸»æœº C å’Œä¸»æœº D ä¼šä¸¢å¼ƒè¯¥å¸§ï¼Œä¸»æœº B å›åº”è¯¥å¸§å‘ä¸»æœº A å‘é€æ•°æ®åŒ…æ—¶ï¼Œäº¤æ¢æœºæŸ¥æ‰¾äº¤æ¢è¡¨å¾—åˆ°ä¸»æœº A æ˜ å°„çš„æ¥å£ä¸º 1ï¼Œå°±å‘é€æ•°æ®å¸§åˆ°æ¥å£ 1ï¼ŒåŒæ—¶äº¤æ¢æœºæ·»åŠ ä¸»æœº B åˆ°æ¥å£ 2 çš„æ˜ å°„ã€‚</p>
<p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/a4444545-0d68-4015-9a3d-19209dc436b3.png" alt="pic"></p>
<h3 id="è™šæ‹Ÿå±€åŸŸç½‘"><a href="#è™šæ‹Ÿå±€åŸŸç½‘" class="headerlink" title="è™šæ‹Ÿå±€åŸŸç½‘"></a>è™šæ‹Ÿå±€åŸŸç½‘</h3><p>è™šæ‹Ÿå±€åŸŸç½‘å¯ä»¥å»ºç«‹ä¸ç‰©ç†ä½ç½®æ— å…³çš„é€»è¾‘ç»„ï¼Œåªæœ‰åœ¨åŒä¸€ä¸ªè™šæ‹Ÿå±€åŸŸç½‘ä¸­çš„æˆå‘˜æ‰ä¼šæ”¶åˆ°é“¾è·¯å±‚å¹¿æ’­ä¿¡æ¯ã€‚</p>
<p>ä¾‹å¦‚ä¸‹å›¾ä¸­ (A1, A2, A3, A4) å±äºä¸€ä¸ªè™šæ‹Ÿå±€åŸŸç½‘ï¼ŒA1 å‘é€çš„å¹¿æ’­ä¼šè¢« A2ã€A3ã€A4 æ”¶åˆ°ï¼Œè€Œå…¶å®ƒç«™ç‚¹æ”¶ä¸åˆ°ã€‚</p>
<p>ä½¿ç”¨ VLAN å¹²çº¿è¿æ¥æ¥å»ºç«‹è™šæ‹Ÿå±€åŸŸç½‘ï¼Œæ¯å°äº¤æ¢æœºä¸Šçš„ä¸€ä¸ªç‰¹æ®Šæ¥å£è¢«è®¾ç½®ä¸ºå¹²çº¿æ¥å£ï¼Œä»¥äº’è¿ VLAN äº¤æ¢æœºã€‚IEEE å®šä¹‰äº†ä¸€ç§æ‰©å±•çš„ä»¥å¤ªç½‘å¸§æ ¼å¼ 802.1Qï¼Œå®ƒåœ¨æ ‡å‡†ä»¥å¤ªç½‘å¸§ä¸ŠåŠ è¿›äº† 4 å­—èŠ‚é¦–éƒ¨ VLAN æ ‡ç­¾ï¼Œç”¨äºè¡¨ç¤ºè¯¥å¸§å±äºå“ªä¸€ä¸ªè™šæ‹Ÿå±€åŸŸç½‘ã€‚</p>
<p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/e98e9d20-206b-4533-bacf-3448d0096f38.png" alt="pic"></p>
<h2 id="HTTP-TCP-UDP"><a href="#HTTP-TCP-UDP" class="headerlink" title="HTTP/TCP/UDP"></a>HTTP/TCP/UDP</h2><h3 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h3><p><a href="https://www.cnblogs.com/an-wen/p/11180076.html" target="_blank" rel="noopener">httpå‚è€ƒæ–‡ç« </a></p>
<p>httpæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯ç»ˆç«¯å’ŒæœåŠ¡å™¨ç«¯è¯·æ±‚å’Œåº”ç­”çš„æ ‡å‡†ã€‚</p>
<p>httpåè®®ä¸­å¹¶æœªæŒ‡å®šå¿…é¡»ä½¿ç”¨çš„å±‚ã€‚httpå®é™…å¯ä»¥è¿è¡Œåœ¨ä»»ä½•åè®®ä¸Šï¼Œåªä¸è¿‡å…¶å‡å®šä¸‹å±‚åè®®æä¾›å¯é çš„ä¼ è¾“ï¼Œå› æ­¤ï¼Œä»»ä½•æä¾›è¿™ç§ä¿è¯çš„ä¸‹å±‚åè®®éƒ½å¯ä»¥è¢«ä½¿ç”¨ã€‚</p>
<h4 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h4><p>åè®®å®šä¹‰äº†å®¢æˆ·ç«¯å¦‚ä½•ä»æœåŠ¡å™¨è¯·æ±‚webé¡µé¢ï¼Œä»¥åŠæœåŠ¡å™¨å¦‚ä½•å°†webé¡µé¢è¿”å›å®¢æˆ·ç«¯ã€‚</p>
<p>httpåè®®ä½¿ç”¨äº†è¯·æ±‚/å“åº”æ¨¡å‹ï¼š<br>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€ä¸€ä¸ªè¯·æ±‚æŠ¥æ–‡ï¼Œå…¶ä¸­åŒ…æ‹¬<strong>è¯·æ±‚çš„æ–¹æ³•ã€URLã€åè®®ç‰ˆæœ¬ä»¥åŠè¯·æ±‚å¤´éƒ¨å’Œè¯·æ±‚æ•°æ®</strong>ã€‚æœåŠ¡å™¨åˆ™ä»¥ä¸€ä¸ªçŠ¶æ€è¡Œä½œä¸ºå“åº”ï¼Œå†…å®¹åŒ…æ‹¬åè®®ç‰ˆæœ¬ã€æˆåŠŸæˆ–è€…é”™è¯¯ä»£ç ã€æœåŠ¡å™¨ä¿¡æ¯ã€å“åº”å¤´éƒ¨å’Œå“åº”æ•°æ®ã€‚</p>
<p>åœ¨æµè§ˆå™¨é”®å…¥ä¸€ä¸ªurlï¼Œä¼šç»å†ä¸€ä¸‹æµç¨‹ï¼š</p>
<ol>
<li>dnsè§£æurlåŸŸåä¸­å¯¹åº”çš„ipåœ°å€</li>
<li>è§£æå‡ºipåœ°å€ä¹‹åï¼Œæ ¹æ®ipå’Œé»˜è®¤ç«¯å£å·80ï¼Œå’ŒæœåŠ¡å™¨å»ºç«‹tcpè¿æ¥ã€‚</li>
<li>æµè§ˆå™¨å‘å‡ºè¯»å–æ–‡ä»¶(URL ä¸­åŸŸååé¢éƒ¨åˆ†å¯¹åº”çš„æ–‡ä»¶)çš„HTTP è¯·æ±‚ï¼Œè¯¥è¯·æ±‚æŠ¥æ–‡ä½œä¸º TCP ä¸‰æ¬¡æ¡æ‰‹çš„ç¬¬ä¸‰ä¸ªæŠ¥æ–‡çš„æ•°æ®å‘é€ç»™æœåŠ¡å™¨;</li>
<li>æœåŠ¡å™¨æ ¹æ®è¯·æ±‚å†…å®¹ä½œå‡ºå“åº”ï¼Œè¿”å›ç›¸åº”æŠ¥æ–‡</li>
<li>æ ¹æ®è¿æ¥ç±»å‹æ–­å¼€è¿æ¥æˆ–è€…ç»´æŒä¸€æ®µæ—¶é—´ã€‚</li>
<li>æµè§ˆå™¨é¡µé¢æ¸²æŸ“ã€‚</li>
</ol>
<p>httpæ˜¯ä¸€ç§æ— çŠ¶æ€çš„åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´å…¶è‡ªèº«ä¸å¯¹è¯·æ±‚/å“åº”ä¹‹é—´çš„é€šè®¯çŠ¶æ€è¿›è¡Œä¿å­˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨åè®®çº§åˆ«ï¼Œä¸å¯¹ä¹‹å‰çš„è¯·æ±‚å’Œå“åº”åšä¿å­˜ã€‚</p>
<p>cookieæŠ€æœ¯æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹å¼ã€‚</p>
<h4 id="httpè¯·æ±‚æ–¹æ³•"><a href="#httpè¯·æ±‚æ–¹æ³•" class="headerlink" title="httpè¯·æ±‚æ–¹æ³•"></a>httpè¯·æ±‚æ–¹æ³•</h4><p>http/1.1ä¸­ä¸€å…±æœ‰8ç§æ–¹æ³•ï¼š</p>
<ol>
<li><p>GET<br>å‘æŒ‡å®šèµ„æºå‘èµ·è¯·æ±‚ã€‚è¯¥æ–¹æ³•åº”åªç”¨åœ¨è¯»å–æ•°æ®ï¼Œè€Œä¸åº”å½“ç”¨åœ¨äº§ç”Ÿå‰¯ä½œç”¨çš„æ“ä½œä¸­ã€‚åŸå› æ˜¯getå¯ä»¥è¢«çˆ¬è™«éšæ„è®¿é—®ã€‚</p>
</li>
<li><p>HEAD<br>åŒgetç±»ä¼¼ï¼Œæ˜¯å‘æœåŠ¡å™¨å‘å‡ºæŒ‡å®šèµ„æºçš„è¯·æ±‚ã€‚åªä¸è¿‡æœåŠ¡å™¨å°†ä¸ä¼ å›èµ„æºçš„æœ¬æ–‡éƒ¨åˆ†ã€‚</p>
</li>
<li><p>POST<br>å‘æŒ‡å®šèµ„æºæäº¤æ•°æ®ï¼Œè¯·æ±‚æœåŠ¡å™¨è¿›è¡Œå¤„ç†ã€‚æ•°æ®è¢«æ”¾åœ¨è¯·æ±‚ä½“ä¸­ï¼Œå¯èƒ½ä¼šåˆ›å»ºèµ„æºæˆ–è€…ä¿®æ”¹èµ„æºã€‚</p>
</li>
<li><p>PUT<br>å‘æŒ‡å®šä½ç½®ä¸Šä¼ å…¶æœ€æ–°å†…å®¹ã€‚</p>
</li>
<li><p>DELETE<br>è¯·æ±‚æœåŠ¡å™¨åˆ é™¤æ ‡è¯†èµ„æºã€‚</p>
</li>
<li><p>TRACE<br>å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œç”¨äºè°ƒè¯•</p>
</li>
<li><p>OPTIONS<br>è¿™ä¸ªæ–¹æ³•å¯ä½¿æœåŠ¡å™¨ä¼ å›è¯¥èµ„æºæ‰€æ”¯æŒçš„æ‰€æœ‰HTTPè¯·æ±‚æ–¹æ³•ã€‚ç”¨â€™*â€™æ¥ä»£æ›¿èµ„æºåç§°ï¼Œå‘WebæœåŠ¡å™¨å‘é€OPTIONSè¯·æ±‚ï¼Œå¯ä»¥æµ‹è¯•æœåŠ¡å™¨åŠŸèƒ½æ˜¯å¦æ­£å¸¸è¿ä½œã€‚</p>
</li>
<li><p>CONNECT<br>HTTP/1.1åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚é€šå¸¸ç”¨äºSSLåŠ å¯†æœåŠ¡å™¨çš„é“¾æ¥ï¼ˆç»ç”±éåŠ å¯†çš„HTTPä»£ç†æœåŠ¡å™¨ï¼‰ã€‚</p>
</li>
</ol>
<p>âš ï¸æ³¨æ„äº‹é¡¹ï¼š</p>
<ol>
<li><p>æ–¹æ³•ååŒºåˆ†å¤§å°å†™ã€‚<br>å½“æŸä¸ªè¯·æ±‚æ‰€é’ˆå¯¹çš„èµ„æºä¸æ”¯æŒå¯¹åº”çš„è¯·æ±‚æ–¹æ³•çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨åº”å½“è¿”å›çŠ¶æ€ç 405ï¼ˆMethod Not Allowedï¼‰ï¼Œå½“æœåŠ¡å™¨ä¸è®¤è¯†æˆ–è€…ä¸æ”¯æŒå¯¹åº”çš„è¯·æ±‚æ–¹æ³•çš„æ—¶å€™ï¼Œåº”å½“è¿”å›çŠ¶æ€ç 501ï¼ˆNot Implementedï¼‰ã€‚</p>
</li>
<li><p>æœåŠ¡å™¨è‡³å°‘åº”å½“å®ç°GETæˆ–è€…HEADæ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•éƒ½æ˜¯å¯é€‰çš„ã€‚</p>
</li>
</ol>
<h4 id="httpçŠ¶æ€ç "><a href="#httpçŠ¶æ€ç " class="headerlink" title="httpçŠ¶æ€ç "></a>httpçŠ¶æ€ç </h4><p>æ‰€æœ‰çš„httpå“åº”ç¬¬ä¸€è¡Œéƒ½æ˜¯çŠ¶æ€ç ï¼Œä¾æ¬¡æ˜¯httpç‰ˆæœ¬å·ã€ä¸‰ä½çŠ¶æ€ç ã€ä»¥åŠæè¿°çŠ¶æ€çš„çŸ­è¯­ç”±ç©ºæ ¼åˆ†éš”ã€‚</p>
<table>
<thead>
<tr>
<th>å¼€å¤´</th>
<th>ç±»åˆ«</th>
<th>åŸå› çŸ­è¯­</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>ä¿¡æ¯æ€§çŠ¶æ€ç </td>
<td>æ¥æ”¶çš„è¯·æ±‚æ­£åœ¨å¤„ç†</td>
</tr>
<tr>
<td>2</td>
<td>æˆåŠŸçŠ¶æ€ç </td>
<td>è¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯•</td>
</tr>
<tr>
<td>3</td>
<td>é‡å®šå‘çŠ¶æ€ç </td>
<td>éœ€è¦é™„åŠ è¯·æ±‚ä»¥å®Œæˆæ“ä½œ</td>
</tr>
<tr>
<td>4</td>
<td>å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç </td>
<td>æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚</td>
</tr>
<tr>
<td>5</td>
<td>æœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç </td>
<td>æœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™</td>
</tr>
</tbody></table>
<h4 id="url"><a href="#url" class="headerlink" title="url"></a>url</h4><p>è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„ç»Ÿä¸€èµ„æºå®šä½ç¬¦å°†ä»å› ç‰¹ç½‘è·å–ä¿¡æ¯çš„<strong>äº”ä¸ªåŸºæœ¬å…ƒç´ </strong>åŒ…æ‹¬åœ¨ä¸€ä¸ªç®€å•çš„åœ°å€ä¸­ï¼š</p>
<ul>
<li>ä¼ é€åè®®</li>
<li>å±‚çº§URLæ ‡è®°ç¬¦å·ï¼ˆä¸º//ï¼Œå›ºå®šä¸å˜ï¼‰</li>
<li>è®¿é—®èµ„æºçš„å‡­è¯ä¿¡æ¯ï¼ˆå¯ä»¥çœç•¥ï¼‰</li>
<li>æœåŠ¡å™¨ï¼ˆé€šå¸¸ä¸ºåŸŸåï¼Œä¹Ÿå¯ä»¥ä¸ºipåœ°å€ï¼‰</li>
<li>ç«¯å£å·ï¼ˆæ•°å­—æ–¹å¼è¡¨ç¤ºï¼Œå¦‚æœä¸ºé»˜è®¤å€¼å¯ä»¥çœç•¥ï¼‰</li>
<li>è·¯å¾„ï¼ˆä»¥/åˆ’åˆ†æ¯ä¸€å±‚ç›®å½•åç§°ï¼‰</li>
<li>æŸ¥è¯¢ï¼ˆGETæ¨¡å¼çš„çª—ä½“å‚æ•°ï¼Œä»¥â€œ?â€å­—ç¬¦ä¸ºèµ·ç‚¹ï¼Œæ¯ä¸ªå‚æ•°ä»¥â€œ&amp;â€éš”å¼€ï¼Œå†ä»¥â€œ=â€åˆ†å¼€å‚æ•°åç§°ä¸æ•°æ®ï¼Œé€šå¸¸ä»¥UTF8çš„URLç¼–ç ï¼Œé¿å¼€å­—ç¬¦å†²çªçš„é—®é¢˜ï¼‰</li>
<li>ç‰‡æ®µï¼ˆä»¥#ä¸ºèµ·ç‚¹ï¼Œå‰æ®µè·¯ç”±hashæ¨¡å¼ï¼‰</li>
</ul>
<h4 id="httpè¯·æ±‚-å“åº”æ ¼å¼"><a href="#httpè¯·æ±‚-å“åº”æ ¼å¼" class="headerlink" title="httpè¯·æ±‚/å“åº”æ ¼å¼"></a>httpè¯·æ±‚/å“åº”æ ¼å¼</h4><p><img src="https://i.loli.net/2020/03/06/RiWD5GPCMzmvyo2.jpg" alt="Jietu20200306-153746@2x"></p>
<p><img src="https://i.loli.net/2020/03/06/OZrnNMlbTEHtm92.jpg" alt="Jietu20200306-153814@2x"></p>
<h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><p>TCPæ”¶åˆ°æ•°æ®åéœ€è¦å‘é€ä¸€ä¸ªç¡®è®¤ï¼Œä½†æ˜¯ä¸æ˜¯ç«‹å³å‘é€çš„ï¼Œéœ€è¦ç­‰å¾…å‡ åˆ†ä¹‹ä¸€ç§’ã€‚</p>
<p>TCPä¿æŒ<strong>é¦–éƒ¨å’Œæ•°æ®</strong>çš„æ£€éªŒå’Œï¼Œè¿™ä¸ªæ£€éªŒå’Œæ˜¯ç«¯åˆ°ç«¯çš„ï¼Œå¦‚æœæœ‰å˜åŒ–åˆ™ä¸¢å¼ƒä¸è¦ã€‚</p>
<p>TCPç”¨åºå·æ¥æ ‡è¯†å‘é€çš„å­—èŠ‚æµï¼Œå…¶ä¸­åºå·æ ‡è¯†å‘é€çš„æŠ¥æ–‡æ®µä¸­çš„ç¬¬ä¸€ä¸ªæ•°æ®å­—èŠ‚ï¼Œåºå·æ˜¯32ä½æ— ç¬¦å·æ•´æ•°ï¼Œå½“åˆ°æœ«å°¾åä»0é‡æ–°å¼€å§‹ã€‚</p>
<p>å½“å»ºç«‹ä¸€ä¸ªæ–°è¿æ¥æ—¶ï¼ŒSYNæ ‡å¿—ä¸º1ã€‚åºå·å­—æ®µåŒ…å«ç”±è¿™ä¸ªä¸»æœºé€‰æ‹©çš„è¯¥é“¾æ¥çš„åˆå§‹åºå·ISNã€‚è¯¥ä¸»æœºè¦å‘é€æ•°æ®çš„ç¬¬ä¸€ä¸ªå­—èŠ‚åºå·ä¸ºè¿™ä¸ªåºå·åŠ 1ï¼Œå› ä¸ºSYNæ ‡å¿—å äº†ä¸€ä¸ªåºå·ã€‚</p>
<p>ç¡®è®¤åºå·åŒ…å«å‘é€ç¡®è®¤ä¸€ç«¯æ‰€æœŸæœ›çš„ä¸‹ä¸€ä¸ªåºå·ã€‚å› æ­¤ç¡®è®¤åºå·æ˜¯ä¸Šæ¬¡å·²ç»æ¥æ”¶åˆ°çš„æ•°æ®å­—èŠ‚åºå·åŠ 1.åªæœ‰ACKæ ‡å¿—ä¸º1çš„æ—¶å€™ç¡®è®¤æ‰æœ‰æ•ˆã€‚</p>
<p>TCPä¸ºåº”ç”¨å±‚æä¾›å…¨åŒå·¥çš„é“¾æ¥ï¼Œè¿™æ„å‘³ç€æ•°æ®èƒ½åœ¨ä¸¤ä¸ªæ”¾å¿ƒå•Šä¸ªä¸Šç‹¬ç«‹çš„ä¼ è¾“ã€‚å› æ­¤ï¼Œè¿æ¥çš„æ¯ä¸€ç«¯å¿…é¡»ä¿æŒæ¯ä¸ªæ–¹å‘ä¸Šçš„ä¼ è¾“æ•°æ®åºå·ã€‚</p>
<p>TCPç¼ºå°‘é€‰æ‹©ç¡®è®¤æˆ–è€…é€‰æ‹©å¦è®¤ï¼Œå®ƒåªèƒ½ç´¯è®¡ç¡®è®¤ã€‚</p>
<p>TCPçš„æµé‡æ§åˆ¶ç”±çª—å£æ¥æä¾›ã€‚çª—å£å¤§å°ä¸ºå­—èŠ‚æ•°ï¼Œçª—å£å¤§å°æ˜¯ä¸€ä¸ª16bitçš„å­—æ®µã€‚</p>
<p>TCPä¸­è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„å­—æ®µMSSï¼ŒæŒ‡çš„æ˜¯å¯ä»¥ä¼ è¾“å—çš„æœ€å¤§å¤§å°ã€‚å…¶å®é™…ä¸Šæ˜¯ä¸ç‰©ç†çº¿è·¯æœ‰å…³çš„ã€‚<br>å…¶åªèƒ½å‡ºç°åœ¨SYNæŠ¥æ–‡ä¸­ã€‚</p>
<p><img src="https://i.loli.net/2020/03/07/oNTuXQpfhawsFe4.jpg" alt="Jietu20200307-145330@2x"></p>
<h3 id="TCPçš„è¿æ¥ä¸ç»ˆæ­¢"><a href="#TCPçš„è¿æ¥ä¸ç»ˆæ­¢" class="headerlink" title="TCPçš„è¿æ¥ä¸ç»ˆæ­¢"></a>TCPçš„è¿æ¥ä¸ç»ˆæ­¢</h3><p><img src="https://i.loli.net/2020/03/07/TX9eD8ZK4fB5PrO.jpg" alt="Jietu20200307-145852@2x"></p>
<p>å½“ä¸€ç«¯ä¸ºäº†å»ºç«‹è¿æ¥è€Œå‘é€SYNæ—¶ï¼Œéœ€è¦ä¸ºè¿æ¥é€‰æ‹©ä¸€ä¸ªåˆå§‹çš„åºå·ï¼ŒISNæ˜¯éšæ—¶é—´æ”¹å˜çš„ï¼Œå› æ­¤æ¯ä¸ªè¿æ¥éƒ½æœ‰ä¸åŒçš„ISNã€‚è¿™æ ·é€‰æ‹©åºå·çš„ç›®çš„åœ¨äºé˜²æ­¢åœ¨ç½‘ç»œä¸­è¢«å»¶è¿Ÿçš„åˆ†ç»„ä»¥ååˆè¢«é‡ä¼ ï¼Œè€Œå¯¼è‡´æŸä¸ªè¿æ¥çš„ä¸€æ–¹å¯¹å…¶é”™è¯¯è§£é‡Šã€‚</p>
<p>å»ºç«‹ä¸€ä¸ªè¿æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œç»ˆæ­¢éœ€è¦å››æ¬¡æŒ¥æ‰‹ã€‚è¿™æ˜¯å› ä¸ºTCPçš„åŠå…³é—­ï¼Œæ—¢ç„¶ä¸€ä¸ªTCPè¿æ¥æ˜¯å…¨åŒå·¥ï¼Œé‚£ä¹ˆæ¯ä¸ªæ–¹å‘å°±å¿…é¡»å•ç‹¬å…³é—­ã€‚</p>
<blockquote>
<p>åŠå…³é—­æ˜¯æŒ‡TCPä¸€ç«¯å…³é—­äº†æ•°æ®çš„å‘é€ä¹‹åè¿˜å¯ä»¥ä»å¦ä¸€ç«¯æ¥æ”¶æ•°æ®ã€‚</p>
</blockquote>
<p>BSDç‰ˆä¸­çš„TCPé‡‡ç”¨ä¸€ç§500msçš„å®šæ—¶å™¨ï¼Œç”¨äºç¡®å®šç»ˆæ­¢å’Œè¿æ¥ä¸­çš„æ‰€æœ‰è¶…æ—¶ã€‚</p>
<p>å½“TCPçš„ä¸€ç«¯æ¥æ”¶åˆ°FINæŠ¥æ–‡çš„æ—¶å€™ï¼Œä¼šç»™ä¸Šå±‚çš„åº”ç”¨ä¸€ä¸ªæ–‡ä»¶ç»“æŸç¬¦è¡¨æ˜æ•°æ®æ¥æ”¶åˆ°å¤´äº†ã€‚</p>
<p><img src="https://i.loli.net/2020/03/07/r3SiqIEkP7KUpTB.jpg" alt="Jietu20200307-151433@2x"></p>
<p><img src="https://i.loli.net/2020/03/07/bV52f3jPK7NmgcI.jpg" alt="Jietu20200307-151722@2x"></p>
<h4 id="2MSLçš„ç­‰å¾…çŠ¶æ€"><a href="#2MSLçš„ç­‰å¾…çŠ¶æ€" class="headerlink" title="2MSLçš„ç­‰å¾…çŠ¶æ€"></a>2MSLçš„ç­‰å¾…çŠ¶æ€</h4><p>MSLï¼šæœ€å¤§æŠ¥æ–‡ç”Ÿå­˜æ—¶é—´ï¼ŒTCPå®ç°é€‰æ‹©çš„ï¼Œå¯ä»¥æ˜¯30sã€1minã€2min</p>
<p>è¿™æ ·å¯ä»¥é˜²æ­¢æœ€åä¸€ä¸ªackä¸¢å¤±ï¼Œç­‰å¾…å¦ä¸€æ®µè¶…æ—¶é‡å‘æœ€åçš„FIN</p>
<p>è¿™æ®µæ—¶é—´å†…ä¸èƒ½ä½¿ç”¨è¿™ä¸ªsocketã€‚</p>
<p>è¿™æ®µæ—¶é—´å†…ä»»ä½•è¿Ÿåˆ°çš„æŠ¥æ–‡å°†è¢«ä¸¢å¼ƒã€‚</p>
<p>å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼ŒæœåŠ¡å™¨ä¸»åŠ¨å…³é—­ä¸€ä¸ªè¿æ¥ä¹‹ååœ¨2MSLçš„æ—¶é—´é—´éš”å†…ä¸èƒ½ä½¿ç”¨è¿™ä¸ªç«¯å£ã€‚</p>
<h3 id="å¤ä½æŠ¥æ–‡æ®µï¼ˆRST-1ï¼‰"><a href="#å¤ä½æŠ¥æ–‡æ®µï¼ˆRST-1ï¼‰" class="headerlink" title="å¤ä½æŠ¥æ–‡æ®µï¼ˆRST=1ï¼‰"></a>å¤ä½æŠ¥æ–‡æ®µï¼ˆRST=1ï¼‰</h3><p>äº§ç”Ÿå¤ä½çš„åŸå› æ˜¯è¿æ¥è¯·æ±‚åˆ°è¾¾æ—¶ï¼Œç›®çš„ç«¯å£æ²¡æœ‰åœ¨å¬ã€‚</p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡å¤ä½æ¥è¿›è¡Œå¼‚å¸¸é‡Šæ”¾ã€‚</p>
<p>å½“ä¸€æ–¹ç”±äºæ‰ç”µç­‰åŸå› æ„å¤–æ–­å¼€ä¹‹åï¼Œæ¥æ”¶åˆ°æŠ¥æ–‡ä¼šä»¥å¤ä½å›åº”ã€‚</p>
<h3 id="åŒæ—¶æ‰“å¼€-å…³é—­"><a href="#åŒæ—¶æ‰“å¼€-å…³é—­" class="headerlink" title="åŒæ—¶æ‰“å¼€/å…³é—­"></a>åŒæ—¶æ‰“å¼€/å…³é—­</h3><p><img src="https://i.loli.net/2020/03/07/adC6cMlqKDoxUNe.jpg" alt="Jietu20200307-153946@2x"></p>
<p><img src="https://i.loli.net/2020/03/07/Dot3ATvkVj2RmS9.jpg" alt="Jietu20200307-154112@2x"></p>
<h3 id="è¶…æ—¶ä¸é‡ä¼ "><a href="#è¶…æ—¶ä¸é‡ä¼ " class="headerlink" title="è¶…æ—¶ä¸é‡ä¼ "></a>è¶…æ—¶ä¸é‡ä¼ </h3><p>TCPä¸ºæ¯ä¸ªè¿æ¥ç»´æŒ4ä¸ªä¸åŒçš„å®šæ—¶å™¨ï¼š</p>
<ol>
<li>é‡ä¼ å®šæ—¶å™¨ä½¿ç”¨äºå¸Œæœ›æ”¶åˆ°å¦ä¸€ç«¯çš„ç¡®è®¤</li>
<li>persistå®šæ—¶å™¨ä½¿çª—å£å¤§å°ä¿¡æ¯ä¸æ–­æµåŠ¨</li>
<li>keepaliveæ£€æµ‹ä¸€ä¸ªç©ºé—²è¿æ¥ä½•æ—¶å´©æºƒæˆ–é‡å¯</li>
<li>2MSLå®šæ—¶å™¨</li>
</ol>
<p>RTTä¼°æµ‹ï¼›</p>
<h2 id="ç²˜åŒ…é—®é¢˜"><a href="#ç²˜åŒ…é—®é¢˜" class="headerlink" title="ç²˜åŒ…é—®é¢˜"></a>ç²˜åŒ…é—®é¢˜</h2><p><a href="https://www.cnblogs.com/cangqinglang/p/11503057.html" target="_blank" rel="noopener">https://www.cnblogs.com/cangqinglang/p/11503057.html</a></p>
<p><a href="https://www.cnblogs.com/sui776265233/p/9289858.html" target="_blank" rel="noopener">https://www.cnblogs.com/sui776265233/p/9289858.html</a></p>
<p>åªæœ‰TCPä¼šç²˜åŒ…ï¼ŒUDPä¸ä¼šã€‚<br>ç²˜åŒ…çš„ä¸»è¦åŸå› æ˜¯æ¥æ”¶æ–¹ä¸çŸ¥é“ä½ è¦å‘å¤šå°‘ã€‚</p>
<p>ä¸»è¦æ˜¯ç”±äºTCPçš„negalç®—æ³•å¯¼è‡´çš„ã€‚</p>
<p>å…¶ä¸ºäº†å‡å°‘ç½‘ç»œä¸­çš„æŠ¥æ–‡æ•°é‡ï¼Œæ”¶é›†å¾ˆå¤šå°æ•°æ®ç›´åˆ°è¾¾åˆ°ä¸€å®šå€¼æ‰å‘é€ã€‚</p>
]]></content>
      <categories>
        <category>cs</category>
      </categories>
      <tags>
        <tag>internet</tag>
      </tags>
  </entry>
  <entry>
    <title>operating system</title>
    <url>/blog/2020/03/03/operating-system/</url>
    <content><![CDATA[<p>é¢è¯•å‡†å¤‡ä¹‹æ“ä½œç³»ç»Ÿç¯‡</p>
<a id="more"></a>

<h2 id="è¿›ç¨‹ä¸çº¿ç¨‹"><a href="#è¿›ç¨‹ä¸çº¿ç¨‹" class="headerlink" title="è¿›ç¨‹ä¸çº¿ç¨‹"></a>è¿›ç¨‹ä¸çº¿ç¨‹</h2><p>è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹æ˜¯è¿›ç¨‹çš„æ‰§è¡Œè·¯å¾„ï¼Œä¸æ‹¥æœ‰èµ„æºåªå¯ä»¥è®¿é—®éš¶å±äºè¿›ç¨‹çš„èµ„æºã€‚</p>
<p>è¿›ç¨‹æ’¤é”€çš„ç³»ç»Ÿå¼€é”€è¦è¿œå¤§äºçº¿ç¨‹</p>
<p>çº¿ç¨‹å¯ä»¥ç›´æ¥é€šè¿‡è¿›ç¨‹ä¸­çš„æ•°æ®é€šä¿¡ï¼Œè€Œè¿›ç¨‹éœ€è¦é€šè¿‡IPCï¼ˆè¿›ç¨‹é€šä¿¡ï¼‰</p>
<p>è¿›ç¨‹çŠ¶æ€ï¼šåˆ›å»ºï¼Œå°±ç»ªï¼Œç­‰å¾…ï¼Œæ‰§è¡Œï¼Œåƒµå°¸ï¼ˆå·²ç»ç»“æŸä½†æ˜¯è¿˜æ²¡æœ‰è¢«çˆ¶è¿›ç¨‹å›æ”¶ï¼‰ï¼Œç»ˆç»“</p>
<h3 id="è¿›ç¨‹è°ƒåº¦ç®—æ³•"><a href="#è¿›ç¨‹è°ƒåº¦ç®—æ³•" class="headerlink" title="è¿›ç¨‹è°ƒåº¦ç®—æ³•"></a>è¿›ç¨‹è°ƒåº¦ç®—æ³•</h3><ol>
<li>æ‰¹å¤„ç†ç³»ç»Ÿ<br>æ²¡æœ‰å¾ˆå¤šç”¨æˆ·æ“ä½œï¼Œéœ€è¦ä¿è¯ååé‡å’Œå‘¨è½¬æ—¶é—´ã€‚</li>
</ol>
<p>å…ˆæ¥å…ˆæœåŠ¡ã€çŸ­ä½œä¸šä¼˜å…ˆã€æœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆã€‚</p>
<ol start="2">
<li>äº¤äº’å¼ç³»ç»Ÿï¼ˆåˆ†æ—¶ç³»ç»Ÿï¼‰<br>Round Robinã€ä¼˜å…ˆçº§è°ƒåº¦ã€å¤šçº§ä¼˜å…ˆè°ƒåº¦ï¼ˆç»“åˆRRå’Œä¼˜å…ˆçº§ç®—æ³•ï¼‰</li>
</ol>
<p>å¤šçº§ä¼˜å…ˆè°ƒåº¦éœ€è¦æ ¹æ®ç³»ç»Ÿç›®æ ‡æ¥å®šä¹‰è¿›ç¨‹ä¼˜å…ˆåº¦è°ƒèŠ‚ç®—æ³•ã€‚</p>
<ol start="3">
<li>å®æ—¶ç³»ç»Ÿ<br>è¦æ±‚åœ¨åœ¨ä¸€ä¸ªç¡®å®šçš„æ—¶é—´ä¹‹å†…å¾—åˆ°å“åº”</li>
</ol>
<h3 id="è¿›ç¨‹åŒæ­¥"><a href="#è¿›ç¨‹åŒæ­¥" class="headerlink" title="è¿›ç¨‹åŒæ­¥"></a>è¿›ç¨‹åŒæ­¥</h3><p>ä¸´ç•ŒåŒºä¸ä¸´ç•Œèµ„æºï¼šè®¿é—®ä¸´ç•Œèµ„æºçš„ä»£ç ç§°ä½œä¸´ç•ŒåŒº<br>ä¸´ç•ŒåŒºéœ€è¦ä»”ç»†æ£€æŸ¥</p>
<p>åŒæ­¥å’Œäº’æ–¥</p>
<ul>
<li>åŒæ­¥æ˜¯å¤šä¸ªè¿›ç¨‹å› ä¸ºåˆä½œè€Œäº§ç”Ÿåˆ¶çº¦å…³ç³»ï¼Œè¿›ç¨‹ä¹‹é—´éœ€è¦æœ‰å…ˆåæ‰§è¡Œæ¬¡åº</li>
<li>äº’æ–¥æ˜¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªè¿›ç¨‹å¯ä»¥è¿›å…¥ä¸´ç•ŒåŒºã€‚</li>
</ul>
<p>ä¿¡å·é‡ï¼ˆsemaphoreï¼‰<br>æ˜¯ä¸€ä¸ªæ•´å‹å˜é‡ï¼Œå…¶åˆå§‹å€¼ä¸å°äºé›¶ï¼Œå¯ä»¥è¡¨ç¤ºèµ„æºæ•°é‡ã€‚</p>
<p>å¯¹äºä¿¡å·é‡çš„æ“ä½œâ€”â€”â€”â€”Pã€Væ“ä½œ</p>
<ul>
<li>Pæ“ä½œæ˜¯è·å–èµ„æºçš„æ“ä½œï¼Œå¯¹ä¿¡å·é‡-1å¦‚æœç»“æœå¤§äºé›¶ï¼Œåˆ™æ‰§è¡Œåä¹‹åˆ™é˜»å¡</li>
<li>Væ“ä½œé‡Šæ”¾èµ„æºï¼Œå¯¹ä¿¡å·é‡åŠ ä¸€ï¼Œå¦‚æœå¤§äºç­‰äºé›¶åˆ™å”¤é†’ä¸€ä¸ªå› ä¸ºè¯¥ä¿¡å·é‡è€Œè¿›å…¥é˜»å¡çŠ¶æ€çš„è¿›ç¨‹ã€‚</li>
</ul>
<p><strong>Pã€Væ“ä½œæ˜¯åŸå­æ“ä½œã€‚</strong></p>
<p>ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜â€”â€”â€”â€”ä¸¤ä¸ªä¿¡å·é‡ä¸€ä¸ªè¡¨ç¤ºç©ºä½™ç¼“å†²åŒºä¸€ä¸ªè¡¨ç¤ºå·²ä½¿ç”¨ç¼“å†²åŒºå¤§å°ã€‚<br>æ­¤æ—¶ä¹Ÿåº”å½“æ³¨æ„äº’æ–¥é”çš„ä½¿ç”¨ã€‚</p>
<blockquote>
<p>å“²å­¦å®¶é—®é¢˜<br>å¯ä»¥é™å®šä¸¤ä¸ªæ¡ä»¶ï¼š</p>
<ol>
<li>å“²å­¦ç•Œåªèƒ½åŒæ—¶æ‹¿èµ·å·¦å³ä¸¤ä¸ªç­·å­</li>
<li>å·¦å³ä¸¤ä¸ªäººéƒ½ä¸åœ¨åƒæ‰èƒ½åƒ</li>
</ol>
</blockquote>
<pre><code class="c">#define N 5
#define LEFT (i + N - 1) % N // å·¦é‚»å±…
#define RIGHT (i + 1) % N    // å³é‚»å±…
#define THINKING 0
#define HUNGRY   1
#define EATING   2
typedef int semaphore;
int state[N];                // è·Ÿè¸ªæ¯ä¸ªå“²å­¦å®¶çš„çŠ¶æ€
semaphore mutex = 1;         // ä¸´ç•ŒåŒºçš„äº’æ–¥ï¼Œä¸´ç•ŒåŒºæ˜¯ state æ•°ç»„ï¼Œå¯¹å…¶ä¿®æ”¹éœ€è¦äº’æ–¥
semaphore s[N];              // æ¯ä¸ªå“²å­¦å®¶ä¸€ä¸ªä¿¡å·é‡

void philosopher(int i) {
    while(TRUE) {
        think(i);
        take_two(i);
        eat(i);
        put_two(i);
    }
}

void take_two(int i) {
    down(&amp;mutex);
    state[i] = HUNGRY;
    check(i);
    up(&amp;mutex);
    down(&amp;s[i]); // åªæœ‰æ”¶åˆ°é€šçŸ¥ä¹‹åæ‰å¯ä»¥å¼€å§‹åƒï¼Œå¦åˆ™ä¼šä¸€ç›´ç­‰ä¸‹å»
}

void put_two(i) {
    down(&amp;mutex);
    state[i] = THINKING;
    check(LEFT); // å°è¯•é€šçŸ¥å·¦å³é‚»å±…ï¼Œè‡ªå·±åƒå®Œäº†ï¼Œä½ ä»¬å¯ä»¥å¼€å§‹åƒäº†
    check(RIGHT);
    up(&amp;mutex);
}

void eat(int i) {
    down(&amp;mutex);
    state[i] = EATING;
    up(&amp;mutex);
}

// æ£€æŸ¥ä¸¤ä¸ªé‚»å±…æ˜¯å¦éƒ½æ²¡æœ‰ç”¨é¤ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå°± up(&amp;s[i])ï¼Œä½¿å¾— down(&amp;s[i]) èƒ½å¤Ÿå¾—åˆ°é€šçŸ¥å¹¶ç»§ç»­æ‰§è¡Œ
void check(i) {         
    if(state[i] == HUNGRY &amp;&amp; state[LEFT] != EATING &amp;&amp; state[RIGHT] !=EATING) {
        state[i] = EATING;
        up(&amp;s[i]);
    }
}</code></pre>
<blockquote>
<p>è¯»è€…å†™è€…é—®é¢˜<br>ç¬¬ä¸€ä¸ªè¯»è€…åŠ é”ï¼Œéœ€è¦ä¸€ä¸ªmutexä¿æŠ¤è®°å½•è¯»è€…æ•°é‡çš„å˜é‡ã€‚</p>
</blockquote>
<h3 id="è¿›ç¨‹é€šä¿¡"><a href="#è¿›ç¨‹é€šä¿¡" class="headerlink" title="è¿›ç¨‹é€šä¿¡"></a>è¿›ç¨‹é€šä¿¡</h3><p>è¿›ç¨‹é€šä¿¡ä¸è¿›ç¨‹åŒæ­¥ä¸èƒ½æ··æ·†ï¼š</p>
<ul>
<li>è¿›ç¨‹é€šä¿¡æ˜¯ä¸€ç§æ‰‹æ®µ</li>
<li>è¿›ç¨‹åŒæ­¥æ˜¯ä¸€ä¸ªç›®çš„ï¼Œæ˜¯ä¸ºäº†ä½¿è¿›ç¨‹æŒ‰ä¸€å®šé¡ºåºæ‰§è¡Œã€‚</li>
</ul>
<ol>
<li>ç®¡é“ï¼ˆpipeï¼‰</li>
</ol>
<pre><code class="c">#include &lt;unistd.h&gt;
int pipe(int fd[2])</code></pre>
<p>fd[0]ç”¨äºè¯»ï¼Œfd[1]ç”¨äºå†™<br>å…·æœ‰ä»¥ä¸‹é™åˆ¶ï¼š</p>
<ul>
<li>åªèƒ½åŠåŒå·¥é€šä¿¡ï¼Œå•å‘äº¤æ›¿ä¼ è¾“</li>
<li>åªèƒ½åœ¨çˆ¶å­è¿›ç¨‹æˆ–è€…å…„å¼Ÿè¿›ç¨‹ä¸­ä½¿ç”¨ã€‚</li>
</ul>
<ol start="2">
<li>FIFOï¼ˆå‘½åç®¡é“ï¼‰</li>
</ol>
<p>å»é™¤äº†ç®¡é“åªèƒ½ç”¨äºçˆ¶å­è¿›ç¨‹ä¸­çš„é™åˆ¶ã€‚</p>
<pre><code class="c">#include &lt;sys/stat.h&gt;
int mkfifo(const char *path, mode_t mode);
int mkfifoat(int fd, const char *path, mode_t mode);</code></pre>
<p>å¸¸ç”¨äºC-Såº”ç”¨ç¨‹åºä¸­ï¼ŒFIFO ç”¨ä½œæ±‡èšç‚¹ï¼Œåœ¨å®¢æˆ·è¿›ç¨‹å’ŒæœåŠ¡å™¨è¿›ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ã€‚</p>
<p>ä½¿ç”¨å‘½åç®¡é“å¯ä»¥ä¸å…³æ³¨ç½‘ç»œå±‚åè®®çš„å…·ä½“ç»†èŠ‚ã€‚</p>
<ol start="3">
<li>æ¶ˆæ¯é˜Ÿåˆ—</li>
</ol>
<p>æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥è¿›è¡Œå‰Šå³°å’Œè§£è€¦åˆ</p>
<ol>
<li>æ¶ˆæ¯é˜Ÿåˆ—å…·æœ‰å¾ˆå¥½çš„å‰Šå³°ä½œç”¨çš„åŠŸèƒ½â€”â€”å³é€šè¿‡å¼‚æ­¥å¤„ç†ï¼Œå°†çŸ­æ—¶é—´é«˜å¹¶å‘äº§ç”Ÿçš„äº‹åŠ¡æ¶ˆæ¯å­˜å‚¨åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œä»è€Œå‰Šå¹³é«˜å³°æœŸçš„å¹¶å‘äº‹åŠ¡ã€‚</li>
<li>æ¨¡å—ä¹‹é—´ä¸å­˜åœ¨ç›´æ¥è°ƒç”¨ï¼Œé‚£ä¹ˆæ–°å¢æ¨¡å—æˆ–è€…ä¿®æ”¹æ¨¡å—å°±å¯¹å…¶ä»–æ¨¡å—å½±å“è¾ƒå°ï¼Œè¿™æ ·ç³»ç»Ÿçš„å¯æ‰©å±•æ€§æ— ç–‘æ›´å¥½ä¸€äº›ã€‚ä»¥å‘å¸ƒ-è®¢é˜…æ¨¡å¼ä¸ºä¾‹ï¼Œè®¢é˜…æ¶ˆæ¯çš„è¿›ç¨‹æ— éœ€å…³å¿ƒæ¶ˆæ¯çš„äº§ç”Ÿã€‚</li>
</ol>
<p>ç¼ºç‚¹æ˜¯ç³»ç»Ÿå¯ç”¨æ€§é™ä½ã€å¤æ‚æ€§å¢é«˜ã€ç”±äºæ¶ˆæ¯å¯èƒ½è¢«é”™è¯¯æ¶ˆè´¹æˆ–è€…å¤šæ¬¡æ¶ˆè´¹ï¼Œä¹Ÿå­˜åœ¨ä¸€è‡´æ€§çš„é—®é¢˜ã€‚</p>
<p>ç›¸æ¯”äº FIFOï¼Œæ¶ˆæ¯é˜Ÿåˆ—å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<ul>
<li>æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥ç‹¬ç«‹äºè¯»å†™è¿›ç¨‹å­˜åœ¨ï¼Œä»è€Œé¿å…äº† FIFO ä¸­åŒæ­¥ç®¡é“çš„æ‰“å¼€å’Œå…³é—­æ—¶å¯èƒ½äº§ç”Ÿçš„å›°éš¾ï¼›</li>
<li>é¿å…äº† FIFO çš„åŒæ­¥é˜»å¡é—®é¢˜ï¼Œä¸éœ€è¦è¿›ç¨‹è‡ªå·±æä¾›åŒæ­¥æ–¹æ³•ï¼›</li>
<li>è¯»è¿›ç¨‹å¯ä»¥æ ¹æ®æ¶ˆæ¯ç±»å‹æœ‰é€‰æ‹©åœ°æ¥æ”¶æ¶ˆæ¯ï¼Œè€Œä¸åƒ FIFO é‚£æ ·åªèƒ½é»˜è®¤åœ°æ¥æ”¶</li>
</ul>
<blockquote>
<p>go â€”â€“ nsq</p>
</blockquote>
<ol start="4">
<li>ä¿¡å·é‡</li>
</ol>
<p>ä¸€ä¸ªè®¡æ•°å™¨ï¼Œç”¨äºä¸ºå¤šä¸ªè¿›ç¨‹æä¾›å¯¹å…±äº«æ•°æ®å¯¹è±¡çš„è®¿é—®</p>
<ol start="5">
<li>å…±äº«å‚¨å­˜</li>
</ol>
<p>å…è®¸å¤šä¸ªè¿›ç¨‹åŒæ—¶ä½¿ç”¨ä¸€ç‰‡å‚¨å­˜åŒºåŸŸã€‚æ˜¯æœ€å¿«çš„ä¸€ç§IPC</p>
<p>éœ€è¦ä½¿ç”¨ä¿¡å·é‡æ¥æ§åˆ¶å¯¹å…±äº«å†…å­˜çš„è®¿é—®ã€‚</p>
<p>å¤šä¸ªè¿›ç¨‹å¯ä»¥å°†åŒä¸€ä¸ªæ–‡ä»¶æ˜ å°„åˆ°å®ƒä»¬çš„åœ°å€ç©ºé—´ä»è€Œå®ç°å…±äº«å†…å­˜ã€‚</p>
<ol start="6">
<li>socket</li>
</ol>
<p>å®ç°äº†ä¸åŒè®¡ç®—æœºé—´çš„è¿›ç¨‹é€šä¿¡ã€‚</p>
<h2 id="ç¼–è¯‘é“¾æ¥"><a href="#ç¼–è¯‘é“¾æ¥" class="headerlink" title="ç¼–è¯‘é“¾æ¥"></a>ç¼–è¯‘é“¾æ¥</h2><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/b396d726-b75f-4a32-89a2-03a7b6e19f6f.jpg" alt="pic"></p>
<ul>
<li>é¢„å¤„ç†é˜¶æ®µï¼šå¤„ç†ä»¥#å¼€å¤´çš„é¢„å¤„ç†å‘½ä»¤</li>
<li>ç¼–è¯‘é˜¶æ®µï¼š ç¿»è¯‘æˆæ±‡ç¼–æ–‡ä»¶</li>
<li>æ±‡ç¼–æ–‡ä»¶ï¼š å°†æ±‡ç¼–æ–‡ä»¶æ±‡ç¼–ä¸ºå¯é‡å®šä½ç›®æ ‡æ–‡ä»¶</li>
<li>é“¾æ¥é˜¶æ®µï¼š å°†å¯é‡å®šå‘æ–‡ä»¶å’Œå•ç‹¬ç¼–è¯‘çš„ç›®æ ‡æ–‡ä»¶åˆå¹¶ï¼Œå¾—åˆ°å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ã€‚</li>
</ul>
<h3 id="é™æ€é“¾æ¥"><a href="#é™æ€é“¾æ¥" class="headerlink" title="é™æ€é“¾æ¥"></a>é™æ€é“¾æ¥</h3><p>é™æ€é“¾æ¥å™¨ä»¥ä¸€ç»„å¯é‡å®šä½ç›®æ ‡æ–‡ä»¶ä¸ºè¾“å…¥ï¼Œç”Ÿæˆä¸€ä¸ªå®Œå…¨é“¾æ¥çš„å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ä½œä¸ºè¾“å‡ºã€‚é“¾æ¥å™¨ä¸»è¦å®Œæˆä»¥ä¸‹ä¸¤ä¸ªä»»åŠ¡ï¼š</p>
<ul>
<li>ç¬¦å·è§£æï¼šæ¯ä¸ªç¬¦å·å¯¹åº”äºä¸€ä¸ªå‡½æ•°ã€ä¸€ä¸ªå…¨å±€å˜é‡æˆ–ä¸€ä¸ªé™æ€å˜é‡ï¼Œç¬¦å·è§£æçš„ç›®çš„æ˜¯å°†æ¯ä¸ªç¬¦å·å¼•ç”¨ä¸ä¸€ä¸ªç¬¦å·å®šä¹‰å…³è”èµ·æ¥ã€‚</li>
<li>é‡å®šä½ï¼šé“¾æ¥å™¨é€šè¿‡æŠŠæ¯ä¸ªç¬¦å·å®šä¹‰ä¸ä¸€ä¸ªå†…å­˜ä½ç½®å…³è”èµ·æ¥ï¼Œç„¶åä¿®æ”¹æ‰€æœ‰å¯¹è¿™äº›ç¬¦å·çš„å¼•ç”¨ï¼Œä½¿å¾—å®ƒä»¬æŒ‡å‘è¿™ä¸ªå†…å­˜ä½ç½®ã€‚</li>
</ul>
<h3 id="åŠ¨æ€é“¾æ¥"><a href="#åŠ¨æ€é“¾æ¥" class="headerlink" title="åŠ¨æ€é“¾æ¥"></a>åŠ¨æ€é“¾æ¥</h3><p>é™æ€åº“æœ‰ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>å½“é™æ€åº“æ›´æ–°æ—¶é‚£ä¹ˆæ•´ä¸ªç¨‹åºéƒ½è¦é‡æ–°è¿›è¡Œé“¾æ¥ï¼›</li>
<li>å¯¹äº printf è¿™ç§æ ‡å‡†å‡½æ•°åº“ï¼Œå¦‚æœæ¯ä¸ªç¨‹åºéƒ½è¦æœ‰ä»£ç ï¼Œè¿™ä¼šæå¤§æµªè´¹èµ„æºã€‚</li>
</ul>
<p>å…±äº«åº“æ˜¯ä¸ºäº†è§£å†³é™æ€åº“çš„è¿™ä¸¤ä¸ªé—®é¢˜è€Œè®¾è®¡çš„ï¼Œåœ¨ Linux ç³»ç»Ÿä¸­é€šå¸¸ç”¨ .so åç¼€æ¥è¡¨ç¤ºï¼ŒWindows ç³»ç»Ÿä¸Šå®ƒä»¬è¢«ç§°ä¸º DLLã€‚å®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>åœ¨ç»™å®šçš„æ–‡ä»¶ç³»ç»Ÿä¸­ä¸€ä¸ªåº“åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€æœ‰å¼•ç”¨è¯¥åº“çš„å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶éƒ½å…±äº«è¿™ä¸ªæ–‡ä»¶ï¼Œå®ƒä¸ä¼šè¢«å¤åˆ¶åˆ°å¼•ç”¨å®ƒçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼›</li>
<li>åœ¨å†…å­˜ä¸­ï¼Œä¸€ä¸ªå…±äº«åº“çš„ .text èŠ‚ï¼ˆå·²ç¼–è¯‘ç¨‹åºçš„æœºå™¨ä»£ç ï¼‰çš„ä¸€ä¸ªå‰¯æœ¬å¯ä»¥è¢«ä¸åŒçš„æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹å…±äº«ã€‚</li>
</ul>
<p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/76dc7769-1aac-4888-9bea-064f1caa8e77.jpg" alt="pic"></p>
<h2 id="å†…å­˜ç®¡ç†"><a href="#å†…å­˜ç®¡ç†" class="headerlink" title="å†…å­˜ç®¡ç†"></a>å†…å­˜ç®¡ç†</h2><h3 id="è™šæ‹Ÿå†…å­˜"><a href="#è™šæ‹Ÿå†…å­˜" class="headerlink" title="è™šæ‹Ÿå†…å­˜"></a>è™šæ‹Ÿå†…å­˜</h3><p>è™šæ‹Ÿå†…å­˜çš„ç›®çš„æ˜¯ä¸ºäº†è®©ç‰©ç†å†…å­˜æ‰©å……æˆæ›´å¤§çš„é€»è¾‘å†…å­˜ï¼Œä»è€Œè®©ç¨‹åºè·å¾—æ›´å¤šçš„å¯ç”¨å†…å­˜ã€‚</p>
<p>ä¸ºäº†æ›´å¥½çš„ç®¡ç†å†…å­˜ï¼Œæ“ä½œç³»ç»Ÿå°†å†…å­˜æŠ½è±¡æˆåœ°å€ç©ºé—´ã€‚æ¯ä¸ªç¨‹åºæ‹¥æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´ï¼Œè¿™ä¸ªåœ°å€ç©ºé—´è¢«åˆ†å‰²æˆå¤šä¸ªå—ï¼Œæ¯ä¸€å—ç§°ä¸ºä¸€é¡µã€‚è¿™äº›é¡µè¢«æ˜ å°„åˆ°ç‰©ç†å†…å­˜ï¼Œä½†ä¸éœ€è¦æ˜ å°„åˆ°è¿ç»­çš„ç‰©ç†å†…å­˜ï¼Œä¹Ÿä¸éœ€è¦æ‰€æœ‰é¡µéƒ½å¿…é¡»åœ¨ç‰©ç†å†…å­˜ä¸­ã€‚å½“ç¨‹åºå¼•ç”¨åˆ°ä¸åœ¨ç‰©ç†å†…å­˜ä¸­çš„é¡µæ—¶ï¼Œç”±ç¡¬ä»¶æ‰§è¡Œå¿…è¦çš„æ˜ å°„ï¼Œå°†ç¼ºå¤±çš„éƒ¨åˆ†è£…å…¥ç‰©ç†å†…å­˜å¹¶é‡æ–°æ‰§è¡Œå¤±è´¥çš„æŒ‡ä»¤ã€‚</p>
<p>ä»ä¸Šé¢çš„æè¿°ä¸­å¯ä»¥çœ‹å‡ºï¼Œè™šæ‹Ÿå†…å­˜å…è®¸ç¨‹åºä¸ç”¨å°†åœ°å€ç©ºé—´ä¸­çš„æ¯ä¸€é¡µéƒ½æ˜ å°„åˆ°ç‰©ç†å†…å­˜ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªç¨‹åºä¸éœ€è¦å…¨éƒ¨è°ƒå…¥å†…å­˜å°±å¯ä»¥è¿è¡Œï¼Œè¿™ä½¿å¾—æœ‰é™çš„å†…å­˜è¿è¡Œå¤§ç¨‹åºæˆä¸ºå¯èƒ½ã€‚ä¾‹å¦‚æœ‰ä¸€å°è®¡ç®—æœºå¯ä»¥äº§ç”Ÿ 16 ä½åœ°å€ï¼Œé‚£ä¹ˆä¸€ä¸ªç¨‹åºçš„åœ°å€ç©ºé—´èŒƒå›´æ˜¯ 0~64Kã€‚è¯¥è®¡ç®—æœºåªæœ‰ 32KB çš„ç‰©ç†å†…å­˜ï¼Œè™šæ‹Ÿå†…å­˜æŠ€æœ¯å…è®¸è¯¥è®¡ç®—æœºè¿è¡Œä¸€ä¸ª 64K å¤§å°çš„ç¨‹åºã€‚</p>
<h3 id="åˆ†é¡µç³»ç»Ÿåœ°å€æ˜ å°„"><a href="#åˆ†é¡µç³»ç»Ÿåœ°å€æ˜ å°„" class="headerlink" title="åˆ†é¡µç³»ç»Ÿåœ°å€æ˜ å°„"></a>åˆ†é¡µç³»ç»Ÿåœ°å€æ˜ å°„</h3><p>MMUä¸­ä¿å­˜ç€é¡µè¡¨ï¼Œè´Ÿè´£è™šæ‹Ÿé¡µå·å’Œç‰©ç†é¡µå·ä¹‹é—´çš„è½¬æ¢ï¼Œå…¶ä¸­æœ€åä¸€ä½æ˜¯æœ‰æ•ˆä½ã€‚</p>
<p>è™šæ‹Ÿåœ°å€åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯é¡µé¢å·ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯åç§»é‡ã€‚</p>
<h3 id="é¡µé¢ç½®æ¢ç®—æ³•"><a href="#é¡µé¢ç½®æ¢ç®—æ³•" class="headerlink" title="é¡µé¢ç½®æ¢ç®—æ³•"></a>é¡µé¢ç½®æ¢ç®—æ³•</h3><p>å’Œç¼“å­˜çš„æ·˜æ±°ç®—æ³•ç±»ä¼¼</p>
<ol>
<li>æœ€ä½³ç®—æ³•ï¼ˆOPTï¼‰</li>
</ol>
<p>æ˜¯ç†æƒ³çš„ç®—æ³•ï¼Œæ¢å‡ºå»çš„æ˜¯å°†æ¥æœ€é•¿æ—¶é—´ä¸ä¼šè¢«ä½¿ç”¨çš„ã€‚</p>
<ol start="2">
<li>LRUï¼ˆæœ€ä¹…æœªä½¿ç”¨ï¼‰</li>
</ol>
<p>ä½¿ç”¨ä¸€ä¸ªé“¾è¡¨æ¥ç»´æŒé¡µé¢ï¼Œè¯¥é¡µé¢è¢«ä½¿ç”¨ä¹‹åæ”¾åœ¨é˜Ÿå°¾ï¼Œæ¯æ¬¡ç½®æ¢ä»é˜Ÿå¤´å¼€å§‹ã€‚</p>
<p>è¿™æ ·å®ç°ä»£ä»·æ¯”è¾ƒé«˜ã€‚</p>
<ol start="3">
<li>æœ€è¿‘æœªä½¿ç”¨ï¼ˆNRU)</li>
</ol>
<p>æ¯ä¸ªé¡µé¢å…·æœ‰ä¸¤ä¸ªçŠ¶æ€ä½ï¼šRå’ŒMï¼Œå½“é¡µé¢è¢«è®¿é—®æ—¶è®¾ç½®é¡µé¢ä¸ºR=1ï¼Œå½“è¢«ä¿®æ”¹æ—¶ï¼Œè®¾ç½®Mä¸º1.å…¶ä¸­Rä¼šå®šæ—¶æ¸…é›¶ï¼Œå› æ­¤é¡µé¢åˆ†ä¸ºå››ç±»ï¼š</p>
<ul>
<li>R=0ï¼ŒM=0</li>
<li>R=0ï¼ŒM=1</li>
<li>R=1ï¼ŒM=0</li>
<li>R=1ï¼ŒM=1</li>
</ul>
<p>å½“å‘ç”Ÿç¼ºé¡µä¸­æ–­æ—¶ï¼ŒNRU ç®—æ³•éšæœºåœ°ä»ç±»ç¼–å·æœ€å°çš„éç©ºç±»ä¸­æŒ‘é€‰ä¸€ä¸ªé¡µé¢å°†å®ƒæ¢å‡ºã€‚</p>
<p>NRU ä¼˜å…ˆæ¢å‡ºå·²ç»è¢«ä¿®æ”¹çš„è„é¡µé¢ï¼ˆR=0ï¼ŒM=1ï¼‰ï¼Œè€Œä¸æ˜¯è¢«é¢‘ç¹ä½¿ç”¨çš„å¹²å‡€é¡µé¢ï¼ˆR=1ï¼ŒM=0ï¼‰ã€‚</p>
<ol start="3">
<li><p>FIFO</p>
</li>
<li><p>ç¬¬äºŒæ¬¡æœºä¼šç®—æ³•</p>
</li>
</ol>
<p>FIFO ç®—æ³•å¯èƒ½ä¼šæŠŠç»å¸¸ä½¿ç”¨çš„é¡µé¢ç½®æ¢å‡ºå»ï¼Œä¸ºäº†é¿å…è¿™ä¸€é—®é¢˜ï¼Œå¯¹è¯¥ç®—æ³•åšä¸€ä¸ªç®€å•çš„ä¿®æ”¹ï¼š</p>
<p>å½“é¡µé¢è¢«è®¿é—® (è¯»æˆ–å†™) æ—¶è®¾ç½®è¯¥é¡µé¢çš„ R ä½ä¸º 1ã€‚éœ€è¦æ›¿æ¢çš„æ—¶å€™ï¼Œæ£€æŸ¥æœ€è€é¡µé¢çš„ R ä½ã€‚å¦‚æœ R ä½æ˜¯ 0ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡µé¢æ—¢è€åˆæ²¡æœ‰è¢«ä½¿ç”¨ï¼Œå¯ä»¥ç«‹åˆ»ç½®æ¢æ‰ï¼›å¦‚æœæ˜¯ 1ï¼Œå°±å°† R ä½æ¸… 0ï¼Œå¹¶æŠŠè¯¥é¡µé¢æ”¾åˆ°é“¾è¡¨çš„å°¾ç«¯ï¼Œä¿®æ”¹å®ƒçš„è£…å…¥æ—¶é—´ä½¿å®ƒå°±åƒåˆšè£…å…¥çš„ä¸€æ ·ï¼Œç„¶åç»§ç»­ä»é“¾è¡¨çš„å¤´éƒ¨å¼€å§‹æœç´¢ã€‚</p>
<p>ä½¿ç”¨é“¾è¡¨æœ‰ç§»åŠ¨é“¾è¡¨èŠ‚ç‚¹çš„æ€§èƒ½ä»£ä»·ï¼Œå¯ä»¥ä½¿ç”¨ç¯å½¢é“¾è¡¨ç”¨ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘æœ€è€çš„é¡µé¢å³å¯ã€‚</p>
<h3 id="åˆ†é¡µä¸åˆ†æ®µçš„æ¯”è¾ƒ"><a href="#åˆ†é¡µä¸åˆ†æ®µçš„æ¯”è¾ƒ" class="headerlink" title="åˆ†é¡µä¸åˆ†æ®µçš„æ¯”è¾ƒ"></a>åˆ†é¡µä¸åˆ†æ®µçš„æ¯”è¾ƒ</h3><ul>
<li><p>å¯¹ç¨‹åºå‘˜çš„é€æ˜æ€§ï¼šåˆ†é¡µé€æ˜ï¼Œä½†æ˜¯åˆ†æ®µéœ€è¦ç¨‹åºå‘˜æ˜¾å¼åˆ’åˆ†æ¯ä¸ªæ®µã€‚</p>
</li>
<li><p>åœ°å€ç©ºé—´çš„ç»´åº¦ï¼šåˆ†é¡µæ˜¯ä¸€ç»´åœ°å€ç©ºé—´ï¼Œåˆ†æ®µæ˜¯äºŒç»´çš„ã€‚</p>
</li>
<li><p>å¤§å°æ˜¯å¦å¯ä»¥æ”¹å˜ï¼šé¡µçš„å¤§å°ä¸å¯å˜ï¼Œæ®µçš„å¤§å°å¯ä»¥åŠ¨æ€æ”¹å˜ã€‚</p>
</li>
<li><p>å‡ºç°çš„åŸå› ï¼šåˆ†é¡µä¸»è¦ç”¨äºå®ç°è™šæ‹Ÿå†…å­˜ï¼Œä»è€Œè·å¾—æ›´å¤§çš„åœ°å€ç©ºé—´ï¼›åˆ†æ®µä¸»è¦æ˜¯ä¸ºäº†ä½¿ç¨‹åºå’Œæ•°æ®å¯ä»¥è¢«åˆ’åˆ†ä¸ºé€»è¾‘ä¸Šç‹¬ç«‹çš„åœ°å€ç©ºé—´å¹¶ä¸”æœ‰åŠ©äºå…±äº«å’Œä¿æŠ¤ã€‚</p>
</li>
</ul>
<h2 id="è®¾å¤‡ç®¡ç†"><a href="#è®¾å¤‡ç®¡ç†" class="headerlink" title="è®¾å¤‡ç®¡ç†"></a>è®¾å¤‡ç®¡ç†</h2><h3 id="ç£ç›˜è°ƒåº¦ç®—æ³•"><a href="#ç£ç›˜è°ƒåº¦ç®—æ³•" class="headerlink" title="ç£ç›˜è°ƒåº¦ç®—æ³•"></a>ç£ç›˜è°ƒåº¦ç®—æ³•</h3><ol>
<li>å…ˆæ¥å…ˆæœåŠ¡</li>
</ol>
<p>ä¼˜ç‚¹æ˜¯ç®€å•å…¬å¹³ï¼Œç¼ºç‚¹æ˜¯æœªåšä»»ä½•ä¼˜åŒ–</p>
<ol start="2">
<li>æœ€çŸ­å¯»é“ä¼˜å…ˆ</li>
</ol>
<p>ä¼˜å…ˆè°ƒåº¦ä¸å½“å‰åˆºå¤´æ‰€åœ¨ç£é“æœ€è¿‘çš„çš„ç£é“</p>
<ol start="3">
<li>ç”µæ¢¯ç®—æ³•</li>
</ol>
<p>ç”µæ¢¯æ€»æ˜¯ä¿æŒä¸€ä¸ªæ–¹å‘è¿è¡Œï¼Œç›´åˆ°è¯¥æ–¹å‘æ²¡æœ‰è¯·æ±‚ä¸ºæ­¢ï¼Œç„¶åæ”¹å˜è¿è¡Œæ–¹å‘ã€‚</p>
<h2 id="æ­»é”"><a href="#æ­»é”" class="headerlink" title="æ­»é”"></a>æ­»é”</h2><p><a href="https://blog.csdn.net/wljliujuan/article/details/79614019" target="_blank" rel="noopener">å‚è€ƒç½‘é¡µ</a></p>
<h3 id="å››ä¸ªå¿…è¦æ¡ä»¶"><a href="#å››ä¸ªå¿…è¦æ¡ä»¶" class="headerlink" title="å››ä¸ªå¿…è¦æ¡ä»¶"></a>å››ä¸ªå¿…è¦æ¡ä»¶</h3><ol>
<li>äº’æ–¥æ¡ä»¶</li>
<li>ä¸å¯æŠ¢å¤ºæ¡ä»¶</li>
<li>è¯·æ±‚å’Œä¿æŒ</li>
<li>å¾ªç¯ç­‰å¾…</li>
</ol>
<h3 id="æ­»é”çš„åŸå› "><a href="#æ­»é”çš„åŸå› " class="headerlink" title="æ­»é”çš„åŸå› "></a>æ­»é”çš„åŸå› </h3><ol>
<li>ç³»ç»Ÿèµ„æºä¸è¶³</li>
<li>ç¨‹åºæ¨è¿›é¡ºåºä¸åˆç†</li>
</ol>
<h3 id="å¤„ç†æ–¹å¼"><a href="#å¤„ç†æ–¹å¼" class="headerlink" title="å¤„ç†æ–¹å¼"></a>å¤„ç†æ–¹å¼</h3><ol>
<li>é¸µé¸Ÿç­–ç•¥</li>
<li>æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤</li>
<li>æ­»é”é¢„é˜²</li>
<li>æ­»é”é¿å…</li>
</ol>
<h4 id="é¸µé¸Ÿç­–ç•¥"><a href="#é¸µé¸Ÿç­–ç•¥" class="headerlink" title="é¸µé¸Ÿç­–ç•¥"></a>é¸µé¸Ÿç­–ç•¥</h4><p>æŠŠå¤´åŸ‹åœ¨æ²™å­é‡Œï¼Œè£…ä½œæ— äº‹å‘ç”Ÿã€‚</p>
<p>å› ä¸ºè§£å†³æ­»é”é—®é¢˜çš„ä»£ä»·å¾ˆé«˜ï¼Œå› æ­¤é¸µé¸Ÿç®—æ³•åè€Œä¼šè·å¾—æ›´é«˜çš„æ€§èƒ½</p>
<p>å½“å‘ç”Ÿæ­»é”æ—¶ä¸ä¼šå¯¹ç”¨æˆ·é€ æˆå¤šå¤§å½±å“ï¼Œæˆ–å‘ç”Ÿæ­»é”çš„æ¦‚ç‡å¾ˆä½ï¼Œå¯ä»¥é‡‡ç”¨é¸µé¸Ÿç­–ç•¥ã€‚</p>
<p>å¤§å¤šæ•°æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬ Unixï¼ŒLinux å’Œ Windowsï¼Œå¤„ç†æ­»é”é—®é¢˜çš„åŠæ³•ä»…ä»…æ˜¯å¿½ç•¥å®ƒã€‚</p>
<h4 id="æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤"><a href="#æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤" class="headerlink" title="æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤"></a>æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤</h4><p>æ­»é”æ£€æµ‹ä»£ä»·è¿‡äºé«˜æ˜‚ã€‚</p>
<p>ä¸è¯•å›¾é˜»æ­¢æ­»é”ï¼Œè€Œæ˜¯å½“æ£€æµ‹åˆ°æ­»é”å‘ç”Ÿæ—¶ï¼Œé‡‡å–æªæ–½è¿›è¡Œæ¢å¤ã€‚</p>
<ol>
<li>æ¯ç§ç±»å‹ä¸€ä¸ªèµ„æºçš„æ­»é”æ£€æµ‹</li>
</ol>
<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/b1fa0453-a4b0-4eae-a352-48acca8fff74.png"> </div><br>

<p>ä¸Šå›¾ä¸ºèµ„æºåˆ†é…å›¾ï¼Œå…¶ä¸­æ–¹æ¡†è¡¨ç¤ºèµ„æºï¼Œåœ†åœˆè¡¨ç¤ºè¿›ç¨‹ã€‚èµ„æºæŒ‡å‘è¿›ç¨‹è¡¨ç¤ºè¯¥èµ„æºå·²ç»åˆ†é…ç»™è¯¥è¿›ç¨‹ï¼Œè¿›ç¨‹æŒ‡å‘èµ„æºè¡¨ç¤ºè¿›ç¨‹è¯·æ±‚è·å–è¯¥èµ„æºã€‚</p>
<p>å›¾ a å¯ä»¥æŠ½å–å‡ºç¯ï¼Œå¦‚å›¾ bï¼Œå®ƒæ»¡è¶³äº†ç¯è·¯ç­‰å¾…æ¡ä»¶ï¼Œå› æ­¤ä¼šå‘ç”Ÿæ­»é”ã€‚</p>
<p>æ¯ç§ç±»å‹ä¸€ä¸ªèµ„æºçš„æ­»é”æ£€æµ‹ç®—æ³•æ˜¯é€šè¿‡æ£€æµ‹æœ‰å‘å›¾æ˜¯å¦å­˜åœ¨ç¯æ¥å®ç°ï¼Œä»ä¸€ä¸ªèŠ‚ç‚¹å‡ºå‘è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå¯¹è®¿é—®è¿‡çš„èŠ‚ç‚¹è¿›è¡Œæ ‡è®°ï¼Œå¦‚æœè®¿é—®äº†å·²ç»æ ‡è®°çš„èŠ‚ç‚¹ï¼Œå°±è¡¨ç¤ºæœ‰å‘å›¾å­˜åœ¨ç¯ï¼Œä¹Ÿå°±æ˜¯æ£€æµ‹åˆ°æ­»é”çš„å‘ç”Ÿã€‚</p>
<ol start="2">
<li>æ¯ç§ç±»å‹å¤šä¸ªèµ„æºçš„æ­»é”æ£€æµ‹</li>
</ol>
<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/e1eda3d5-5ec8-4708-8e25-1a04c5e11f48.png"> </div><br>

<p>ä¸Šå›¾ä¸­ï¼Œæœ‰ä¸‰ä¸ªè¿›ç¨‹å››ä¸ªèµ„æºï¼Œæ¯ä¸ªæ•°æ®ä»£è¡¨çš„å«ä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>E å‘é‡ï¼šèµ„æºæ€»é‡</li>
<li>A å‘é‡ï¼šèµ„æºå‰©ä½™é‡</li>
<li>C çŸ©é˜µï¼šæ¯ä¸ªè¿›ç¨‹æ‰€æ‹¥æœ‰çš„èµ„æºæ•°é‡ï¼Œæ¯ä¸€è¡Œéƒ½ä»£è¡¨ä¸€ä¸ªè¿›ç¨‹æ‹¥æœ‰èµ„æºçš„æ•°é‡</li>
<li>R çŸ©é˜µï¼šæ¯ä¸ªè¿›ç¨‹è¯·æ±‚çš„èµ„æºæ•°é‡</li>
</ul>
<p>è¿›ç¨‹ P<sub>1</sub> å’Œ P<sub>2</sub> æ‰€è¯·æ±‚çš„èµ„æºéƒ½å¾—ä¸åˆ°æ»¡è¶³ï¼Œåªæœ‰è¿›ç¨‹ P<sub>3</sub> å¯ä»¥ï¼Œè®© P<sub>3</sub> æ‰§è¡Œï¼Œä¹‹åé‡Šæ”¾ P<sub>3</sub> æ‹¥æœ‰çš„èµ„æºï¼Œæ­¤æ—¶ A = (2 2 2 0)ã€‚P<sub>2</sub> å¯ä»¥æ‰§è¡Œï¼Œæ‰§è¡Œåé‡Šæ”¾ P<sub>2</sub> æ‹¥æœ‰çš„èµ„æºï¼ŒA = (4 2 2 1) ã€‚P<sub>1</sub> ä¹Ÿå¯ä»¥æ‰§è¡Œã€‚æ‰€æœ‰è¿›ç¨‹éƒ½å¯ä»¥é¡ºåˆ©æ‰§è¡Œï¼Œæ²¡æœ‰æ­»é”ã€‚</p>
<p>ç®—æ³•æ€»ç»“å¦‚ä¸‹ï¼š</p>
<p>æ¯ä¸ªè¿›ç¨‹æœ€å¼€å§‹æ—¶éƒ½ä¸è¢«æ ‡è®°ï¼Œæ‰§è¡Œè¿‡ç¨‹æœ‰å¯èƒ½è¢«æ ‡è®°ã€‚å½“ç®—æ³•ç»“æŸæ—¶ï¼Œä»»ä½•æ²¡æœ‰è¢«æ ‡è®°çš„è¿›ç¨‹éƒ½æ˜¯æ­»é”è¿›ç¨‹ã€‚</p>
<ol>
<li><p>å¯»æ‰¾ä¸€ä¸ªæ²¡æœ‰æ ‡è®°çš„è¿›ç¨‹ P<sub>i</sub>ï¼Œå®ƒæ‰€è¯·æ±‚çš„èµ„æºå°äºç­‰äº Aã€‚</p>
</li>
<li><p>å¦‚æœæ‰¾åˆ°äº†è¿™æ ·ä¸€ä¸ªè¿›ç¨‹ï¼Œé‚£ä¹ˆå°† C çŸ©é˜µçš„ç¬¬ i è¡Œå‘é‡åŠ åˆ° A ä¸­ï¼Œæ ‡è®°è¯¥è¿›ç¨‹ï¼Œå¹¶è½¬å› 1ã€‚</p>
</li>
<li><p>å¦‚æœæ²¡æœ‰è¿™æ ·ä¸€ä¸ªè¿›ç¨‹ï¼Œç®—æ³•ç»ˆæ­¢ã€‚</p>
</li>
<li><p>æ­»é”æ¢å¤</p>
</li>
</ol>
<ul>
<li>åˆ©ç”¨æŠ¢å æ¢å¤</li>
<li>åˆ©ç”¨å›æ»šæ¢å¤</li>
<li>é€šè¿‡æ€æ­»è¿›ç¨‹æ¢å¤</li>
</ul>
<h4 id="æ­»é”é¢„é˜²"><a href="#æ­»é”é¢„é˜²" class="headerlink" title="æ­»é”é¢„é˜²"></a>æ­»é”é¢„é˜²</h4><p>ç ´åå››ä¸ªå¿…è¦æ¡ä»¶å³å¯ã€‚</p>
<p>å¦‚èµ„æºç»Ÿä¸€æ ‡å·ï¼Œåªèƒ½é¡ºåºå‘ä¸Šè¯·æ±‚ï¼ˆç ´åç¯è·¯ç­‰å¾…ï¼‰<br>æˆ–è€…é™æ€åˆ†é…èµ„æº</p>
<h4 id="æ­»é”é¿å…"><a href="#æ­»é”é¿å…" class="headerlink" title="æ­»é”é¿å…"></a>æ­»é”é¿å…</h4><p>é“¶è¡Œå®¶ç®—æ³•ã€‚</p>
<p>å®‰å…¨çŠ¶æ€å®šä¹‰ï¼šå¦‚æœæ²¡æœ‰æ­»é”å‘ç”Ÿï¼Œå¹¶ä¸”å³ä½¿æ‰€æœ‰è¿›ç¨‹çªç„¶è¯·æ±‚å¯¹èµ„æºçš„æœ€å¤§éœ€æ±‚ï¼Œä¹Ÿä»ç„¶å­˜åœ¨æŸç§è°ƒåº¦æ¬¡åºèƒ½å¤Ÿä½¿å¾—æ¯ä¸€ä¸ªè¿›ç¨‹è¿è¡Œå®Œæ¯•ï¼Œåˆ™ç§°è¯¥çŠ¶æ€æ˜¯å®‰å…¨çš„ã€‚</p>
<h2 id="è®¾å¤‡ç®¡ç†-1"><a href="#è®¾å¤‡ç®¡ç†-1" class="headerlink" title="è®¾å¤‡ç®¡ç†"></a>è®¾å¤‡ç®¡ç†</h2><ul>
<li>å…³äºå­—ç¬¦è®¾å¤‡å’Œå—è®¾å¤‡çš„æ›´å¤šåŒºåˆ«ï¼š</li>
</ul>
<p>å—è®¾å¤‡åªèƒ½ä»¥å—ä¸ºå•ä½æ¥å—è¾“å…¥å’Œè¿”å›è¾“å‡ºï¼Œè€Œå­—ç¬¦è®¾å¤‡åˆ™ä»¥å­—èŠ‚ä¸ºå•ä½ã€‚å¤§å¤šæ•°è®¾å¤‡æ˜¯å­—ç¬¦è®¾å¤‡ï¼Œå› ä¸ºå®ƒä»¬ä¸éœ€è¦ç¼“å†²è€Œä¸”ä¸ä»¥å›ºå®šå—å¤§å°è¿›è¡Œæ“ä½œã€‚ å—è®¾å¤‡å¯¹äºI/O è¯·æ±‚æœ‰å¯¹åº”çš„ç¼“å†²åŒºï¼Œå› æ­¤å®ƒä»¬å¯ä»¥é€‰æ‹©ä»¥ä»€ä¹ˆé¡ºåºè¿›è¡Œå“åº”ï¼Œå­—ç¬¦è®¾å¤‡æ— é¡»ç¼“å†²ä¸”è¢«ç›´æ¥è¯»å†™ã€‚å¯¹äºå­˜å‚¨è®¾å¤‡è€Œè¨€è°ƒ è¯»å†™çš„é¡ºåºä½œç”¨å·¨å¤§ï¼Œå› ä¸ºåœ¨è¯»å†™è¿ç»­çš„æ‰‡åŒºæ¯”åˆ†ç¦»çš„æ‰‡åŒºæ›´å¿«ã€‚ å­—ç¬¦è®¾å¤‡åªèƒ½è¢«é¡ºåºè¯»å†™ï¼Œè€Œå—è®¾å¤‡å¯ä»¥éšæœºè®¿é—®ã€‚è™½ç„¶å—è®¾å¤‡å¯éšæœºè®¿é—®ï¼Œä½†æ˜¯å¯¹äºç£ç›˜è¿™ç±»æœºæ¢°è®¾å¤‡è€Œè¨€ï¼Œé¡ºåºåœ°ç»„ç»‡å—è®¾å¤‡çš„è®¿é—®å¯ä»¥æé«˜æ€§èƒ½ã€‚</p>
<h2 id="è¿›ç¨‹å’Œçº¿ç¨‹çš„ä¸»è¦åŒºåˆ«"><a href="#è¿›ç¨‹å’Œçº¿ç¨‹çš„ä¸»è¦åŒºåˆ«" class="headerlink" title="è¿›ç¨‹å’Œçº¿ç¨‹çš„ä¸»è¦åŒºåˆ«"></a>è¿›ç¨‹å’Œçº¿ç¨‹çš„ä¸»è¦åŒºåˆ«</h2><p>æ ¹æœ¬åŒºåˆ«ï¼šè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿèµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œè€Œçº¿ç¨‹æ˜¯ä»»åŠ¡è°ƒåº¦å’Œæ‰§è¡Œçš„åŸºæœ¬å•ä½</p>
<p>åœ¨å¼€é”€æ–¹é¢ï¼šæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„ä»£ç å’Œæ•°æ®ç©ºé—´ï¼Œç¨‹åºä¹‹é—´çš„åˆ‡æ¢ä¼šæœ‰è¾ƒå¤§çš„å¼€é”€ï¼›çº¿ç¨‹å¯ä»¥çœ‹ä½œè½»é‡çº§çš„è¿›ç¨‹ï¼ŒåŒä¸€ç±»çº¿ç¨‹å…±äº«ä»£ç å’Œæ•°æ®ç©ºé—´ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„è¿è¡Œæ ˆå’Œç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰ï¼Œçº¿ç¨‹ä¹‹é—´åˆ‡æ¢çš„å¼€é”€å°ã€‚</p>
<p>æ‰€å¤„ç¯å¢ƒï¼šåœ¨æ“ä½œç³»ç»Ÿä¸­èƒ½åŒæ—¶è¿è¡Œå¤šä¸ªè¿›ç¨‹ï¼ˆç¨‹åºï¼‰ï¼›è€Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹ï¼ˆç¨‹åºï¼‰ä¸­æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œï¼ˆé€šè¿‡CPUè°ƒåº¦ï¼Œåœ¨æ¯ä¸ªæ—¶é—´ç‰‡ä¸­åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼‰</p>
<p>å†…å­˜åˆ†é…æ–¹é¢ï¼šç³»ç»Ÿåœ¨è¿è¡Œçš„æ—¶å€™ä¼šä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸åŒçš„å†…å­˜ç©ºé—´ï¼›è€Œå¯¹çº¿ç¨‹è€Œè¨€ï¼Œé™¤äº†CPUå¤–ï¼Œç³»ç»Ÿä¸ä¼šä¸ºçº¿ç¨‹åˆ†é…å†…å­˜ï¼ˆçº¿ç¨‹æ‰€ä½¿ç”¨çš„èµ„æºæ¥è‡ªå…¶æ‰€å±è¿›ç¨‹çš„èµ„æºï¼‰çº¿ç¨‹ç»„ä¹‹é—´åªèƒ½å…±äº«èµ„æºã€‚</p>
<p>åŒ…å«å…³ç³»ï¼šæ²¡æœ‰çº¿ç¨‹çš„è¿›ç¨‹å¯ä»¥çœ‹ä½œæ˜¯å•çº¿ç¨‹çš„ã€‚å¦‚æœä¸€ä¸ªè¿›ç¨‹å†…æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œåˆ™æ‰§è¡Œè¿‡ç¨‹ä¸æ˜¯ä¸€æ¡çº¿çš„ï¼Œè€Œæ˜¯å¤šæ¡çº¿ï¼ˆçº¿ç¨‹ï¼‰å…±åŒå®Œæˆçš„ï¼›çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥çº¿ç¨‹ä¹Ÿè¢«ç§°ä¸ºè½»æƒè¿›ç¨‹æˆ–è€…è½»é‡çº§è¿›ç¨‹ã€‚</p>
<p><strong>å®ˆæŠ¤è¿›ç¨‹ï¼ˆ daemon)</strong>æ˜¯æŒ‡åœ¨åå°è¿è¡Œï¼Œæ²¡æœ‰æ§åˆ¶ç»ˆç«¯ä¸ä¹‹ç›¸è¿çš„è¿›ç¨‹ã€‚å®ƒç‹¬ç«‹äºæ§åˆ¶ç»ˆç«¯ï¼Œé€šå¸¸å‘¨æœŸæ€§åœ°æ‰§è¡ŒæŸç§ä»»åŠ¡ ã€‚ å®ˆæŠ¤è¿›ç¨‹è„±ç¦»äºç»ˆç«¯æ˜¯ä¸ºäº†é¿å…è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¿¡æ¯åœ¨ä»»ä½•ç»ˆç«¯ä¸Šæ˜¾ç¤ºå¹¶ä¸”è¿›ç¨‹ä¹Ÿä¸ä¼šè¢«ä»»ä½•ç»ˆç«¯æ‰€äº§ç”Ÿçš„ç»ˆç«¯ä¿¡æ¯æ‰€æ‰“æ–­ ã€‚</p>
<p>åƒµå°¸è¿›ç¨‹æ˜¯æŒ‡è¯¥è¿›ç¨‹å·²ç»ç»“æŸä½†æ˜¯æ²¡æœ‰è¢«çˆ¶è¿›ç¨‹å›æ”¶èµ„æºã€‚å¯ä»¥é€šè¿‡killçˆ¶è¿›ç¨‹ä½¿å…¶ç¼–ç¨‹å­¤å„¿è¿›ç¨‹ï¼Œç”±initè¿›ç¨‹æ¥ç®¡ã€‚</p>
]]></content>
      <categories>
        <category>cs</category>
      </categories>
      <tags>
        <tag>os</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰‘æŒ‡offer--gogogo</title>
    <url>/blog/2020/03/02/%E5%89%91%E6%8C%87offer-gogogo/</url>
    <content><![CDATA[<p>ä¸€ç›´æœ‰å¬è¯´è¿™æœ¬ä¹¦ï¼Œå†³å®šåˆ·ä¸€ä¸‹leetcodeä¸Šçš„è¿™ä¸ªé¢˜ã€‚</p>
<a id="more"></a>

<p><img src="https://i.loli.net/2020/03/02/F5hs7bkZJuMrCfD.jpg" alt="Jietu20200302-181515@2x"></p>
<p>ä¸‹é¢è¿™ä¸ªé¢˜è§£æ˜¯ä¸€ä¸ª0msçš„é¢˜è§£ï¼Œè›®å·§å¦™</p>
<pre><code class="go">func canConstruct(ransomNote string, magazine string) bool {
    caps := make([]int, 26)
    for _, v := range ransomNote {
        idx := indexOf(v, magazine, caps[v-97])
        if idx == -1 {
            return false
        }
        caps[v-97] = idx + 1
    }
    return true
}

func indexOf(c int32, magazine string, fromIdx int) int {
    for i := fromIdx; i &lt; len(magazine); i++ {
        c1 := magazine[i]
        if int32(c1) == c {
            return i
        }
    }
    return -1
}</code></pre>
<p>æˆ‘çš„è§£æ³•ï¼Œå…¶å®æ—¶é—´å¤æ‚åº¦å·®ä¸å¤šã€‚ç©ºé—´å¤æ‚åº¦ä¹Ÿä¸€æ ·ã€‚</p>
<pre><code class="go">func canConstruct(ransomNote string, magazine string) bool {
    m := make([]int, 26)
    for _, v := range magazine {
        m[v - &#39;a&#39;]++
    }
    for _, v:= range ransomNote {
        m[v - &#39;a&#39;]--
        if m[v - &#39;a&#39;] &lt; 0 {
            return false
        }
    }
    return true
}</code></pre>
<p><img src="https://i.loli.net/2020/03/02/F6u4kqKvdmbVOMn.jpg" alt="Jietu20200302-204952@2x"></p>
<p>å…¶å®å’Œè¿™ä¸ªé¢˜å·®ä¸å¤šï¼Œ<a href="https://leetcode-cn.com/problems/consecutive-numbers-sum/solution/lian-xu-zheng-shu-qiu-he-by-leetcode/" target="_blank" rel="noopener">å®˜æ–¹é¢˜è§£</a><br>ä¹Ÿæœ‰æ‹¿åŒæŒ‡é’ˆåšçš„ï¼Œä¸€å¿«ä¸€æ…¢ç„¶åè®¡ç®—å’Œï¼Œå¦‚æœå¤§äºtargetåˆ™æ…¢æŒ‡é’ˆå‰è¿›ï¼Œå°äºåˆ™å¿«æŒ‡é’ˆå‰è¿›</p>
<pre><code class="go">func findContinuousSequence(target int) [][]int {
    res := make([][]int, 0)
    for i:=int(math.Sqrt(float64(2*target))); i&gt;=2; i-- {
        judge := target - i * (i - 1) / 2
        if judge % i == 0 {
            begin := judge / i
            temp := make([]int, 0)
            for j:=0; j&lt;i; j++ {
                temp = append(temp, begin+j)
            }
            res = append(res, temp)
        }
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/03/02/oFseV17HjfTYSgE.jpg" alt="Jietu20200302-213008@2x"></p>
<p>ç±»ä¼¼åŠ¨æ€è§„åˆ’ï¼Œä¿å­˜æ¯ä¸ªæ»‘åŠ¨çª—å£çš„æœ€å¤§åæ ‡ï¼Œå¦‚æœåœ¨çª—å£å¤–åˆ™æ›´æ–°ï¼Œæ¯æ¬¡æ»‘åŠ¨åªçœ‹æ–°åŠ å…¥çš„æ˜¯å¦æ¯”ç°åœ¨ç»´æŒçš„å¤§ã€‚</p>
<pre><code class="go">func maxSlidingWindow(nums []int, k int) []int { 
    res := make([]int, 0)
    begin, end, max:= 0, k-1, -1
    for end&lt;len(nums) &amp;&amp; end &gt;= 0 {
        if max &lt; begin {
            max = findMax(nums, begin, end)
        } else {
            if nums[max] &lt;= nums[end] {
                max = end
            }
        }
        res = append(res, nums[max])
        begin++
        end++
    }
    return res
}

func findMax(nums []int, begin, end int) int {
    res := begin
    for i:=begin; i&lt;=end;i++ {
        if nums[res] &lt;= nums[i] {
            res = i
        }
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/03/03/zQt238REaKIPMep.jpg" alt="Jietu20200303-113029@2x"></p>
<p>åªæœ‰å››ç§æƒ…å†µï¼Œé€æ­¥ç¼©å°èŒƒå›´å°±è¡Œäº†ã€‚</p>
<p>çœ‹äº†é¢˜è§£ï¼Œè¿˜å¯ä»¥æŒ‰å±‚æ¥æ¨¡æ‹Ÿã€‚</p>
<pre><code class="go">func spiralOrder(matrix [][]int) []int {
    rowbegin, rowend := 0, len(matrix)
    if rowend== 0 {
        return []int{}
    }
    cowbegin, cowend := 0, len(matrix[0])
    res := make([]int, 0,cowend*rowend)
    count := 0
    for cowbegin &lt; cowend &amp;&amp; rowbegin &lt; rowend {
        switch count {
            case 0:
                for i:=cowbegin; i&lt;cowend;i++{
                    res = append(res, matrix[rowbegin][i])
                }
                rowbegin++
            case 1:
                for i:=rowbegin; i&lt;rowend;i++ {
                    res = append(res, matrix[i][cowend-1])
                }
                cowend--
            case 2:
                for i:=cowend-1; i&gt;=cowbegin; i-- {
                    res = append(res, matrix[rowend-1][i])
                }
                rowend--
            case 3:
                for i:=rowend-1; i&gt;=rowbegin;i-- {
                    res = append(res, matrix[i][cowbegin])
                }
                cowbegin++
        }
        count = (count+1) % 4
    }
    return res
}</code></pre>
<h2 id="é¢è¯•é¢˜03"><a href="#é¢è¯•é¢˜03" class="headerlink" title="é¢è¯•é¢˜03"></a>é¢è¯•é¢˜03</h2><p><img src="https://i.loli.net/2020/03/25/EcVyAeKGxIYRovm.jpg" alt="Jietu20200325-185752@2x"></p>
<p>æˆ‘ä»¬è¦å°†æ¯ä¸ªæ•°iï¼Œæ”¾åœ¨æ•°ç»„çš„ç¬¬iä¸ªä½ç½®ï¼Œå¦‚æœä¸æ˜¯å°±è¿›è¡Œäº¤æ¢ã€‚åªæ˜¯ä¸æ˜ç™½ä¹¦ä¸­ä¸ºä»€ä¹ˆè¯´è‡³å°‘äº¤æ¢ä¸¤æ¬¡å°±å¯ä»¥äº¤æ¢åˆ°æŒ‡å®šçš„ä½ç½®ã€‚</p>
<pre><code class="go">func findRepeatNumber(nums []int) int {
    for i:=0; i&lt;len(nums); i++ {
        for nums[i] != i {
            if nums[i] == nums[nums[i]] {
                return nums[i]
            }
            nums[i], nums[nums[i]] = nums[nums[i]], nums[i]
        }
    }
    return -1
}</code></pre>
<h2 id="é¢è¯•é¢˜04"><a href="#é¢è¯•é¢˜04" class="headerlink" title="é¢è¯•é¢˜04"></a>é¢è¯•é¢˜04</h2><p><img src="https://i.loli.net/2020/03/25/MHPFcwoKqfmLXhe.jpg" alt="Jietu20200325-194238@2x"></p>
<p>ä»å³ä¸Šè§’å¼€å§‹ï¼Œå¦‚æœå¤§äºç›®æ ‡åˆ™æ­¤åˆ—ä¸è¦ï¼Œå°äºåˆ™æ­¤è¡Œä¸è¦ã€‚ï¼ˆå¦å¤–ä»å·¦ä¸‹è§’å¼€å§‹ä¹Ÿå¯ä»¥ï¼‰ï¼</p>
<pre><code class="go">func findNumberIn2DArray(matrix [][]int, target int) bool {
    if len(matrix) == 0 || len(matrix[0]) == 0 {
        return false
    }
    row, cow := 0, len(matrix[0])-1
    for row&lt;len(matrix) &amp;&amp; cow &gt;=0 {
        if target &lt; matrix[row][cow] {
            cow--
        } else if target &gt; matrix[row][cow] {
            row++
        } else {
            return true
        }
    }
    return false
}</code></pre>
<h2 id="é¢è¯•é¢˜34-äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„"><a href="#é¢è¯•é¢˜34-äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„" class="headerlink" title="é¢è¯•é¢˜34 äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„"></a>é¢è¯•é¢˜34 äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„</h2><p><img src="https://i.loli.net/2020/03/25/IVpyCf9ha5tFWRo.jpg" alt="Jietu20200325-205003@2x"></p>
<pre><code class="go">func pathSum(root *TreeNode, sum int) [][]int {
    res, _ := helper(root, sum)
    reverse := func (a []int) {
        for i:=(len(a)-1)/2;i&gt;=0;i-- {
            a[i], a[len(a)-1-i] = a[len(a)-1-i], a[i]
        }
    }
    for _, v := range res {
        reverse(v)
    }
    return res
}

func helper(root *TreeNode, sum int) ([][]int, bool) {
    res := make([][]int, 0)
    if root == nil {
        return [][]int{}, false
    }
    if root.Val == sum &amp;&amp; root.Left == root.Right &amp;&amp; root.Left == nil {
        return [][]int{[]int{root.Val}}, true
    }
    lvalue, lsuc := helper(root.Left, sum-root.Val)
    rvalue, rsuc := helper(root.Right, sum-root.Val)
    if lsuc {
        for _, v := range lvalue {
            res = append(res, append(v, root.Val))
        }
    }
    if rsuc {
        for _, v := range rvalue {
            res = append(res, append(v, root.Val))
        }
    }
    return res, lsuc || rsuc
}</code></pre>
<h2 id="é¢è¯•é¢˜06-ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨"><a href="#é¢è¯•é¢˜06-ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨" class="headerlink" title="é¢è¯•é¢˜06 ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨"></a>é¢è¯•é¢˜06 ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨</h2><p><img src="https://i.loli.net/2020/03/25/uZ7grfA4EMshloL.jpg" alt="Jietu20200325-205913@2x"></p>
<pre><code class="go">func reversePrint(head *ListNode) []int {
    res := make([]int, 0)
    for head != nil {
        res = append(res, head.Val)
        head = head.Next
    }
    length := len(res)
    if length == 0 {
        return res
    }
    for i:=(length-1)/2;i&gt;=0;i-- {
        res[i], res[length-i-1] = res[length-i-1], res[i]
    }
    return res
}</code></pre>
<h2 id="é¢è¯•é¢˜07-é‡å»ºäºŒå‰æ ‘"><a href="#é¢è¯•é¢˜07-é‡å»ºäºŒå‰æ ‘" class="headerlink" title="é¢è¯•é¢˜07 é‡å»ºäºŒå‰æ ‘"></a>é¢è¯•é¢˜07 é‡å»ºäºŒå‰æ ‘</h2><p><img src="https://i.loli.net/2020/03/25/anYSeQKuDArqvRP.jpg" alt="Jietu20200325-211903@2x"></p>
<pre><code class="go">func buildTree(preorder []int, inorder []int) *TreeNode {
    if len(preorder)==0 || len(inorder) == 0 {
        return nil
    }
    index := 0
    for ;index&lt;len(inorder); index++ {
        if inorder[index] == preorder[0] {
            break
        }
    }
    return &amp;TreeNode{
        Val: preorder[0],
        Left: buildTree(preorder[1:index+1], inorder[:index]),
        Right: buildTree(preorder[index+1:], inorder[index+1:]),
    }
}</code></pre>
<h2 id="ç”¨é˜Ÿåˆ—å®ç°æ ˆ"><a href="#ç”¨é˜Ÿåˆ—å®ç°æ ˆ" class="headerlink" title="ç”¨é˜Ÿåˆ—å®ç°æ ˆ"></a>ç”¨é˜Ÿåˆ—å®ç°æ ˆ</h2><p>å¯ä»¥æœ‰ä¸‰ç§æ–¹å¼ï¼š</p>
<p><a href="https://leetcode-cn.com/problems/implement-stack-using-queues/solution/yong-dui-lie-shi-xian-zhan-by-leetcode/" target="_blank" rel="noopener">https://leetcode-cn.com/problems/implement-stack-using-queues/solution/yong-dui-lie-shi-xian-zhan-by-leetcode/</a></p>
<p>è®²é“ç†ï¼Œè›®æœºæ™ºã€‚</p>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>leetcode</tag>
        <tag>offer</tag>
      </tags>
  </entry>
  <entry>
    <title>goæ ‡å‡†åº“containerä½¿ç”¨</title>
    <url>/blog/2020/02/25/go%E6%A0%87%E5%87%86%E5%BA%93contains-List%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>è¿™å‡ å¤©åˆ·leetcodeç®—æ³•é¢˜æ ‘çš„éƒ¨åˆ†çš„æ—¶å€™é¢‘ç¹çš„éœ€è¦ç”¨åˆ°é˜Ÿåˆ—å’Œæ ˆï¼Œä¸€å¼€å§‹æˆ‘æƒ³æ‹¿sliceå®ç°ï¼Œåé¢çœ‹äº†åˆ«äººçš„é¢˜è§£ä¸­æœ‰ç”¨åˆ°listè¿™ä¸ªæ ‡å‡†åº“ï¼Œæä¾›äº†ä¸€ä¸ªåŒå‘çš„é“¾è¡¨æ„Ÿè§‰å¾ˆæ–¹ä¾¿ï¼Œå°±æ‹¿æ¥ä¸€ç”¨</p>
<p>ä¸è¿‡å› ä¸ºå…¶ä½¿ç”¨interface{}ç±»å‹æ¥å®ç°æ³›å‹ï¼Œæ‰€ä»¥ä½¿ç”¨èµ·æ¥æœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œæ‰€ä»¥ç”¨åšå®¢è®°å½•ä¸€ä¸‹ã€‚</p>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://go-zh.org/pkg/container/list/" target="_blank" rel="noopener">listæ–‡æ¡£</a></p>
<p>è¡¥å……ä¸€ä¸‹containeråº“ä¸­å‰©ä¸‹çš„å†…å®¹ã€‚</p>
<a id="more"></a>

<h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><p>é¦–å…ˆlistä¸­å‚¨å­˜äº†ä¸€ä¸ªElementç±»å‹çš„å˜é‡ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="go">type Element struct {

    // The value stored with this element.
    Value interface{}
    // contains filtered or unexported fields
}</code></pre>
<p>å…¶ä¸­ä½¿ç”¨äº†æ¥å£ç±»å‹å®šä¹‰Valueï¼Œè¿™æ ·ä»¥æ¥Elementå°±å¯ä»¥å®ç°å­˜å‚¨ä»»ä½•å€¼ã€‚</p>
<p>listçš„æ“ä½œå…¶å®ä¸éš¾ï¼Œå®šä¹‰åœ¨å…¶ä¸­çš„æ–¹æ³•çœ‹åå­—å°±èƒ½çœ‹å‡ºæ¥æ˜¯å•¥ï¼Œä½¿ç”¨çš„ä¸€ä¸ªç®€å•ç¤ºä¾‹å¦‚ä¸‹ã€‚</p>
<pre><code class="go">package main

import (
    &quot;container/list&quot;
    &quot;fmt&quot;
)

func main() {
    // Create a new list and put some numbers in it.
    l := list.New()
    e4 := l.PushBack(4)
    e1 := l.PushFront(1)
    l.InsertBefore(3, e4)
    l.InsertAfter(2, e1)

    // Iterate through list and print its contents.
    for e := l.Front(); e != nil; e = e.Next() {
        fmt.Println(e.Value)
    }

}</code></pre>
<h2 id="interface-ç±»å‹æ–­è¨€"><a href="#interface-ç±»å‹æ–­è¨€" class="headerlink" title="interface{}ç±»å‹æ–­è¨€"></a>interface{}ç±»å‹æ–­è¨€</h2><p>å€¼å¾—æ³¨æ„çš„åªæœ‰ä¸€ç‚¹ï¼Œå°±æ˜¯iterfaceåœ¨è¿›è¡Œç±»å‹è½¬æ¢çš„æ—¶å€™æ˜¯éœ€è¦ä½¿ç”¨ç±»å‹æ–­è¨€çš„ã€‚</p>
<pre><code class="go">func preorderTraversal(root *TreeNode) []int {
    stack := list.New()
    res := make([]int, 0)
    stack.PushBack(root)
    for stack.Len() &gt; 0 {
        cur  := stack.Back()
        curValue, _ := cur.Value.(*TreeNode)
        stack.Remove(cur)
        if curValue != nil {
            res = append(res, curValue.Val)
            stack.PushBack(curValue.Right)
            stack.PushBack(curValue.Left)
        }
    }
    return res
}</code></pre>
<p>æ¯”å¦‚åˆšåˆšåšå®Œçš„é‚£é“å‰åºéå†çš„é¢˜ï¼Œå…¶ä¸­<code>curValue, _ := cur.Value.(*TreeNode)</code>å°±æ˜¯ä¸€å¥ç±»å‹æ–­è¨€ã€‚</p>
<p>ç±»å‹æ–­è¨€æ˜¯è®¿é—®æ¥å£ç±»å‹åº•å±‚å€¼çš„å”¯ä¸€æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡æ–­è¨€æ¥åœ¨è¿è¡Œæ—¶æ£€æŸ¥interfaceä¸­æ˜¯å¦å«æœ‰æŸç§ç±»å‹ã€‚ä¸Šè¿°çš„æ–¹æ³•å…¶å®ä¸å¤Ÿè§„èŒƒï¼Œå› ä¸ºå¿½ç•¥äº†åé¢è¿”å›çš„é‚£ä¸ªå€¼ã€‚</p>
<h2 id="heap"><a href="#heap" class="headerlink" title="heap"></a>heap</h2><p>containeråº“ä¸­å…·æœ‰ä¸€ä¸ªheapçš„æ¥å£ï¼Œé€šè¿‡å®ç°è¯¥æ¥å£ï¼Œå¯ä»¥å®ç°ä¸€ä¸ªå°é¡¶å †ã€‚</p>
<p>æ¥å£çš„å®šä¹‰å¦‚ä¸‹</p>
<pre><code class="go">type Interface interface {
    sort.Interface
    Push(x interface{}) // add x as element Len()
    Pop() interface{}   // remove and return element Len() - 1.
}</code></pre>
<p>å…¶ä¸­sort.Interfaceæ˜¯å¦ä¸€ä¸ªåŒ…ä¸­çš„æ¥å£å®šä¹‰ï¼Œæä¾›äº†å¯¹äºä»»æ„å…ƒç´ çš„æ’åºæ–¹æ³•ï¼Œæˆ‘ä»¬å®ç°å †æ—¶ï¼Œé¦–å…ˆä¹Ÿè¦å®ç°è¿™ä¸ªæ¥å£ã€‚</p>
<pre><code class="go">type Interface interface {
    // Len is the number of elements in the collection.
    // Len ä¸ºé›†åˆå†…å…ƒç´ çš„æ€»æ•°
    Len() int
    // Less reports whether the element with
    // index i should sort before the element with index j.
    //
    // Less è¿”å›ç´¢å¼•ä¸º i çš„å…ƒç´ æ˜¯å¦åº”æ’åœ¨ç´¢å¼•ä¸º j çš„å…ƒç´ ä¹‹å‰ã€‚
    Less(i, j int) bool
    // Swap swaps the elements with indexes i and j.
    // Swap äº¤æ¢ç´¢å¼•ä¸º i å’Œ j çš„å…ƒç´ 
    Swap(i, j int)
}</code></pre>
<p>ä¹‹åç»™å‡ºä¸€ä¸ªIntHeapå’Œä¼˜å…ˆé˜Ÿåˆ—çš„ä¾‹å­ã€‚<a href="https://go-zh.org/pkg/container/heap/#pkg-examples" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>ECSè®¾ç½®grubé»˜è®¤kernel</title>
    <url>/blog/2020/02/22/ECS%E8%AE%BE%E7%BD%AEgrub%E9%BB%98%E8%AE%A4kernel/</url>
    <content><![CDATA[<p>æ“ä½œç³»ç»Ÿè¯¾è®¾è¦ç¼–è¯‘å†…æ ¸ï¼Œå› ä¸ºä¸æƒ³ä½¿ç”¨macè·‘è™šæ‹Ÿæœºæ‰€ä»¥é€‰æ‹©ç§Ÿäº†é˜¿é‡Œäº‘ä¸€ä¸ªECSæ¥è¿›è¡Œã€‚ä¹‹å‰çš„æ­¥éª¤éƒ½è¿›è¡Œçš„å¾ˆæ„‰å¿«ï¼Œç›´åˆ°æˆ‘ä¸ç®¡æ€æ ·è®¾ç½®grubéƒ½ä¸èƒ½ä½¿ç”¨æˆ‘æ–°ç¼–è¯‘çš„é‚£ä¸ªå†…æ ¸ã€‚</p>
<p>è®¾ç½®é»˜è®¤å†…æ ¸çš„æ–¹æ³•æœ‰è¿™äº›ï¼š</p>
<ol>
<li><p>/etc/default/grub ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ã€‚å‚è€ƒ<a href="https://help.aliyun.com/knowledge_detail/58187.html?spm=5176.13910061.0.0.7241523fvOwstK&aly_as=tZCH4b4a" target="_blank" rel="noopener">é˜¿é‡Œäº‘æ‰‹å†Œ</a></p>
</li>
<li><p>ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ <code>sudo grub-set-default</code>ï¼Œæœ€ç»ˆæˆ‘æ˜¯ä½¿ç”¨è¿™ä¸ªè§£å†³çš„ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸èƒ½åªç»™å‡ºå†…æ ¸çš„åå­—ï¼Œè¿˜è¦å†™æˆè¿™æ ·<code>sudo grub-set-default &quot;Advanced options for Ubuntu&gt;Ubuntu, with Linux 4.4.137&quot;</code><a href="https://www.jianshu.com/p/c76bc5e113f1" target="_blank" rel="noopener">å‚è€ƒè¿™ä¸ªåšå®¢</a></p>
</li>
</ol>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>kernel</tag>
      </tags>
  </entry>
  <entry>
    <title>Database Notes</title>
    <url>/blog/2020/02/17/Database-Notes/</url>
    <content><![CDATA[<p>çœ‹åˆ°å¾ˆå¤šå¤§å‚éƒ½æœ‰å¯¹äºæ•°æ®åº“æŒæ¡çš„è¦æ±‚ï¼Œæ‰“ç®—ä»mysqlå’ŒRediså…¥æ‰‹å¡«å……ä¸‹æ•°æ®åº“æ–¹é¢çš„çŸ¥è¯†æ ˆã€‚</p>
<a id="more"></a>

<h2 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h2><p>æ•°æ®åº“æ˜¯æŒ‰ç…§æ•°æ®ç»“æ„æ¥ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“ï¼Œå…³ç³»å‹æ•°æ®åº“ï¼ˆRDBMSï¼‰æ˜¯å»ºç«‹åœ¨å…³ç³»æ¨¡å‹ä¸Šçš„æ•°æ®åº“ï¼Œå€ŸåŠ©äºé›†åˆä»£æ•°çš„æ–¹æ³•å’Œæ¦‚å¿µæ¥ç®¡ç†æ•°æ®åº“ï¼Œå…³ç³»å‹æ•°æ®åº“æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ol>
<li>æ•°æ®ä»¥è¡¨æ ¼å½¢å¼ç»™å‡ºã€‚</li>
<li>æ¯è¡Œä¸ºå„è®°å½•åç§°ï¼Œæ¯åˆ—ä¸ºè®°å½•åç§°å¯¹åº”çš„æ•°æ®åŸŸã€‚</li>
<li>è®¸å¤šè¡Œåˆ—ç»“åˆå½¢æˆä¸€å¼ è¡¨å•</li>
<li>è‹¥å¹²è¡¨å•ç»„åˆæˆdatabase</li>
</ol>
<h2 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h2><p>mysqlæ˜¯æœ€æµè¡Œçš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œåœ¨webåº”ç”¨æ–¹é¢æ˜¯æœ€å¥½çš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¹‹ä¸€ã€‚</p>
<h3 id="åˆ›å»ºæ•°æ®åº“ã€åˆ é™¤æ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“ã€åˆ é™¤æ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“ã€åˆ é™¤æ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“ã€åˆ é™¤æ•°æ®åº“</h3><pre><code class="sql">CREATE DATABASE database_names
drop database &lt;databaseName&gt;


mysqladmin -u root -p create database_names 
mysqladmin -u root -p drop databaseName
</code></pre>
<p>åè€…ä½¿ç”¨ç®¡ç†å‘˜æƒé™åˆ›å»ºæ•°æ®åº“ã€‚åˆ é™¤æ—¶åº”å½“æ³¨æ„åˆ é™¤åæ‰€æœ‰çš„æ•°æ®éƒ½å°†ä¸åœ¨ï¼Œæ‰€ä»¥éœ€è¦ä¸€äº›æƒé™å»æ“ä½œã€‚</p>
<h3 id="é€‰æ‹©æ•°æ®åº“"><a href="#é€‰æ‹©æ•°æ®åº“" class="headerlink" title="é€‰æ‹©æ•°æ®åº“"></a>é€‰æ‹©æ•°æ®åº“</h3><p>ä½¿ç”¨useå‘½ä»¤é€‰æ‹©æ•°æ®åº“</p>
<pre><code class="sql">use databaseName</code></pre>
<p>mysql ä¸­æ”¯æŒæ ‡å‡†sqlçš„æ•°å€¼ç±»å‹ï¼Œä¸»è¦åŒ…æ‹¬æ•°å€¼ã€æ—¥æœŸå’Œæ—¶é—´ã€å­—ç¬¦ä¸²ã€‚<br><a href="https://www.runoob.com/mysql/mysql-data-types.html" target="_blank" rel="noopener">mysql_data_types</a></p>
<p><strong>åˆ›å»ºæ•°æ®è¡¨ï¼š</strong></p>
<p><code>CREATE TABLE table_name (column_name column_type);</code><br>ä¸€èˆ¬ä½¿ç”¨è¿™æ ·çš„è¯­æ³•æ¥åˆ›å»ºMysqlæ•°æ®è¡¨</p>
<pre><code class="sql">CREATE TABLE IF NOT EXISTS `runoob_tbl`(
   `runoob_id` INT UNSIGNED AUTO_INCREMENT,
   `runoob_title` VARCHAR(100) NOT NULL,
   `runoob_author` VARCHAR(40) NOT NULL,
   `submission_date` DATE,
   PRIMARY KEY ( `runoob_id` )
)ENGINE=InnoDB DEFAULT CHARSET=utf8;
</code></pre>
<p>è§£æï¼š</p>
<ul>
<li>å¦‚æœä¸æƒ³ä½¿ç”¨NULLå¯ä»¥è®¾ç½®ä¸ºNOT NULLï¼Œè¿™æ ·å»ºç«‹NULLå€¼æ—¶å°±ä¼šæŠ¥é”™ã€‚</li>
<li>AUTO_INCREMENTè®¾ç½®è‡ªå¢å±æ€§ï¼Œä¸€èˆ¬ç”¨äºä¸»é”®ã€‚</li>
<li>PRIMARY KEYå…³é”®å­—ç”¨äºå®šä¹‰åˆ—ä¸ºä¸»é”®ã€‚å¯ä»¥ä½¿ç”¨å¤šåˆ—æ¥å®šä¹‰ä¸»é”®ï¼Œåˆ—é—´ä»¥é€—å·åˆ†å‰²</li>
<li>ENGINE=InnoDB DEFAULT CHARSET=utf8 å‰è€…è®¾ç½®å¼•æ“ï¼Œåè€…è®¾ç½®ç¼–ç </li>
</ul>
<p>âš ï¸æ³¨æ„ï¼šè¡¨åå’Œå­—æ®µåä½¿ç”¨åå¼•å·è€Œä¸æ˜¯å•å¼•å·</p>
<h3 id="æ•°æ®åº“æ’å…¥"><a href="#æ•°æ®åº“æ’å…¥" class="headerlink" title="æ•°æ®åº“æ’å…¥"></a>æ•°æ®åº“æ’å…¥</h3><pre><code class="sql">INSERT INTO table_name ( field1, field2,...fieldN )
                       VALUES
                       ( value1, value2,...valueN );</code></pre>
<p>sqlä½¿ç”¨ï¼›ä½œä¸ºåˆ†å‰²è¯­å¥çš„åˆ†éš”ç¬¦ã€‚</p>
<pre><code class="sql">INSERT INTO table_name  (field1, field2,...fieldN)  VALUES  (valueA1,valueA2,...valueAN),(valueB1,valueB2,...valueBN),(valueC1,valueC2,...valueCN)......;</code></pre>
<p>æ·»åŠ å¤šåˆ—æ•°æ®æ—¶ä½¿ç”¨é€—å·ä½œä¸ºåˆ†å‰²ã€‚</p>
<pre><code class="sql">mysql&gt; INSERT INTO runoob_tbl
    -&gt; VALUES
    -&gt; (0, &quot;JAVA æ•™ç¨‹&quot;, &quot;RUNOOB.COM&quot;, &#39;2016-05-06&#39;);</code></pre>
<p>å¦‚æœæ¯åˆ—éƒ½è¦æ·»åŠ æ•°æ®å¯ä»¥ä¸è§„å®šåˆ—ã€‚ç¬¬ä¸€åˆ—ä¸»é”®å¦‚æœä¸ä½¿ç”¨è‡ªå¢æ¯”è¾ƒå®¹æ˜“é”™ä¹±ï¼Œå¦‚æœä½¿ç”¨è‡ªå¢çš„è¯å¯ä»¥ä½¿ç”¨0æˆ–è€…NULLï¼Œè¿™æ ·æ·»åŠ æ•°æ®å¯ä»¥è‡ªå¢ã€‚</p>
<h3 id="sql-select"><a href="#sql-select" class="headerlink" title="sql select"></a>sql select</h3><p>é€šè¿‡è¯¥è¯­å¥å¯ä»¥æŸ¥è¯¢æ•°æ®ï¼š</p>
<pre><code class="sql">SELECT column_name,column_name
FROM table_name
[WHERE Clause]
[LIMIT N][ OFFSET M]</code></pre>
<p>å‘½ä»¤è§£é‡Šï¼š</p>
<ul>
<li>å¯ä»¥æŸ¥è¯¢å¤šä¸ªè¡¨ï¼Œä½¿ç”¨é€—å·åˆ†å‰²å³å¯ï¼Œwhereä¸­å¯ä»¥è®¾ç½®æŸ¥è¯¢æ¡ä»¶ã€‚</li>
<li>å¯ä»¥è®¾ç½®LIMITå±æ€§æ¥è®¾å®šè¿”å›çš„è®°å½•æ•°é‡ã€‚</li>
<li>å¯ä»¥ç—›æ®´OFFSETæ¥è®¾ç½®åç§»é‡</li>
</ul>
<h3 id="where"><a href="#where" class="headerlink" title="where"></a>where</h3><blockquote>
<p>å’Œifè¯­å¥çš„ä½œç”¨ä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡ANDå’ŒORåˆ¶å®šè¿‡ä¸ªæ¡ä»¶ã€‚å‡ºäº†selectè¯­å¥æ­ªè¿˜å¯ä»¥ç”¨ä¸deleteå’Œupdateè¯­å¥</p>
<p>whereï¼šæ•°æ®åº“ä¸­å¸¸ç”¨çš„æ˜¯whereå…³é”®å­—ï¼Œç”¨äºåœ¨åˆå§‹è¡¨ä¸­ç­›é€‰æŸ¥è¯¢ã€‚å®ƒæ˜¯ä¸€ä¸ªçº¦æŸå£°æ˜ï¼Œç”¨äºçº¦æŸæ•°æ®ï¼Œåœ¨è¿”å›ç»“æœé›†ä¹‹å‰èµ·ä½œç”¨ã€‚</p>
<p>group by:å¯¹selectæŸ¥è¯¢å‡ºæ¥çš„ç»“æœé›†æŒ‰ç…§æŸä¸ªå­—æ®µæˆ–è€…è¡¨è¾¾å¼è¿›è¡Œåˆ†ç»„ï¼Œè·å¾—ä¸€ç»„ç»„çš„é›†åˆï¼Œç„¶åä»æ¯ç»„ä¸­å–å‡ºä¸€ä¸ªæŒ‡å®šå­—æ®µæˆ–è€…è¡¨è¾¾å¼çš„å€¼ã€‚</p>
<p>havingï¼šç”¨äºå¯¹whereå’Œgroup byæŸ¥è¯¢å‡ºæ¥çš„åˆ†ç»„ç»è¡Œè¿‡æ»¤ï¼ŒæŸ¥å‡ºæ»¡è¶³æ¡ä»¶çš„åˆ†ç»„ç»“æœã€‚å®ƒæ˜¯ä¸€ä¸ªè¿‡æ»¤å£°æ˜ï¼Œæ˜¯åœ¨æŸ¥è¯¢è¿”å›ç»“æœé›†ä»¥åå¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œçš„è¿‡æ»¤æ“ä½œã€‚</p>
<p>æ‰§è¡Œé¡ºåº</p>
<p>select â€“&gt;where â€“&gt; group byâ€“&gt; havingâ€“&gt;order by</p>
</blockquote>
<h3 id="update"><a href="#update" class="headerlink" title="update"></a>update</h3><p>å¯ä»¥ç”¨æ¥æ›´æ–°æ•°æ®</p>
<pre><code class="sql">UPDATE table_name SET field1=new-value1, field2=new-value2
[WHERE Clause]</code></pre>
<h3 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h3><pre><code class="sql">DELETE FROM table_name [WHERE Clause]</code></pre>
<blockquote>
<p>deleteï¼Œdropï¼Œtruncate éƒ½æœ‰åˆ é™¤è¡¨çš„ä½œç”¨ï¼ŒåŒºåˆ«åœ¨äºï¼š</p>
<p> 1ã€delete å’Œ truncate ä»…ä»…åˆ é™¤è¡¨æ•°æ®ï¼Œdrop è¿è¡¨æ•°æ®å’Œè¡¨ç»“æ„ä¸€èµ·åˆ é™¤ï¼Œæ‰“ä¸ªæ¯”æ–¹ï¼Œdelete æ˜¯å•æ€ï¼Œtruncate æ˜¯å›¢ç­ï¼Œdrop æ˜¯æŠŠç”µè„‘æ‘”äº†ã€‚<br> 2ã€delete æ˜¯ DML è¯­å¥ï¼Œæ“ä½œå®Œä»¥åå¦‚æœæ²¡æœ‰ä¸æƒ³æäº¤äº‹åŠ¡è¿˜å¯ä»¥å›æ»šï¼Œtruncate å’Œ drop æ˜¯ DDL è¯­å¥ï¼Œæ“ä½œå®Œé©¬ä¸Šç”Ÿæ•ˆï¼Œä¸èƒ½å›æ»šï¼Œæ‰“ä¸ªæ¯”æ–¹ï¼Œdelete æ˜¯å‘å¾®ä¿¡è¯´åˆ†æ‰‹ï¼Œåæ‚”è¿˜å¯ä»¥æ’¤å›ï¼Œtruncate å’Œ drop æ˜¯ç›´æ¥æ‰‡è€³å…‰è¯´æ»šï¼Œä¸èƒ½åæ‚”ã€‚<br> 3ã€æ‰§è¡Œçš„é€Ÿåº¦ä¸Šï¼Œdrop&gt;truncate&gt;deleteï¼Œæ‰“ä¸ªæ¯”æ–¹ï¼Œdrop æ˜¯ç¥èˆŸç«ç®­ï¼Œtruncate æ˜¯å’Œè°å·åŠ¨è½¦ï¼Œdelete æ˜¯è‡ªè¡Œè½¦ã€‚</p>
</blockquote>
<h3 id="like-å­å¥"><a href="#like-å­å¥" class="headerlink" title="like å­å¥"></a>like å­å¥</h3><p>likeå­å¥é€šå¸¸ç”¨äºwhereè¯­å¥ä¸­ï¼Œä»¥è¿›è¡Œæ¨¡ç³Šæœç´¢,ä¸€èˆ¬å’Œ%ä¸€èµ·ä½¿ç”¨ï¼Œå…¶ä¸­%å’Œæ­£åˆ™è¡¨è¾¾å¼ä¸­çš„*ä¸€æ ·ï¼Œè¡¨ç¤ºä»»æ„å­—ç¬¦ã€‚</p>
<h3 id="unionè¯­å¥"><a href="#unionè¯­å¥" class="headerlink" title="unionè¯­å¥"></a>unionè¯­å¥</h3><p>unionè¯­å¥å¯ä»¥è¿æ¥å¤šä¸ªselectè¯­å¥çš„ç»“æœï¼Œæ•´åˆä¸ºä¸€ä¸ªç»“æœé›†è¿”å›ã€‚å…¶æ˜¯é»˜è®¤ä¸å«æœ‰é‡å¤æ•°æ®çš„ï¼Œå¦‚æœä½¿ç”¨union allæŒ‡ä»¤å¯ä»¥å¾—åˆ°å…¨éƒ¨çš„æ•°æ®ï¼ŒåŒ…æ‹¬é‡å¤çš„åœ¨å†…ã€‚</p>
<p>æ³¨æ„å…¶ä¸­selectè¯­å¥å¯ä»¥æ˜¯ä¸€ä¸ªå®Œæ•´çš„åŒ…å«whereé™åˆ¶æ¡çš„è¯­å¥ã€‚</p>
<pre><code class="sql">SELECT country, name FROM Websites
WHERE country=&#39;CN&#39;
UNION ALL
SELECT country, app_name FROM apps
WHERE country=&#39;CN&#39;
ORDER BY country;</code></pre>
<h3 id="mysqlæ’åº"><a href="#mysqlæ’åº" class="headerlink" title="mysqlæ’åº"></a>mysqlæ’åº</h3><p>ä½¿ç”¨mysqlä¸­çš„order byå­å¥æ¥è®¾å®šå“ªä¸ªå­—æ®µéœ€è¦è¿›è¡Œæ’åº</p>
<pre><code class="sql">SELECT field1, field2,...fieldN FROM table_name1, table_name2...
ORDER BY field1 [ASC [DESC][é»˜è®¤ ASC]], [field2...] [ASC [DESC][é»˜è®¤ ASC]]</code></pre>
<p>å¯ä»¥ä½¿ç”¨å¤šä¸ªå­—æ®µæ¥æ’åº<br>ä½¿ç”¨ASCå’ŒDESCæ¥è®¾ç½®å‡åºæˆ–è€…é™åºæ’åˆ—ï¼Œé»˜è®¤ä¸ºå‡åº<br>whereå’ŒlikeæŒ‡ä»¤ä¾ç„¶å¯ä»¥ä½¿ç”¨</p>
<h3 id="Group-byè¯­å¥"><a href="#Group-byè¯­å¥" class="headerlink" title="Group byè¯­å¥"></a>Group byè¯­å¥</h3><p>æ ¹æ®ä¸€ä¸ªæˆ–è€…å¤šä¸ªåˆ—å¯¹äºç»“æœé›†è¿›è¡Œåˆ†ç»„<br>åœ¨åˆ†ç»„çš„åˆ—ä¸Šé¢æˆ‘ä»¬å¯ä»¥ä½¿ç”¨count avg sumç­‰å‡½æ•°</p>
<pre><code class="sql">SELECT column_name, function(column_name)
FROM table_name
WHERE column_name operator value
GROUP BY column_name;</code></pre>
<blockquote>
<p>å¯æ˜¯ä½¿ç”¨coalesceæ¥è®¾ç½®ä¸€ä¸ªå–ä»£NULLçš„è¯­æ³• coalesce(a, b, cï¼‰å¦‚æœæ˜¯NULLåˆ™ä¾æ¬¡å¾€åé¡ºã€‚</p>
</blockquote>
<h3 id="join"><a href="#join" class="headerlink" title="join"></a>join</h3><p>ç”¨äºè¿æ¥ä¸¤ä¸ªä¸åŒçš„è¡¨ä¸­çš„æ•°æ®ï¼Œæœ‰ä¸‰ç§è¿æ¥æ–¹å¼ï¼š<br>INNER JOINï¼ŒLEFT JOINï¼ŒRIGHT JOIN</p>
<p>åŒºåˆ«åœ¨äºï¼Œç¬¬ä¸€ä¸ªç›¸å½“äºå–ä¸¤ä¸ªè¡¨çš„äº¤é›†ï¼Œè€Œå‰©ä¸‹ä¸¤ä¸ªè¿æ¥æ–¹å¼ä¸ä¼šç®¡å¦ä¸€ä¸ªè¡¨ä¸­æ˜¯å¦æœ‰å¯¹åº”çš„æ•°æ®ï¼Œåªè¿”å›ä¸€ä¸ªè¡¨ä¸­ç¬¦åˆæ ‡å‡†çš„æ‰€æœ‰å€¼</p>
<p>Example:</p>
<p><a href="https://www.runoob.com/mysql/mysql-join.html" target="_blank" rel="noopener">join</a></p>
<p><img src="https://i.loli.net/2020/02/19/lgQB1FiIYCKc9eX.jpg" alt="Jietu20200219-150659@2x"></p>
<p><img src="https://i.loli.net/2020/02/19/Mq1i4ewaWnNm5JZ.jpg" alt="Jietu20200219-150825@2x"></p>
<h3 id="NULLå€¼å¤„ç†"><a href="#NULLå€¼å¤„ç†" class="headerlink" title="NULLå€¼å¤„ç†"></a>NULLå€¼å¤„ç†</h3><p>ä¸‰å¤§è¿ç®—ç¬¦è¿›è¡ŒNULLå€¼çš„æ¯”è¾ƒï¼šIS NULLï¼ŒIS NOT NULLï¼Œ&lt;=&gt;</p>
<h2 id="mysql-regex"><a href="#mysql-regex" class="headerlink" title="mysql regex"></a>mysql regex</h2><table>
<thead>
<tr>
<th>æ¨¡å¼</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>^</td>
<td>åŒ¹é…å¼€å§‹ä½ç½®ï¼Œå¦‚æœè®¾ç½®äº†Multilineå±æ€§ï¼Œä¹Ÿå¯ä»¥åŒ¹é…\n \r</td>
</tr>
<tr>
<td>$</td>
<td>åŒ¹é…ç»“æŸä½ç½®</td>
</tr>
<tr>
<td>.</td>
<td>åŒ¹é…é™¤äº†æ¢è¡Œç¬¦ä»¥ä¸ºçš„ä»»ä½•å•ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>[abc.. ]</td>
<td>å­—ç¬¦é›†åˆï¼Œç”¨äºåŒ¹é…å…¶ä¸­åŒ…å«çš„ä»»ä½•å­—ç¬¦</td>
</tr>
<tr>
<td>[^abc ]</td>
<td>å­—ç¬¦é›†åˆå–é</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>*</td>
<td>åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–è€…å¤šæ¬¡</td>
</tr>
<tr>
<td>+</td>
<td>å¯ä»¥åŒ¹é…å‰é¢çš„è¡¨è¾¾å¼ä¸€æ¬¡æˆ–è€…å¤šæ¬¡</td>
</tr>
<tr>
<td>{n}</td>
<td>åŒ¹é…ç¡®å®šçš„næ¬¡</td>
</tr>
<tr>
<td>{n, m}</td>
<td>åŒ¹é…n-mæ¬¡</td>
</tr>
</tbody></table>
<h3 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h3><p>ç”¨äºå¤„ç†æ“ä½œé‡å¤§ï¼Œå¤æ‚åº¦é«˜çš„æ•°æ®ã€‚ï¼ˆä¸ªäººè®¤ä¸ºæ˜¯æ•°æ®åº“æ“ä½œè¯­å¥çš„é›†åˆï¼‰</p>
<blockquote>
<p>mysqlä¸­åªæœ‰ä½¿ç”¨innodbå¼•æ“æ‰å¯ä»¥ä½¿ç”¨äº‹åŠ¡</p>
</blockquote>
<p>ä¸€èˆ¬æ¥è¯´äº‹åŠ¡éœ€è¦æœ‰å››ä¸ªæ¡ä»¶ï¼š<strong>åŸå­æ€§ï¼Œä¸€è‡´æ€§ï¼Œç‹¬ç«‹æ€§ï¼ŒæŒä¹…æ€§</strong></p>
<ol>
<li><p>åŸå­æ€§ï¼šä¸€ä¸ªäº‹åŠ¡ï¼ˆtransactionï¼‰ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆï¼Œä¸ä¼šç»“æŸåœ¨ä¸­é—´æŸä¸ªç¯èŠ‚ã€‚äº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œä¼šè¢«å›æ»šï¼ˆRollbackï¼‰åˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼Œå°±åƒè¿™ä¸ªäº‹åŠ¡ä»æ¥æ²¡æœ‰æ‰§è¡Œè¿‡ä¸€æ ·ã€‚</p>
</li>
<li><p>ä¸€è‡´æ€§ï¼šåœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰å’Œäº‹åŠ¡ç»“æŸä»¥åï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´åã€‚è¿™è¡¨ç¤ºå†™å…¥çš„èµ„æ–™å¿…é¡»å®Œå…¨ç¬¦åˆæ‰€æœ‰çš„é¢„è®¾è§„åˆ™ï¼Œè¿™åŒ…å«èµ„æ–™çš„ç²¾ç¡®åº¦ã€ä¸²è”æ€§ä»¥åŠåç»­æ•°æ®åº“å¯ä»¥è‡ªå‘æ€§åœ°å®Œæˆé¢„å®šçš„å·¥ä½œã€‚</p>
</li>
<li><p>éš”ç¦»æ€§ï¼šæ•°æ®åº“å…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶å¯¹å…¶æ•°æ®è¿›è¡Œè¯»å†™å’Œä¿®æ”¹çš„èƒ½åŠ›ï¼Œéš”ç¦»æ€§å¯ä»¥é˜²æ­¢å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ç”±äºäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚äº‹åŠ¡éš”ç¦»åˆ†ä¸ºä¸åŒçº§åˆ«ï¼ŒåŒ…æ‹¬è¯»æœªæäº¤ï¼ˆRead uncommittedï¼‰ã€è¯»æäº¤ï¼ˆread committedï¼‰ã€å¯é‡å¤è¯»ï¼ˆrepeatable readï¼‰å’Œä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰ã€‚</p>
</li>
<li><p>æŒä¹…æ€§ï¼šäº‹åŠ¡å¤„ç†ç»“æŸåï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹å°±æ˜¯æ°¸ä¹…çš„ï¼Œå³ä¾¿ç³»ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</p>
</li>
</ol>
<h3 id="alterå‘½ä»¤"><a href="#alterå‘½ä»¤" class="headerlink" title="alterå‘½ä»¤"></a>alterå‘½ä»¤</h3><p>ç”¨äºä¿®æ”¹æ•°æ®è¡¨åæˆ–è€…ä¿®æ”¹æ•°æ®è¡¨å­—æ®µ</p>
<h3 id="index"><a href="#index" class="headerlink" title="index"></a>index</h3><ul>
<li><input disabled type="checkbox"> index</li>
</ul>
<h3 id="temporary-table"><a href="#temporary-table" class="headerlink" title="temporary table"></a>temporary table</h3><p>ä¸´æ—¶è¡¨é¡¾åæ€ä¹‰å°±æ˜¯ä¸´æ—¶åˆ›å»ºå‡ºæ¥çš„ç”¨äºä¿å­˜ä¸´æ—¶æ•°æ®çš„è¡¨ï¼Œåœ¨è¿æ¥å…³é—­åä¼šè‡ªåŠ¨åˆ é™¤å¹¶é‡Šæ”¾ç©ºé—´ã€‚</p>
<pre><code class="sql">mysql&gt; CREATE TEMPORARY TABLE SalesSummary (
    -&gt; product_name VARCHAR(50) NOT NULL
    -&gt; , total_sales DECIMAL(12,2) NOT NULL DEFAULT 0.00
    -&gt; , avg_unit_price DECIMAL(7,2) NOT NULL DEFAULT 0.00
    -&gt; , total_units_sold INT UNSIGNED NOT NULL DEFAULT 0
);</code></pre>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>mysqlä¸­ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å‡½æ•°ï¼Œç±»ä¼¼äºå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€å‡½æ•°æ˜¯ä¸€äº›è¯­å¥çš„é›†åˆï¼Œç”¨æ¥å°†ä¸€äº›å®ç°ç‰¹å®šç›®çš„çš„è¯­å¥ç»„åˆèµ·æ¥æ¥é™ä½å¤æ‚åº¦ã€‚ä½†æ˜¯æ³¨æ„ï¼Œmysqlä¸­çš„å‡½æ•°æ³¨é‡è¿”å›å€¼ï¼Œä¸€äº›è¯­å¥æ˜¯ä¸èƒ½å®ç°çš„ã€‚</p>
<p>å‡½æ•°åªèƒ½è¿”å›ä¸€ä¸ªå€¼ï¼Œä¸èƒ½å¤Ÿè¿”å›ä¸€ä¸ªç»“æœé›†ã€‚</p>
<p><strong>create</strong></p>
<pre><code class="sql">create function å‡½æ•°å([å‚æ•°åˆ—è¡¨]) returns æ•°æ®ç±»å‹
begin
 sqlè¯­å¥;
 return å€¼;
end;</code></pre>
<p>example:</p>
<pre><code class="sql">-- æœ€ç®€å•çš„ä»…æœ‰ä¸€æ¡sqlçš„å‡½æ•°
create function myselect2() returns int return 666;
select myselect2(); -- è°ƒç”¨å‡½æ•°

--
create function myselect3() returns int
begin 
    declare c int;
    select id from class where cname=&quot;python&quot; into c;
    return c;
end;
select myselect3();
-- å¸¦ä¼ å‚çš„å‡½æ•°
create function myselect5(name varchar(15)) returns int
begin 
    declare c int;
    select id from class where cname=name into c;
    return c;
end;
select myselect5(&quot;python&quot;);</code></pre>
<p><strong>call</strong></p>
<p>select + function</p>
<pre><code class="sql">-- æ— å‚è°ƒç”¨
select myselect3();
-- ä¼ å‚è°ƒç”¨
select myselect5(&quot;python&quot;);
select * from class where id=myselect5(&quot;python&quot;);</code></pre>
<p><strong>delete</strong></p>
<p><code>drop + function_name</code></p>
<p><strong>æŸ¥çœ‹å‡½æ•°</strong></p>
<ul>
<li>æŸ¥çœ‹å‡½æ•°åˆ›å»ºè¯­å¥ï¼šshow create function å‡½æ•°å;</li>
<li>æŸ¥çœ‹æ‰€æœ‰å‡½æ•°ï¼šshow function status [like â€˜patternâ€™];</li>
</ul>
<h2 id="mysqlå˜é‡"><a href="#mysqlå˜é‡" class="headerlink" title="mysqlå˜é‡"></a>mysqlå˜é‡</h2><p>mysqlä¸­ä¸€å…±æœ‰å››ç§å˜é‡ï¼šä¼šè¯å˜é‡ã€å…¨å±€å˜é‡ã€å±€éƒ¨å˜é‡å’Œç”¨æˆ·å˜é‡ï¼Œå‰ä¸¤ä¸ªç»Ÿç§°ä¸ºç³»ç»Ÿå˜é‡ã€‚</p>
<p><strong>ç”¨æˆ·å˜é‡</strong><br>é¡¾åæ€ä¹‰æ˜¯ç”¨æˆ·å®šä¹‰çš„å˜é‡ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<pre><code class="sql"># two ways use SET
SET @variable = expr
SET @variable := expr

# only be able to use := in select
SELECT @variable := expr</code></pre>
<ol>
<li>æœªå®šä¹‰å˜é‡çš„åˆå§‹å€¼ä¸º nullï¼ˆå¯ä¸å®šä¹‰å˜é‡ç›´æ¥ä½¿ç”¨ï¼Œä¸ä¼šæŠ¥é”™ï¼‰</li>
<li>å˜é‡åå¯¹å¤§å°å†™ä¸æ•æ„Ÿ</li>
<li>å˜é‡ä¸èƒ½åœ¨è¦æ±‚å­—é¢å€¼çš„åœ°æ–¹ä½¿ç”¨ï¼Œæ¯”å¦‚ select ä¸­çš„ limit è¯­å¥ç­‰ã€‚</li>
<li>è°ƒç”¨ç”¨æˆ·å˜é‡çš„è¡¨è¾¾å¼çš„è®¡ç®—é¡ºåºå®é™…ä¸Šæ˜¯æœªå®šä¹‰çš„ï¼Œå¦‚ <code>SELECT @a = 0, @a := @a + 1;</code>ï¼Œä¸¤åˆ—éƒ½å¯èƒ½æ˜¯ 0 ã€‚</li>
</ol>
<p><strong>ä¼šè¯å˜é‡</strong><br>ä¼šè¯å˜é‡ä¸ºæœåŠ¡å™¨ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯è¿æ¥ç»´æŠ¤çš„å˜é‡ã€‚åœ¨å®¢æˆ·ç«¯è¿æ¥æ—¶ï¼Œä½¿ç”¨ç›¸åº”å…¨å±€å˜é‡çš„å½“å‰å€¼å¯¹å®¢æˆ·ç«¯çš„ä¼šè¯å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚</p>
<p>é¡¾åæ€ä¹‰ï¼Œä¼šè¯å˜é‡çš„ä½œç”¨åŸŸå°±æ˜¯ä¸€ä¸ªä¼šè¯ Session å’¯ã€‚</p>
<pre><code class="sql">set session var_name = value;
set @session.var_name = value;
set var_name = value;

show session variables;
# ä»¥ä¸Šä»£ç ä¼šæŠŠæ‰€æœ‰ä¼šè¯å˜é‡ç½—åˆ—å‡ºæ¥ï¼Œå¯é€šè¿‡ like è¿›è¡Œè¿‡æ»¤
show session variables LIKE &quot;%var%&quot;;</code></pre>
<p><strong>å…¨å±€å˜é‡</strong><br>å…¨å±€å˜é‡ä¼šå½±å“æœåŠ¡å™¨æ•´ä½“æ“ä½œã€‚ä½†æ˜¯ä¸€æ—¦é‡å¯ï¼Œè¿™äº›è®¾ç½®ä¼šè¢«é‡ç½®ã€‚æ³¨æ„è¦æƒ³æ›´æ”¹å…¨å±€å˜é‡ï¼Œå¿…é¡»å…·æœ‰SUPERæƒé™ã€‚</p>
<h2 id="äº‹åŠ¡-1"><a href="#äº‹åŠ¡-1" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h2><p>äº‹åŠ¡æ˜¯æ»¡è¶³ACIDç‰¹æ€§çš„ä¸€ç»„æ“ä½œï¼Œå¯ä»¥é€šè¿‡Commitæäº¤ä¸€ä¸ªäº‹åŠ¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨rollbackè¿›è¡Œå›æ»šã€‚</p>
<p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/image-20191207222237925.png" alt="pic"></p>
<h3 id="ACID"><a href="#ACID" class="headerlink" title="ACID"></a>ACID</h3><ol>
<li><p>åŸå­æ€§ï¼ˆAtomicityï¼‰<br>äº‹åŠ¡è¢«è§†ä¸ºä¸å¯åˆ†å‰²çš„æœ€å°å•å…ƒï¼Œäº‹åŠ¡è¦ä¹ˆå…¨éƒ¨æäº¤æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥å›æ»šã€‚</p>
</li>
<li><p>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰<br>æ•°æ®åº“åœ¨äº‹åŠ¡æ‰§è¡Œå‰åéƒ½è¦ä¿æŒä¸€è‡´æ€§ï¼Œå³æ‰€æœ‰çš„äº‹åŠ¡å¯¹åŒä¸€ä¸ªæ•°æ®çš„è¯»å–ç»“æœéƒ½æ˜¯ç›¸åŒçš„ã€‚</p>
</li>
<li><p>éš”ç¦»æ€§ï¼ˆIsolationï¼‰<br>ä¸€ä¸ªäº‹åŠ¡æ‰€åšçš„ä¿®æ”¹åœ¨æœ€ç»ˆæäº¤ä¹‹å‰ï¼Œå¯¹äºå…¶ä»–äº‹åŠ¡ä¸å¯è§ã€‚</p>
</li>
<li><p>æŒä¹…æ€§ï¼ˆDurabilityï¼‰<br>ä¸€æ—¦äº‹åŠ¡æäº¤ï¼Œå…¶æ‰€åšçš„ä¿®æ”¹å°†ä¼šæ°¸è¿œä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚</p>
</li>
</ol>
<p>âš ï¸è¿™å‡ ä¸ªæ¦‚å¿µè™½ç„¶ç®€å•ä½†æ˜¯å¹¶ä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œä¸»è¦å› ä¸ºå…¶ä¸æ˜¯å¹³çº§çš„å…³ç³»ã€‚</p>
<ul>
<li>åªæœ‰æ»¡è¶³ä¸€è‡´æ€§ï¼Œäº‹åŠ¡çš„æ‰§è¡Œç»“æœæ‰æ˜¯æ­£ç¡®çš„ã€‚</li>
<li>åœ¨æ— å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œäº‹åŠ¡ä¸²è¡Œæ‰§è¡Œï¼Œéš”ç¦»æ€§ä¸€å®šèƒ½å¤Ÿæ»¡è¶³ã€‚æ­¤æ—¶åªè¦èƒ½æ»¡è¶³åŸå­æ€§ï¼Œå°±ä¸€å®šèƒ½æ»¡è¶³ä¸€è‡´æ€§ã€‚</li>
<li>åœ¨å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œå¤šä¸ªäº‹åŠ¡å¹¶è¡Œæ‰§è¡Œï¼Œäº‹åŠ¡ä¸ä»…è¦æ»¡è¶³åŸå­æ€§ï¼Œè¿˜éœ€è¦æ»¡è¶³éš”ç¦»æ€§ï¼Œæ‰èƒ½æ»¡è¶³ä¸€è‡´æ€§ã€‚</li>
<li>äº‹åŠ¡æ»¡è¶³æŒä¹…åŒ–æ˜¯ä¸ºäº†èƒ½åº”å¯¹ç³»ç»Ÿå´©æºƒçš„æƒ…å†µã€‚</li>
</ul>
<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/image-20191207210437023.png"> </div><br>

<h2 id="å¹¶å‘ä¸€è‡´æ€§é—®é¢˜"><a href="#å¹¶å‘ä¸€è‡´æ€§é—®é¢˜" class="headerlink" title="å¹¶å‘ä¸€è‡´æ€§é—®é¢˜"></a>å¹¶å‘ä¸€è‡´æ€§é—®é¢˜</h2><p>åœ¨å¹¶å‘ç¯å¢ƒä¸‹ï¼Œäº‹åŠ¡çš„éš”ç¦»æ€§å¾ˆéš¾ä¿è¯ï¼Œå› æ­¤ä¼šå‡ºç°å¾ˆå¤šå¹¶å‘ä¸€è‡´æ€§é—®é¢˜ã€‚</p>
<h3 id="ä¸¢å¤±ä¿®æ”¹"><a href="#ä¸¢å¤±ä¿®æ”¹" class="headerlink" title="ä¸¢å¤±ä¿®æ”¹"></a>ä¸¢å¤±ä¿®æ”¹</h3><p>T<sub>1</sub> å’Œ T<sub>2</sub> ä¸¤ä¸ªäº‹åŠ¡éƒ½å¯¹ä¸€ä¸ªæ•°æ®è¿›è¡Œä¿®æ”¹ï¼ŒT<sub>1</sub> å…ˆä¿®æ”¹ï¼ŒT<sub>2</sub> éšåä¿®æ”¹ï¼ŒT<sub>2</sub> çš„ä¿®æ”¹è¦†ç›–äº† T<sub>1</sub> çš„ä¿®æ”¹ã€‚</p>
<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/image-20191207221744244.png"> </div><br>

<h3 id="è¯»è„æ•°æ®"><a href="#è¯»è„æ•°æ®" class="headerlink" title="è¯»è„æ•°æ®"></a>è¯»è„æ•°æ®</h3><p>T<sub>1</sub> ä¿®æ”¹ä¸€ä¸ªæ•°æ®ï¼ŒT<sub>2</sub> éšåè¯»å–è¿™ä¸ªæ•°æ®ã€‚å¦‚æœ T<sub>1</sub> æ’¤é”€äº†è¿™æ¬¡ä¿®æ”¹ï¼Œé‚£ä¹ˆ T<sub>2</sub> è¯»å–çš„æ•°æ®æ˜¯è„æ•°æ®ã€‚</p>
<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/image-20191207221920368.png"> </div><br>

<h3 id="ä¸å¯é‡å¤è¯»"><a href="#ä¸å¯é‡å¤è¯»" class="headerlink" title="ä¸å¯é‡å¤è¯»"></a>ä¸å¯é‡å¤è¯»</h3><p>T<sub>2</sub> è¯»å–ä¸€ä¸ªæ•°æ®ï¼ŒT<sub>1</sub> å¯¹è¯¥æ•°æ®åšäº†ä¿®æ”¹ã€‚å¦‚æœ T<sub>2</sub> å†æ¬¡è¯»å–è¿™ä¸ªæ•°æ®ï¼Œæ­¤æ—¶è¯»å–çš„ç»“æœå’Œç¬¬ä¸€æ¬¡è¯»å–çš„ç»“æœä¸åŒã€‚</p>
<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/image-20191207222102010.png"> </div><br>

<h3 id="å¹»å½±è¯»"><a href="#å¹»å½±è¯»" class="headerlink" title="å¹»å½±è¯»"></a>å¹»å½±è¯»</h3><p>T<sub>1</sub> è¯»å–æŸä¸ªèŒƒå›´çš„æ•°æ®ï¼ŒT<sub>2</sub> åœ¨è¿™ä¸ªèŒƒå›´å†…æ’å…¥æ–°çš„æ•°æ®ï¼ŒT<sub>1</sub> å†æ¬¡è¯»å–è¿™ä¸ªèŒƒå›´çš„æ•°æ®ï¼Œæ­¤æ—¶è¯»å–çš„ç»“æœå’Œå’Œç¬¬ä¸€æ¬¡è¯»å–çš„ç»“æœä¸åŒã€‚</p>
<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/image-20191207222134306.png"> </div><br>

<hr>
<p>äº§ç”Ÿå¹¶å‘ä¸ä¸€è‡´æ€§é—®é¢˜çš„ä¸»è¦åŸå› æ˜¯ç ´åäº†äº‹åŠ¡çš„éš”ç¦»æ€§ï¼Œè§£å†³æ–¹æ³•æ˜¯é€šè¿‡å¹¶å‘æ§åˆ¶æ¥ä¿è¯éš”ç¦»æ€§ã€‚å¹¶å‘æ§åˆ¶å¯ä»¥é€šè¿‡å°é”æ¥å®ç°ï¼Œä½†æ˜¯å°é”æ“ä½œéœ€è¦ç”¨æˆ·è‡ªå·±æ§åˆ¶ï¼Œç›¸å½“å¤æ‚ã€‚æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæä¾›äº†äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼Œè®©ç”¨æˆ·ä»¥ä¸€ç§æ›´è½»æ¾çš„æ–¹å¼å¤„ç†å¹¶å‘ä¸€è‡´æ€§é—®é¢˜ã€‚</p>
<h1 id="ä¸Šè¯¾ç¬”è®°"><a href="#ä¸Šè¯¾ç¬”è®°" class="headerlink" title="ä¸Šè¯¾ç¬”è®°"></a>ä¸Šè¯¾ç¬”è®°</h1>]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>datebase</tag>
      </tags>
  </entry>
  <entry>
    <title>åšç‚¹åº”è¯¥åšçš„</title>
    <url>/blog/2020/02/11/%E5%81%9A%E7%82%B9%E5%BA%94%E8%AF%A5%E5%81%9A%E7%9A%84/</url>
    <content><![CDATA[<p>è¿›å…¥ç¤¾ä¼šå¤§æŸ“ç¼¸å‰çš„å¿…è¦å‡†å¤‡</p>
<a id="more"></a>

<h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><ul>
<li><input disabled type="checkbox"> Notes</li>
</ul>
<ul>
<li>æ•°æ®ç»“æ„</li>
</ul>
<ul>
<li><input checked disabled type="checkbox"> é“¾è¡¨</li>
<li><input disabled type="checkbox"> æ ‘</li>
<li><input disabled type="checkbox"> æ ˆå’Œé˜Ÿåˆ—</li>
<li><input checked disabled type="checkbox"> å“ˆå¸Œè¡¨</li>
<li><input checked disabled type="checkbox"> å­—ç¬¦ä¸²</li>
<li><input disabled type="checkbox"> æ•°ç»„ä¸çŸ©é˜µ</li>
<li><input disabled type="checkbox"> å›¾</li>
<li><input disabled type="checkbox"> ä½è¿ç®—</li>
</ul>
<ul>
<li>ç®—æ³•</li>
</ul>
<ul>
<li><input disabled type="checkbox"> åŒæŒ‡é’ˆ</li>
<li><input disabled type="checkbox"> è´ªå¿ƒæ€æƒ³</li>
<li><input checked disabled type="checkbox"> äºŒåˆ†æŸ¥æ‰¾</li>
<li><input checked disabled type="checkbox"> åˆ†æ²»</li>
<li><input disabled type="checkbox"> æœç´¢</li>
<li><input disabled type="checkbox"> åŠ¨æ€è§„åˆ’</li>
<li><input disabled type="checkbox"> æ•°å­¦</li>
<li><input disabled type="checkbox"> sort</li>
</ul>
<h2 id="æ“ä½œç³»ç»Ÿ"><a href="#æ“ä½œç³»ç»Ÿ" class="headerlink" title="æ“ä½œç³»ç»Ÿ"></a>æ“ä½œç³»ç»Ÿ</h2><ul>
<li><input disabled type="checkbox"> Notes</li>
</ul>
<h2 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h2><ul>
<li><input disabled type="checkbox"> Notes</li>
</ul>
<h2 id="datebase"><a href="#datebase" class="headerlink" title="datebase"></a>datebase</h2><ul>
<li><input checked disabled type="checkbox"> mysql</li>
<li><input disabled type="checkbox"> redis</li>
</ul>
]]></content>
      <categories>
        <category>schedule</category>
      </categories>
      <tags>
        <tag>offer</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode Notes</title>
    <url>/blog/2020/02/10/leetcode-Notes/</url>
    <content><![CDATA[<p>leetcodeåˆ·é¢˜ç¬”è®°</p>
<a id="more"></a>

<h2 id="åˆ†æ²»ç®—æ³•"><a href="#åˆ†æ²»ç®—æ³•" class="headerlink" title="åˆ†æ²»ç®—æ³•"></a>åˆ†æ²»ç®—æ³•</h2><h3 id="æœ€é•¿å›æ–‡ä¸²"><a href="#æœ€é•¿å›æ–‡ä¸²" class="headerlink" title="æœ€é•¿å›æ–‡ä¸²"></a>æœ€é•¿å›æ–‡ä¸²</h3><p>é¢˜ç›®æè¿°ï¼š<br><img src="https://cdn.img.wenhairu.com/images/2020/02/10/m6tzN.jpg" alt="problem"></p>
<p>è§£æ³•è¯´æ˜ï¼š</p>
<ol>
<li>æš´åŠ›è§£æ³•ï¼ŒæŒ‰é•¿åº¦ä»é«˜åˆ°ä½éå†å­—ç¬¦ä¸²æ‰¾åˆ°ç­”æ¡ˆã€‚</li>
<li>Manacher ç®—æ³•ï¼ˆé©¬æ‹‰è½¦ç®—æ³•ï¼‰</li>
</ol>
<h3 id="é©¬æ‹‰è½¦ç®—æ³•"><a href="#é©¬æ‹‰è½¦ç®—æ³•" class="headerlink" title="é©¬æ‹‰è½¦ç®—æ³•"></a>é©¬æ‹‰è½¦ç®—æ³•</h3><blockquote>
<p><a href="https://leetcode-cn.com/problems/longest-palindromic-substring/solution/xiang-xi-tong-su-de-si-lu-fen-xi-duo-jie-fa-bao-gu/" target="_blank" rel="noopener">å‚è€ƒèµ„æ–™</a></p>
</blockquote>
<p>é©¬æ‹‰è½¦ç®—æ³• Manacherâ€˜s Algorithm æ˜¯ç”¨æ¥æŸ¥æ‰¾ä¸€ä¸ª<strong>å­—ç¬¦ä¸²çš„æœ€é•¿å›æ–‡å­ä¸²çš„çº¿æ€§æ–¹æ³•</strong>ï¼Œç”±ä¸€ä¸ªå« Manacher çš„äººåœ¨ 1975 å¹´å‘æ˜çš„ï¼Œè¿™ä¸ªæ–¹æ³•çš„æœ€å¤§è´¡çŒ®æ˜¯åœ¨äºå°†æ—¶é—´å¤æ‚åº¦æå‡åˆ°äº†çº¿æ€§ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬å¤„ç†ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¥‡å¶é•¿åº¦é—®é¢˜ï¼Œé€‰æ‹©åœ¨æ¯ä¸ªå­—ç¬¦ä¸­é—´æ’å…¥ä¸€ä¸ª#ï¼Œè¿™æ ·ä¸è®ºå¦‚ä½•æ‰€æœ‰çš„å­—ç¬¦é•¿åº¦éƒ½æ˜¯å¥‡æ•°ï¼Œè€Œä¸ºäº†ä½¿å…¶åˆ°è¾¾è¾¹ç•Œèƒ½å¤Ÿè‡ªåŠ¨åœæ­¢ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸¤ç«¯æ’å…¥ä¸¤ä¸ªä¸ç›¸ç­‰çš„ç¬¦å·ã€‚<br><img src="https://i.loli.net/2020/03/06/JMQ2SW94LArtNCG.jpg" alt="Jietu20200306-160132@2x"></p>
<p>å¯¹äºè¿™æ ·åˆ†å‰²åçš„å­—ç¬¦ä¸²æˆ‘ä»¬åªéœ€è¦è®¡ç®—æ¯ä¸ªå…ƒç´ ï¼ˆåŒ…æ‹¬#åœ¨å†…ï¼‰çš„ä¸­å¿ƒæ‰©å±•åçš„é•¿åº¦ç„¶åå³å¯è®¡ç®—å‡ºå›æ–‡ä¸²çš„èµ·å§‹ä½ç½®å’Œé•¿åº¦ã€‚<br><img src="https://i.loli.net/2020/03/06/MOQphCjsU8fLVYI.jpg" alt="Jietu20200306-160227@2x"><br>èµ·å§‹çš„ä½ç½®ä¸ºPçš„ä¸‹æ ‡iå‡å»P[i]é™¤ä»¥2å³ä¸ºå­—ç¬¦ä¸²çš„èµ·å§‹ä¸‹æ ‡ï¼Œè€Œæœ€é•¿å›æ–‡ä¸²é•¿åº¦ä¸ºP[i]</p>
<p><strong>é©¬æ‹‰è½¦ç®—æ³•çš„å…³é”®å°±åœ¨äºè®¡ç®—P[i]</strong><br>æˆ‘ä»¬ä½¿ç”¨Cæ¥è¡¨ç¤ºå½“å‰å¾ªç¯ä¸­ç¡®å®šçš„é©»ç‚¹ï¼Œè€ŒRä¸ºè¯¥å›æ–‡ä¸²çš„å³è¾¹åŠå¾„ï¼Œå³ä¸ºè¯¥å›æ–‡ä¸²åœ¨å³è¾¹çš„è¾¹ç•Œã€‚è¾¹ç•Œä½ç½®ä¸ºC+R<br>å¯¹äºåœ¨Cç¡®å®šçš„å›æ–‡ä¸²ä»¥å†…çš„ç‚¹çš„På€¼ï¼Œå…¶å®é™…å’Œå…³äºCå¯¹ç§°çš„ç‚¹çš„På€¼ä¸€æ ·ã€‚<br><img src="https://i.loli.net/2020/03/06/WHh8o5O7xA3LVav.jpg" alt="Jietu20200306-160256@2x"><br>å› ä¸ºC+Rä»¥å†…æ˜¯Cç¡®å®šçš„å›æ–‡ä¸²èŒƒå›´ï¼Œæ‰€ä»¥è¿™ä¸ªç»“è®ºæ¯”è¾ƒå®¹æ˜“å¾—åˆ°ï¼Œä½†æ˜¯æœ‰å‡ ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸ªç»“è®ºæ˜¯ä¸æ­£ç¡®çš„ã€‚</p>
<ol>
<li><p>è¶…å‡ºäº†R<br>i+p[i_mirrors] &gt; Rï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥å…ˆå°†å…¶æ‰©å±•è‡³Rå†ä¾æ¬¡å¾€åæ‰©å±•ã€‚</p>
</li>
<li><p>p[i_mirrors]é‡åˆ°å·¦è¾¹ç•Œ<br>å¯¹äºiä½¿ç”¨æ­£å¸¸çš„ä¸­å¿ƒæ‰©å±•å³å¯ã€‚</p>
</li>
<li><p>i=R<br>å¯¹å…¶èµ‹å€¼ä¸º0ï¼Œç„¶åä½¿ç”¨æ­£å¸¸çš„ä¸­å¿ƒæ‰©å±•ã€‚</p>
</li>
</ol>
<p>å°±è¿™æ ·ä¸€æ­¥ä¸€æ­¥çš„æ±‚å‡ºæ¯ä¸ª P [ i ]ï¼Œå½“æ±‚å‡ºçš„ P [ i ] çš„å³è¾¹ç•Œå¤§äºå½“å‰çš„ R æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦æ›´æ–° C å’Œ R ä¸ºå½“å‰çš„å›æ–‡ä¸²äº†ã€‚å› ä¸ºæˆ‘ä»¬å¿…é¡»ä¿è¯ i åœ¨ R é‡Œé¢ï¼Œæ‰€ä»¥ä¸€æ—¦æœ‰æ›´å³è¾¹çš„ R å°±è¦æ›´æ–° Rã€‚<br>æ­¤æ—¶çš„ P [ i ] æ±‚å‡ºæ¥å°†ä¼šæ˜¯ 3ï¼ŒP [ i ] å¯¹åº”çš„å³è¾¹ç•Œå°†æ˜¯ 10 + 3 = 13ï¼Œæ‰€ä»¥å¤§äºå½“å‰çš„ Rï¼Œæˆ‘ä»¬éœ€è¦æŠŠ C æ›´æ–°æˆ i çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ 10ï¼ŒR æ›´æ–°æˆ 13ã€‚ç»§ç»­ä¸‹è¾¹çš„å¾ªç¯ã€‚<br><img src="https://i.loli.net/2020/03/06/VbT8N6U37esdgRF.jpg" alt="Jietu20200306-160326@2x"></p>
<h3 id="413-ç­‰å·®æ•°åˆ—åˆ’åˆ†"><a href="#413-ç­‰å·®æ•°åˆ—åˆ’åˆ†" class="headerlink" title="413.ç­‰å·®æ•°åˆ—åˆ’åˆ†"></a>413.ç­‰å·®æ•°åˆ—åˆ’åˆ†</h3><p>é¢˜ç›®æè¿°ï¼š<br><img src="https://cdn.img.wenhairu.com/images/2020/02/10/m6jJB.jpg" alt="é¢˜ç›®æè¿°"></p>
<p>æ±‚è§£æ€è·¯ï¼š<br>ä½¿ç”¨åŠ¨æ€è§„åˆ’è¿›è¡Œæ±‚è§£ï¼Œé¦–å…ˆç­‰å·®æ•°åˆ—æœ€è‡³å°‘åº”å½“ç”±3ä¸ªå…ƒç´ ç»„æˆã€‚<br>å¦‚æœæ•°ç»„aæ˜¯ä¸€ä¸ªç­‰å·®æ•°åˆ—ï¼Œä¸”å…¶ä¹‹åçš„ä¸€ä¸ªå…ƒç´ ä¸aèƒ½ç»„æˆç­‰å·®æ•°åˆ—çš„è¯ï¼Œæ–°çš„æ•°ç»„ç­‰å·®æ•°åˆ—ç»„æ•°ä¸º<strong>sum(a)+len(a)-1</strong>ï¼Œè¿™ä¸ªå¼å­æ˜¯æˆ‘æ±‚è§£é—®é¢˜çš„æ ¸å¿ƒæ€æƒ³ã€‚<br>é‚£ä¹ˆæˆ‘ä»¬ä»æ•°ç»„èµ·å§‹å¼€å§‹éå†ï¼Œæ¯æ¬¡è¯•å›¾æŠŠå½“å‰æ•°ç»„çš„ä¸‹ä¸€ä¸ªå…ƒç´ åŠ å…¥ç›®å‰çš„ç­‰å·®æ•°åˆ—ä¸­ï¼Œå¦‚æœå¯ä»¥åŠ å…¥ï¼Œåˆ™éœ€è¦æ›´æ–°ç›®å‰çš„éå†ä½ç½®ã€‚</p>
<p>å› ä¸ºåªéå†ä¸€æ¬¡æ•°ç»„ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºO(n), ç©ºé—´å¤æ‚åº¦åº”è¯¥ä¸ºO(1)</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="go">func numberOfArithmeticSlices(A []int) int {
    dif := 0 //å…¬å·®
    count := 0 //ç­‰å·®æ•°åˆ—è®¡æ•°
    for i := 0; i &lt;= len(A)-3; i++ {
        if 2*A[i+1] == (A[i] + A[i+2]) {
            dif = A[i+1] - A[i]
            length := 3 //ç­‰å·®æ•°åˆ—é•¿åº¦ï¼Œèµ·å§‹ä¸º3
            count++ //é¦–å…ˆè¿™ä¸ª3ä¸ªå…ƒç´ çš„èµ·å§‹æ•°åˆ—åº”å½“ç®—ä¸Š
            for {
                if length+i &gt;= len(A) { //è®¡ç®—åˆ°è¾¹ç•Œåˆ™ç›´æ¥è¿”å›
                    return count
                }
                if A[length+i]-A[length+i-1] == dif { //å¦‚æœå¯ä»¥åŠ å…¥ç­‰å·®æ•°åˆ—åˆ™æ›´æ–°countå€¼
                    count += length - 1
                    length++
                } else {
                    i = length + i - 1 //å¦‚æœä¸èƒ½åŠ å…¥åˆ°æ•°åˆ—ä¸­ï¼Œåˆ™åªéœ€è¦å°†iå®šä½è‡³å½“å‰ç­‰å·®æ•°åˆ—çš„æœ€åä¸€ä¸ªå³å¯
                    break
                }
            }
        }
    }
    return count
}</code></pre>
<h2 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h2><p><img src="https://i.loli.net/2020/02/29/9nw1tIymVpa3Uor.jpg" alt="Jietu20200229-231214@2x"></p>
<p>æ ¹æ®æ—¶é—´å¤æ‚åº¦è¦æ±‚å¯ä»¥çœ‹å‡ºéœ€è¦äºŒåˆ†æŸ¥æ‰¾<br>æˆ‘æ˜¯æ ¹æ®æƒ…å†µç›´æ¥åˆ†æƒ…å†µè¿›è¡Œäº†ï¼Œé¢˜è§£ä¸­ç»™å‡ºäº†æ‰¾åˆ°æœ€å°ç‚¹ç„¶åç¿»è½¬å›æ¥å†æ“ä½œçš„æ–¹æ³•ã€‚</p>
<pre><code class="go">func search(nums []int, target int) int {
    if len(nums) == 0 {
        return -1
    }
    low, high := 0, len(nums)-1
    for low &lt; high {
        mid := (high-low)/2 + low
        if target == nums[mid] {
            return mid
        }
        if mid == low {
            low++
            continue
        }
        if nums[mid] &gt;= nums[low] {
            if nums[mid] &lt; nums[high] {
                if target &gt; nums[mid] {
                    low = mid + 1
                } else {
                    high = mid - 1
                }
            } else {
                if target &lt; nums[mid] &amp;&amp; target &gt;= nums[low] {
                    high = mid - 1
                } else {
                    low = mid + 1
                }
            }
        } else {
            if target &gt; nums[mid] &amp;&amp; target &lt;= nums[high] {
                low = mid + 1
            } else {
                high = mid - 1
            }
        }
    }
    if nums[low] == target {
        return low
    }
    return -1
}</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/11/mAF8t.jpg" alt="problem"></p>
<p>è¿™ä¸ªé¢˜æœ¬èº«æ²¡ä»€ä¹ˆéš¾çš„ï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾å¾ˆå®¹æ˜“å¾—åˆ°ç»“æœï¼Œä½†æ˜¯æˆ‘å› ä¸ºä¸€äº›goè¯­è¨€ç‰¹æ€§çš„é—®é¢˜ï¼ŒèŠ±äº†ä¸å°‘åŠŸå¤«æ¥è§£å†³é—®é¢˜ã€‚<br>è´´ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="go">func nextGreatestLetter(letters []byte, target byte) byte {
    offset := search(letters, target)
    if offset &gt; int(&#39;z&#39;-target) {
        return byte(int(target) + offset - 26)
    }
    return byte(int(target) + offset)
}

func search(subLetters []byte, target byte) int {
    length := len(subLetters)

    if length == 1 {
        res := int(subLetters[0]) - int(target)
        //ä¸€å¼€å§‹ä½¿ç”¨byteå‹è¿ç®—ä¹‹åè½¬ä¸ºintï¼Œç»“æœå‡ºä¹æ„æ–™ï¼Œå› ä¸ºbyteæº¢å‡º
        if res &gt; 0 {
            return res
        }
        return res + 26
    }

    mid := length / 2
    left := search(subLetters[:mid], target)
    right := search(subLetters[mid:], target)
    if left &lt; right {
        return left
    }
    return right
}</code></pre>
<p>é—®é¢˜å‡ºåœ¨æ³¨é‡Šä½ç½®ï¼Œæ­¤å¤„ä¸€å¼€å§‹ä½¿ç”¨çš„æ˜¯byteå‹ç›´æ¥è®¡ç®—ï¼Œç»“æœå‡ºç°äº†æº¢å‡ºï¼Œå¯¼è‡´ç»“æœååˆ†ç¦»è°±ï¼Œä»¥åæ³¨æ„ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯icsæ—¶æåˆ°è¿‡çš„ã€‚</p>
<p>æˆ‘å°±æ˜¯ä¸ªæ™ºéšœï¼Œä¸Šé¢çš„é‚£é“é¢˜æˆ‘çš„åšæ³•æ˜¯åˆ†æ²»è€Œä¸æ˜¯äºŒåˆ†æŸ¥æ‰¾ï¼ŒäºŒåˆ†æŸ¥æ‰¾æ¯”è¾ƒé‡è¦çš„æ¡ä»¶åœ¨äº<strong>ä¸€å¼€å§‹æ‰€ç»™çš„å°±æ˜¯ä¸€ä¸ªæœ‰åºçš„åºåˆ—</strong>ï¼Œç„¶åæˆ‘ä»¬æ‰èƒ½è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ã€‚</p>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/11/mANGS.jpg" alt="problem"></p>
<p>æ±‚å¼€æ–¹ä¹Ÿå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥å®Œæˆã€‚</p>
<pre><code class="go">func mySqrt(x int) int {
    // guessNum := x
    // for ;guessNum*guessNum &gt; x; {
    //     guessNum =guessNum/2
    // }
    // for ;guessNum*guessNum &lt;= x; {
    //     guessNum++
    // }
    // return guessNum-1

    if x == 1 {
        return 1
    }
    low, high, mid := 0, x, 0
    for low &lt; high-1 {
        mid = (high-low)/2 + low
        if mid*mid &gt; x {
            high = mid
        } else {
            low = mid
        }
    }
    return (high + low) / 2
}
</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/11/mAY4C.jpg" alt="problem34"></p>
<p>é€‰æ‹©ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œæ‰¾åˆ°ä¸¤è¾¹çš„è¾¹ç•Œï¼Œå¦‚æœä¸­é—´å€¼ä¸ºç›®æ ‡å€¼ï¼Œé€‰æ‹©ä»ä¸­é—´å¾€ä¸¤è¾¹æ‹“å±•ï¼Œä¸€å¼€å§‹é‡æ–°æ„å»ºä¸€ä¸ªsliceå¤´å°¾ç¡®å®šä¸ºä¸€ä¸ªä¸å­˜åœ¨ä¸åŸç»™å®šsliceä¸­çš„æ•°å­—æ˜¯ä¸ºäº†æ›´å¥½çš„åšåé¢çš„æ‹“å±•æ“ä½œï¼Œè¿™æ ·è¾¹ç•Œå€¼æ›´å¥½å¤„ç†ã€‚</p>
<pre><code class="go">func searchRange(nums []int, target int) []int {
    numsNew := make([]int, len(nums)+2)
    for i := range nums {
        numsNew[1+i] = nums[i]
    }
    numsNew[0], numsNew[len(nums)+1] = -1, -1

    low, high, mid := 1, len(nums), 0

    for {
        mid = low + (high-low)/2
        if numsNew[low] == numsNew[high] &amp;&amp; numsNew[low] == target {
            return []int{low - 1, high - 1}
        }
        if low &gt;= high {
            return []int{-1, -1}
        }
        if target &gt; numsNew[mid] {
            low = mid + 1
        } else if target &lt; numsNew[mid] {
            high = mid - 1
        } else {
            low, high = mid, mid
            for {
                if numsNew[low] == target {
                    low--
                }
                if numsNew[high] == target {
                    high++
                }
                if numsNew[low] != target &amp;&amp; numsNew[high] != target {
                    return []int{low, high - 2}
                }
            }

        }
    }
}</code></pre>
<h2 id="problem-153"><a href="#problem-153" class="headerlink" title="problem 153"></a>problem 153</h2><p><img src="https://cdn.img.wenhairu.com/images/2020/02/11/mAfLs.jpg" alt="problem153"></p>
<p>ç®—æ˜¯æ¯”è¾ƒç†Ÿç»ƒçš„æŒæ¡äº†äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œè¿™ä¸ªé¢˜çš„å…³é”®åœ¨äºæ¡ä»¶è¦è€ƒè™‘ä»”ç»†äº†</p>
<pre><code class="go">func findMin(nums []int) int {
    low, high, mid := 0, len(nums)-1, 0

    for low &lt; high {
        mid = (high-low)/2 + low
        if (high - low) == 1 {
            if nums[high] &gt; nums[low] {
                return nums[low]
            }
            return nums[high]
        }// when the slice length is 2, return the min directly.
        if nums[mid] &lt; nums[mid-1] {
            return nums[mid]
        }
        if nums[mid] &gt; nums[high] {
            low = mid + 1
        } else if nums[mid] &lt; nums[low] {
            high = mid
        }
        if nums[low] &lt;= nums[mid] &amp;&amp; nums[mid] &lt;= nums[high] {
            return nums[low]
        }
    }
    return nums[high]
}</code></pre>
<h2 id="åˆ†æ²»ç®—æ³•-1"><a href="#åˆ†æ²»ç®—æ³•-1" class="headerlink" title="åˆ†æ²»ç®—æ³•"></a>åˆ†æ²»ç®—æ³•</h2><p><img src="https://cdn.img.wenhairu.com/images/2020/02/13/mAS1H.jpg" alt="problem95"></p>
<p>ç¬¬ä¸€æ¬¡ä¸€éé€šè¿‡çš„é¢˜ç›®ï¼Œè¿™ä¸ªé¢˜ä¸€å¼€å§‹æ²¡æœ‰ä»€ä¹ˆæ€è·¯ï¼Œåé¢æƒ³åˆ°å¯ä»¥ä½¿ç”¨é€’å½’æ±‚è§£ï¼Œå®é™…ä¸Šå±äºä¸€ç§åˆ†æ²»çš„æ€æƒ³ï¼Œä¾æ¬¡é€‰æ‹©åˆ’åˆ†é€’å½’è°ƒç”¨å·¦å³ä¸¤è¾¹çš„ç”Ÿæˆå‡½æ•°ã€‚<br>è¿™é“é¢˜å¯¹äºæˆ‘çš„éš¾åº¦å¤§å¤šåœ¨goè¯­è¨€æœ¬èº«ä¸Šï¼Œå£°æ˜nilæ—¶éœ€è¦ä½¿ç”¨varè¯­å¥ è¡¨æ˜ç±»å‹ã€‚</p>
<blockquote>
<p>å¡ç‰¹å…°æ•°</p>
</blockquote>
<pre><code class="go">func generateTrees(n int) []*TreeNode {
    res := generate(1, n)
    return res
}

func generate(begin, end int) []*TreeNode {
    res := make([]*TreeNode, 0)
    if begin == end {
        res = append(res, &amp;TreeNode{begin, nil, nil})
    }
    for i := begin; i &lt;= end; i++ {
        if i == begin {
            var l *TreeNode = nil
            for _, r := range generate(begin+1, end) {
                temp := TreeNode{i, l, r}
                res = append(res, &amp;temp)
            }
        }
        if i == end {
            var r *TreeNode = nil
            for _, l := range generate(begin, end-1) {
                temp := TreeNode{i, l, r}
                res = append(res, &amp;temp)
            }
        }
        if i &gt; begin &amp;&amp; i &lt; end {
            for _, l := range generate(begin, i-1) {
                for _, r := range generate(i+1, end) {
                    temp := TreeNode{i, l, r}
                    res = append(res, &amp;temp)
                }
            }
        }
    }
    return res
}</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/13/mAOQh.jpg" alt="problem241"></p>
<p>è¿™ä¸ªé¢˜æˆ‘çœŸçš„æ˜¯ä¸ªæ†¨æ†¨ï¼ŒèŠ±äº†å¤§åŠä¸ªä¸‹åˆéƒ½æ²¡åšå¯¹ï¼Œä¸€å¼€å§‹æˆ‘é€‰æ‹©ä»¥ä¸€ä¸ªå®Œæ•´çš„ç®—å¼ä¸ºåˆ†å‰²ä½ç½®ï¼Œè¿™æ ·å¤„ç†æ—¢ç¹çåˆä¸å¤ªå¯¹ï¼Œå› ä¸ºå­—ç¬¦ä¸²ä¸­çš„æ•°å­—å¹¶ä¸è§å¾—åªæœ‰ä¸€ä¸ªå­—ç¬¦ã€‚åé¢å‚è€ƒäº†ä¸€ä¸‹ç­”æ¡ˆï¼Œå¾—åˆ°äº†ä¹‹åçš„ç»“æœï¼Œ</p>
<pre><code class="go">import (
    &quot;strconv&quot;
    &quot;sort&quot;
)
func diffWaysToCompute(input string) []int {
    res := make([]int, 0)
    for i := 0; i &lt; len(input)-1; i++ {
        if input[i:i+1] == &quot;+&quot; || input[i:i+1] == &quot;-&quot; || input[i:i+1] == &quot;*&quot; {
            left := diffWaysToCompute(input[0:i])
            right := diffWaysToCompute(input[i+1:])
            for _, lvalue := range left {
                for _, rvalue := range right {
                    temp := 0
                    switch input[i : i+1] {
                    case &quot;+&quot;:
                        temp = lvalue + rvalue
                    case &quot;-&quot;:
                        temp = lvalue - rvalue
                    case &quot;*&quot;:
                        temp = lvalue * rvalue
                    }
                    res = append(res, temp)
                }
            }
        }
    }
    if len(res) == 0 {
        // a clever trick to handle with the string
        value, _ := strconv.Atoi(input)
        res = append(res, value)
    }
    sort.Ints(res)
    return res
}
</code></pre>
<h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><p><img src="https://i.loli.net/2020/02/29/7f2LBxRwQPHA3sF.jpg" alt="Jietu20200229-141257@2x"></p>
<p>å¸¸è§„çš„åœ¨å‰é¢åŠ ä¸€ä¸ªèŠ‚ç‚¹ä½¿æ“ä½œæ›´åŠ ç®€å•ï¼Œç”¨ä¸€ä¸ªsliceæ¨¡æ‹Ÿæ ˆï¼Œéå†ä¸€éé“¾è¡¨å®ç°æ±‚è§£ã€‚</p>
<pre><code class="go">func reverseKGroup(head *ListNode, k int) *ListNode {
    if k &lt;= 1 {
        return head
    }
    count, res, traversal := 0, &amp;ListNode{-1, head}, head
    head = res
    stack := make([]*ListNode, k)
    for traversal != nil {
        count++
        stack[count-1] = traversal
        traversal = traversal.Next
        if count == k {
            for i := k - 1; i &gt; 0; i-- {
                stack[i].Next = stack[i-1]
            }
            stack[0].Next = traversal
            head.Next = stack[k-1]
            head = stack[0]
            count = 0
        }
    }
    return res.Next
}</code></pre>
<p><img src="https://i.loli.net/2020/02/29/WZKQeJE8NRI3fiF.jpg" alt="Jietu20200229-203848@2x"></p>
<p>å…ˆæä¾›ä¸€ä¸ªå¤æ‚åº¦æœ‰ç‚¹é«˜çš„ç®—æ³•ã€‚æ¯æ¬¡éƒ½éå†æ¯ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ä¾æ¬¡æ·»åŠ ã€‚<br>å»ºè®®ç”¨ä¸‹é¢çš„æ–¹æ³•ã€‚</p>
<pre><code class="go">func mergeKLists(lists []*ListNode) *ListNode {
    head := &amp;ListNode{}
    p := head
    for true {
        index := 0
        var node *ListNode
        for i, nd := range lists {
            if node == nil {
                node = nd
                index = i
            } else if nd != nil &amp;&amp; node.Val &gt; nd.Val {
                node = nd
                index = i
            }
        }
        if node == nil {
            break
        }

        lists[index] = node.Next
        node.Next = nil
        p.Next = node
        p = p.Next
    }
    return head.Next
}</code></pre>
<p>ç”¨äº†å¤šè·¯å½’å¹¶ï¼Œæ—¶é—´å¤æ‚åº¦éª¤é™ğŸ˜‚<br><img src="https://i.loli.net/2020/02/29/IyDkdflgOq6JLzr.jpg" alt="Jietu20200229-205600@2x"></p>
<pre><code class="go">func mergeKLists(lists []*ListNode) *ListNode {
    switch len(lists) {
        case 0:
            return nil
        case 1:
            return lists[0]
        case 2:
            return mergeTwoList(lists[0], lists[1])
        default:
            mid := len(lists) / 2
            return mergeTwoList(mergeKLists(lists[:mid]), mergeKLists(lists[mid:])) 
    }
}

func mergeTwoList(list1, list2 *ListNode) *ListNode {
    res := &amp;ListNode{-1, nil}
    next := res
    for list1 != nil &amp;&amp; list2 != nil {
        if list1.Val &lt; list2.Val {
            next.Next = list1
            list1 = list1.Next
        } else {
            next.Next = list2
            list2 = list2.Next
        }
        next = next.Next
    }
    if list1 == nil {
        next.Next = list2
    } else {
        next.Next = list1
    }
    return res.Next
}</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/13/mAXmD.jpg" alt="problem"></p>
<p>è¿™é“é¢˜è™½ç„¶å¾ˆç®€å•ä½†æ˜¯ï¼Œè§£æ³•å¯ä»¥ååˆ†å·§å¦™ã€‚å‡è®¾é“¾è¡¨ä¸€çš„é•¿åº¦ä¸ºa+c,é“¾è¡¨äºŒçš„é•¿åº¦ä¸ºa+cï¼Œå…¶ä¸­cä¸ºå…¬å…±éƒ¨åˆ†é•¿åº¦ï¼Œå½“ä¸¤è€…ä¸ç›¸äº¤æ—¶ä¸º0.è¿™æ ·æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿æ‹¼æ¥ä½¿å¾—é“¾è¡¨çš„é•¿åº¦éƒ½ä¸ºa+b+cï¼Œè¿™æ ·å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰ç„¦ç‚¹è®¿è°ˆåˆ™ä¼šåŒæ—¶ç­‰äºnil</p>
<pre><code class="go">/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */
func getIntersectionNode(headA, headB *ListNode) *ListNode {
    l1, l2 := headA, headB
    for ;l1 != l2; {
        if l1 == nil {
            l1 = headB
        } else {
            l1 = l1.Next
        }
        if l2 == nil {
            l2 = headA
        } else {
            l2 = l2.Next
        }
    }
    return l1
}</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/13/mAiEs.jpg" alt="pic"></p>
<p>é¢˜ç›®å¾ˆç®€å•ï¼Œç”¨äº†ä¸¤ç§æ–¹æ³•è§£å†³ï¼Œåº”å½“æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¯¹goè¯­è¨€çš„ä¸€äº›ç‰¹æ€§è¿˜æ˜¯ä¸ç†Ÿæ‚‰ï¼Œé¢˜è§£ç»™å‡ºçš„ä»£ç ååˆ†ç®€ä»‹ï¼Œæˆ‘å†™çš„æ€»æ˜¯å¾ˆå†—é•¿ã€‚</p>
<pre><code class="go">func reverseList(head *ListNode) *ListNode {
    rhead, tail := recursion_reverseList(head)
    tail.Next = nil
    return rhead
}

func recursion_reverseList(head *ListNode) (rhead, tail *ListNode) {
    if head.Next == nil {
        tail = head
        rhead = head
        return rhead, tail
    } else {
        rhead, tail = recursion_reverseList(head.Next)
        tail.Next = head
        tail = head
        return rhead, tail
    }
}

func reverseList(head *ListNode) *ListNode {
    prev,cur := &amp;ListNode{},head
    prev = nil
    for cur != nil{
        cur.Next,prev,cur = prev,cur,cur.Next
    }
    return prev
}</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/13/mAsgR.jpg" alt="pic"></p>
<pre><code class="go">func mergeTwoLists(l1 *ListNode, l2 *ListNode) *ListNode {
    head := &amp;ListNode{0, nil}
    point := head
    for (l1 != nil) || (l2 != nil) {
        if l1 == nil {
            point.Next = l2
            return head.Next
        }
        if l2 == nil {
            point.Next = l1
            return head.Next
        }
        if l1.Val &lt;= l2.Val {
            point.Next, l1 = l1, l1.Next
            point = point.Next
        } else {
            point.Next, l2 = l2, l2.Next
            point = point.Next
        }

    }
    return head.Next
}
</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/13/mA2rN.jpg" alt="83"></p>
<p>çœŸçš„ä½›äº†ï¼Œè¿™ç ´é¢˜ä¹Ÿèƒ½åšåŠå¤©ï¼Œç»†èŠ‚å¤ªé‡è¦äº†ï¼Œå°±ç¬¬ä¸‰è¡Œçš„ä¸¤ä¸ªè¯­å¥çš„æ¬¡åºéƒ½ä¼šå½±å“ç»“æœ</p>
<pre><code class="go">func deleteDuplicates(head *ListNode) *ListNode {
    cur := head
    for cur != nil &amp;&amp; cur.Next != nil {
        if cur.Val == cur.Next.Val {
            cur.Next = cur.Next.Next
            continue
        }
        cur = cur.Next
    }
    return head
}</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/14/mAtRn.jpg" alt="19"></p>
<p>åšé¢˜æœç„¶æ˜¯ç†Ÿèƒ½ç”Ÿå·§çš„ä¸€ä»¶äº‹æƒ…ï¼Œåšå¤šäº†ä¹‹åï¼Œé“¾è¡¨çš„é¢˜ä¹Ÿå¾—å¿ƒåº”æ‰‹èµ·æ¥äº†ï¼Œè¿™é¢˜ä½¿ç”¨é€’å½’æ¥è®¡ç®—æ·±åº¦ï¼Œè¿›è¡Œåˆ é™¤èŠ‚ç‚¹çš„åˆ¤æ–­ï¼Œéœ€è¦æ³¨æ„è¾¹ç•Œå€¼çš„åˆ¤æ–­ï¼Œå³èµ·å§‹ä½ç½®ã€‚</p>
<p>æŸ¥çœ‹é¢˜è§£ä¹‹åå‘ç°è¿™é“é¢˜ä¹Ÿå¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆæ¥æ±‚è§£ï¼Œåªéœ€è¦ä½¿ç¬¬ä¸€ä¸ªæŒ‡é’ˆæ¯”åé¢é‚£ä¸ªæå‰èµ°næ­¥ï¼Œä¿è¯é—´éš”å³å¯ã€‚</p>
<pre><code class="go">func removeNthFromEnd(head *ListNode, n int) *ListNode {
    if head == nil || head.Next == nil {
        return nil
    }
    depth := traversal(head, n)
    if depth == n {
        head = head.Next
    }
    return head
}

func traversal(head *ListNode, n int) int {
    if head.Next == nil {
        return 1
    }
    depth := traversal(head.Next, n) + 1
    if depth == n+1 {
        head.Next = head.Next.Next
    }
    return depth
}
</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/14/mAzbA.jpg" alt="pic"></p>
<p>é¢˜ç›®ä¸éš¾ï¼Œä¸è¿‡æœ‰ä¸€ç‚¹å€¼å¾—æ³¨æ„ï¼Œä¸ºäº†ä½¿ç±»ä¼¼ç©ºé“¾è¡¨æˆ–è€…åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„é“¾è¡¨æ›´å®¹æ˜“æ“ä½œï¼Œæˆ‘åœ¨åŸé“¾è¡¨å‰é¢æ·»åŠ äº†ä¸€ä¸ª-1èŠ‚ç‚¹</p>
<pre><code class="go">func swapPairs(head *leetcodetool.ListNode) *leetcodetool.ListNode {
    cur := head
    var pre = &amp;leetcodetool.ListNode{-1, nil}
    pre.Next, head = head, pre
    for cur != nil &amp;&amp; cur.Next != nil {
        pre.Next, cur.Next, cur.Next.Next = cur.Next, cur.Next.Next, cur
        cur, pre = cur.Next, cur
    }
    return head.Next
}</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/17/mu9iD.jpg" alt="pic"></p>
<pre><code class="go">func oddEvenList(head *ListNode) *ListNode {
    oddList, evenList := &amp;ListNode{-1, nil}, &amp;ListNode{-1, nil}
    oddHead, evenHead := oddList, evenList

    count := 1

    for head != nil {
        if count%2 == 1 {
            oddList.Next = head
            oddList = oddList.Next
        } else {
            evenList.Next = head
            evenList = evenList.Next
        }
        head = head.Next
        count++
    }
    head, oddList.Next, evenList.Next = oddHead.Next, evenHead.Next, nil
    return head
}</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/17/mu1Ft.jpg" alt="pic725"></p>
<p>é¦–å…ˆéå†é“¾è¡¨è®¡ç®—é•¿åº¦ï¼Œç„¶åæ ¹æ®è®¡ç®—å‡ºæ¥çš„é•¿åº¦æ¥è®¡ç®—æ¯ä¸ªé“¾è¡¨çš„é•¿åº¦ï¼Œå‰length%kä¸ªä¸ºlength/k+1ï¼Œä½¿ç”¨ä¸€ä¸ªint sliceå‚¨å­˜ï¼Œç„¶åä»”éå†ä¸€éé“¾è¡¨ï¼ŒæŒ‰ç…§å­˜å‚¨çš„é•¿åº¦åšåˆ’åˆ†å³å¯</p>
<pre><code class="go">func splitListToParts(root *ListNode, k int) []*ListNode {
    length := 0
    for count := root; count != nil; count = count.Next {
        length++
    }

    split := make([]int, k)
    for i := range split {
        split[i] = length / k
    }
    for i := 0; i &lt; length%k; i++ {
        split[i]++
    }

    res := make([]*ListNode, 0)
    for _, splitLength := range split {
        temp := &amp;ListNode{-1, nil}
        head := temp
        for j := 0; j &lt; splitLength; j++ {
            temp.Next, root = root, root.Next
            temp = temp.Next
        }
        temp.Next = nil
        res = append(res, head.Next)
    }
    return res
}</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/17/mupnS.jpg" alt="pic234"></p>
<p>ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ¥é”å®šé“¾è¡¨ååŠæ®µï¼Œæ…¢æŒ‡é’ˆæ¯ä¸¤æ¬¡èµ°ä¸€æ­¥ï¼Œè¿™æ ·å°±å¯ä»¥ç¡®å®šä¸­ç‚¹ä½ç½®ï¼Œç„¶åå€’ç½®ååŠæ®µå³å¯</p>
<pre><code class="go">/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */
func isPalindrome(head *ListNode) bool {
    slow, traversal := head, head

    count := 0
    for traversal != nil &amp;&amp; traversal.Next != nil {
        traversal = traversal.Next
        count++
        if count%2 == 0 {
            slow = slow.Next
        }
    }

    slow, _ = invertList(slow)

    for slow != nil &amp;&amp; head != nil {
        if slow.Val != head.Val {
            return false
        }
        slow, head = slow.Next, head.Next
    }
    return true
}

func invertList(head *ListNode) (invertHead, tail *ListNode) {

    if head == nil || head.Next == nil {
        return head, head
    }
    ihead, tail := invertList(head.Next)
    tail.Next, head.Next = head, nil
    tail = tail.Next
    return ihead, tail
}
</code></pre>
<h2 id="hashmap"><a href="#hashmap" class="headerlink" title="hashmap"></a>hashmap</h2><p>hashmapä½¿ç”¨O(N)æ¥å­˜å‚¨æ•°æ®ï¼Œä½¿ç”¨<strong>å¸¸æ•°æ—¶é—´</strong>æ¥æŸ¥æ‰¾æ•°æ®</p>
<p><img src="https://i.loli.net/2020/02/17/vpWnYVXrJ1IKAN5.jpg" alt="Jietu20200217-220621@2x"></p>
<p>è¿™é“é¢˜å› ä¸ºè¦æ—¶é—´ç•Œä¸ºnï¼Œè€ƒè™‘åˆ°ä»»ä½•åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•çš„ä¸‹ç•Œä¸ºnlognï¼Œæ‰€ä»¥æƒ³åˆ°ä½¿ç”¨hashè¡¨æ¥å®ç°ï¼ŒæŸ¥çœ‹äº†å…³äºmapçš„å®šä¹‰ï¼Œå‘ç°å…¶æ˜¯hashçš„ä¸€ç§å®ç°ï¼Œæ‰€ä»¥é€šè¿‡mapå­˜å‚¨æ•°ç»„å…ƒç´ ã€‚ç„¶åæ¥çœ‹æœ‰å¤šå°‘ä¸ªè¿ç»­çš„å…ƒç´ ã€‚<br>æ³¨æ„å°±æ˜¯å†…éƒ¨å¾ªç¯éœ€è¦å¯¹éå†è¿‡çš„å…ƒç´ åšæ ‡è®°ï¼Œå¦åˆ™ä¼šè¶…æ—¶ã€‚</p>
<pre><code class="go">func longestConsecutive(nums []int) int {
    m := make(map[int]bool)
    res := 0

    for _, value := range nums {
        m[value] = true
    }

    for _, value := range nums {
        if m[value] {
            length := 1
            for i := value + 1; m[i]; i++ {
                length++
                m[i] = false
            }
            for i := value - 1; m[i]; i-- {
                length++
                m[i] = false
            }
            if res &lt;= length {
                res = length
            }
        }
    }

    return res
}
</code></pre>
<h2 id="string"><a href="#string" class="headerlink" title="string"></a>string</h2><p><img src="https://i.loli.net/2020/03/09/X5KzmSN8GhLVfBl.jpg" alt="Jietu20200309-173302@2x"></p>
<p><img src="https://i.loli.net/2020/02/19/PTrDVy9bLY2Hvg5.jpg" alt="Jietu20200219-180808@2x"></p>
<p>ä½¿ç”¨æ•°ç»„é•¿åº¦ä¸º26çš„å­—ç¬¦å­˜å‚¨</p>
<pre><code class="go">func isAnagram(s string, t string) bool {
    store := make([]int, 26)
    if len(s) != len(t) {
        return false
    }
    for i:=0; i&lt;len(s); i++ {
        store[s[i]-&#39;a&#39;]++
    }
    for i:=0; i&lt;len(t); i++ {
        store[t[i]-&#39;a&#39;]--
    }
    for _, value := range store {
        if value != 0 {
            return false
        }
    }
    return true
}</code></pre>
<p><img src="https://i.loli.net/2020/02/19/hIB4fET1gLWiNwA.jpg" alt="Jietu20200219-183807@2x"></p>
<p>ç”¨æ•°ç»„åšçš„ï¼Œé¢˜è§£é‡Œçœ‹åˆ°ä¸€ä¸ªç”¨mapåšçš„æ›´ç®€æ´ä¸€äº›çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨[]byte(s)å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦slice</p>
<pre><code class="go">func longestPalindrome(s string) int {
    store := make([]int, 52)
    sum,odd := 0,0

    if len(s) == 0 {
        return 0
    }

    for i:=0; i&lt;len(s); i++{
        index := int(s[i])-&#39;a&#39;
        if index &lt; 0 {
            index += 59 // handle the situation of capital char
        }
        store[index]++
    }

    for _, value := range store {
        if value % 2 == 0 {
            sum+=value
        } else {
            odd = 1
            sum+=(value-1)
        }
    }

    return sum+odd
}</code></pre>
<p><img src="https://i.loli.net/2020/02/19/Ao4sSInZX5L9vft.jpg" alt="Jietu20200219-185229@2x"></p>
<pre><code class="go">func isPalindrome(x int) bool {
    if x &lt; 0 {
        return false
    }

    y, _ := recursion(x)
    if x == y {
        return true
    }
    return false
}

func recursion(x int) (int, int) {
    if x &lt; 10 {
        return x, 1
    }
    num := x % 10
    sum, depth := recursion(x / 10)
    for i := 0; i &lt; depth; i++ {
        num = num * 10
    }
    return num + sum, depth + 1
}</code></pre>
<p>ä½¿ç”¨é€’å½’å¤ªè¿‡ç¹çäº†ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡è¿­ä»£å®ç°çš„</p>
<pre><code class="go">func isPalindrome(x int) bool {
    if x &lt; 0 ||(x%10==0 &amp;&amp; x!=0){
        return false
    }

    var revertedNumber int
    for x &gt; revertedNumber{
        revertedNumber = revertedNumber * 10 + x%10
        x/=10
    }
    return revertedNumber == x || revertedNumber /10 == x
}</code></pre>
<p><img src="https://i.loli.net/2020/02/19/QdczrepGiDLCH9v.jpg" alt="Jietu20200219-231905@2x"></p>
<p>ä¾æ¬¡æ‹“å±•å­—ç¬¦ä¸²å³å¯</p>
<pre><code class="go">func countSubstrings(s string) int {
    var chars = []byte(s)
    sum := 0

    for i := range chars {
        sum += count(chars, i, i)
        sum += count(chars, i, i+1)
    }
    return sum
}

func count(chars []byte, begin, end int) int {
    sum := 0
    for begin &gt;= 0 &amp;&amp; end &lt;= len(chars)-1 {
        if chars[begin] == chars[end] {
            sum = sum + 1
        } else {
            break
        }
        begin--
        end++
    }
    return sum
}</code></pre>
<h2 id="tree"><a href="#tree" class="headerlink" title="tree"></a>tree</h2><p><img src="https://i.loli.net/2020/02/20/563XwoPvamHiQ1Y.jpg" alt="Jietu20200220-000113@2x"></p>
<pre><code class="go">func maxDepth(root *TreeNode) int {
    return getdep(root)
}

func getdep(root *TreeNode) int {
    if root == nil {
        return 0
    }

    left := getdep(root.Left)
    right := getdep(root.Right)
    if left &gt; right {
        return left+1
    }
    return right+1
}</code></pre>
<p><img src="https://i.loli.net/2020/02/20/d5gkVlGoEOHhDm8.jpg" alt="Jietu20200220-001452@2x"></p>
<p>ä½¿ç”¨ä¸Šé¢çš„æ±‚é«˜åº¦çš„æ–¹æ³•å°±èƒ½æ±‚è§£ã€‚</p>
<p><img src="https://i.loli.net/2020/02/20/lvKUAMzqFhxcyRp.jpg" alt="Jietu20200220-110652@2x"></p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ä¸€å¼€å§‹æˆ‘æŠŠèµ‹å€¼è¯­å¥åˆ†å¼€å†™å¯¼è‡´ï¼Œleftæ›´æ”¹ä¹‹åä¼ é€’ç»™rightï¼Œä»£ç æ­»å¾ªç¯ã€‚</p>
<pre><code class="go">func invertTree(root *TreeNode) *TreeNode {
    if root == nil {
        return root
    }
    root.Left, root.Right = invertTree(root.Right), invertTree(root.Left)

    return root
}</code></pre>
<p><img src="https://i.loli.net/2020/02/20/FyOL1DbfY9RAt7S.jpg" alt="Jietu20200220-160533@2x"></p>
<p>é€’å½’åˆå¹¶å³å¯ï¼Œä¸è¿‡æˆ‘ä½¿ç”¨æ–°çš„èŠ‚ç‚¹å’Œåœ¨t1ä¸ŠåŸåœ°ä¿®æ”¹ç©ºé—´å·®è·ä¸å¤§ã€‚</p>
<pre><code class="go">func mergeTrees(t1 *TreeNode, t2 *TreeNode) *TreeNode {
    if t1 == nil &amp;&amp; t2 == nil {
        return nil
    }
    if t1 == nil {
        return t2
    }
    if t2 == nil {
        return t1
    }

    t1.Val = t1.Val+t2.Val
    t1.Left = mergeTrees(t1.Left, t2.Left)
    t1.Right = mergeTrees(t1.Right, t2.Right)

    return t1
}</code></pre>
<p><img src="https://i.loli.net/2020/02/22/LGtfRqxwMS74ngi.jpg" alt="Jietu20200222-231012@2x"></p>
<p>è¿™ä¸ªé¢˜ä½¿ç”¨äº†å›æº¯çš„æ€æƒ³ï¼Œä¿å­˜äº†å‰ç¼€å’Œï¼Œé€šè¿‡å‰ç¼€å’Œçš„å·®æ¥è®¡ç®—è·¯å¾„é•¿åº¦ã€‚å€¼å¾—å­¦ä¹ ã€‚</p>
<p>è¿™ä¸ªé¢˜æˆ‘æœ‰ä¸¤ä¸ªåœ°æ–¹å‡ºäº†é”™è¯¯ï¼Œç¬¬ä¸€æ˜¯mapåº”å½“åˆå§‹åŒ–ä¸€ä¸ªm[0]=1è¿›å»ï¼Œä¸ç„¶æ²¡æœ‰å’Œç¬¬ä¸€é¡¹çš„æ¯”å¯¹ï¼›ç¬¬äºŒç‚¹æ˜¯è¿™é‡Œçš„è·¯å¾„åªæœ‰ä»ä¸Šè‡³ä¸‹ï¼Œä¸€å¼€å§‹æˆ‘è€ƒè™‘äº†ä»ä¸‹è‡³ä¸Šçš„æƒ…å†µã€‚</p>
<pre><code class="go">func pathSum(root *TreeNode, sum int) int {
    m := make(map[int]int)
    m[0]=1
    res := recursion(root, m, 0, sum)
    return res
}

func recursion(root *TreeNode, m map[int]int, pathSum int, sum int) int{
    var res int = 0
    if root == nil {
        return 0
    }

    curSum := pathSum + root.Val
    res += m[curSum-sum]

    m[curSum]+=1

    res += recursion(root.Left, m, curSum, sum) + recursion(root.Right,m, curSum, sum)

    fmt.Println(res, curSum)

    m[curSum]-=1
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/02/22/clN9AvK2sFOCZDd.jpg" alt="Jietu20200222-231327@2x"></p>
<p>æˆ‘å¹¶æ²¡æœ‰æƒ³å‡ºè¿™ä¹ˆå·§å¦™çš„é€’å½’å®ç°ã€‚åº”å½“æ³¨æ„å¯ä»¥è¿™æ ·å¯¹ä¸¤ä¸ªæ–¹å‘è¿›è¡Œå•ä¸ªçš„é€’å½’æ“ä½œã€‚</p>
<pre><code class="go">func isSymmetric(root *TreeNode) bool {
    if root == nil {
        return true
    }
    return recursion(root.Left, root.Right)
}

func recursion(left *TreeNode, right *TreeNode) bool {
    if (left == nil &amp;&amp; right != nil)  || (left != nil &amp;&amp; right == nil){
        return false
    }
    if left == nil &amp;&amp; right == nil {
        return true
    }

    if left.Val != right.Val {
        return false
    }

    return recursion(left.Left, right.Right) &amp;&amp; recursion(left.Right, right.Left)
}</code></pre>
<p><img src="https://i.loli.net/2020/02/23/pWfgKMXTmd4EH2s.jpg" alt="Jietu20200223-113129@2x"></p>
<p>è¿™é“é¢˜æŒ‰ç†è¯´æ²¡å•¥éš¾çš„ï¼Œä½†æ˜¯æˆ‘ç”¨å…¨å±€å˜é‡çš„æ—¶å€™ï¼Œæäº¤æ€»æ˜¯æ— æ³•é€šè¿‡ï¼Œå…³é”®æ˜¯é”™è¯¯ç¤ºä¾‹æ‰§è¡Œæ˜¯å¯ä»¥é€šè¿‡çš„ã€‚ä¸€è„¸æ‡µé€¼ï¼Œè¿™æ ·ä»¥æ¥ä»£ç å°±å†—ä½™ä¸å°‘ï¼ŒçŒœæµ‹æ˜¯leetcodeçš„å…¨å±€å˜é‡çš„é—®é¢˜ã€‚</p>
<pre><code class="go">func diameterOfBinaryTree(root *TreeNode) int {
    if root == nil {
        return 0
    }

    left, left_max := getdep(root.Left)
    right, right_max := getdep(root.Right)
    sum := left + right


    if left_max &gt;= sum &amp;&amp; left_max &gt;= right_max  {
        return left_max
    } else if right_max &gt;= sum &amp;&amp; left_max &lt;= right_max {
        return right_max
    } else {
        return sum
    }
}

func getdep(root *TreeNode) (depth, max int) {
    if root == nil {
        return 0, 0
    }

    left, left_max := getdep(root.Left)
    right, right_max := getdep(root.Right)
    sum := left + right

    if left_max &gt;= sum &amp;&amp; left_max &gt;= right_max  {
        max = left_max
    } else if right_max &gt;= sum &amp;&amp; left_max &lt;= right_max {
        max = right_max
    } else {
        max = sum
    }

    if left &gt; right {
        return left+1, max
    }
    return right+1, max
}</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/24/mGQCn.jpg" alt></p>
<p>è¯´å®è¯ï¼Œä½¿ç”¨sliceå®ç°é˜Ÿåˆ—æ¯”æˆ‘æƒ³è±¡ä¸­çš„è¦ç®€å•å¾ˆå¤šï¼Œæˆ‘ä¸ºæ¯ä¸€å±‚çš„èŠ‚ç‚¹å•ç‹¬å¼€è¾Ÿäº†ä¸€ä¸ªsliceï¼Œéå†å®Œè¿™ä¸€å±‚ä¹‹åå°†é˜Ÿåˆ—æŒ‡é’ˆæ¢ä¸ºä¸‹ä¸€å±‚çš„sliceå³å¯ã€‚</p>
<pre><code class="go">func minDepth(root *TreeNode) int {
    queue := make([]*TreeNode, 0)
    if root == nil {
        return 0
    }

    queue = append(queue, root)
    depth :=  0

    for len(queue) &gt; 0 {
        sonNode := make([]*TreeNode, 0)
        for _, value := range queue{
            if value == nil {
                continue
            }
            if value.Left == value.Right {
                return depth+1
            }
            sonNode = append(sonNode,value.Left)
            sonNode = append(sonNode,value.Right)
        }
        depth++
        queue = sonNode
    }
    return depth
}</code></pre>
<p><img src="https://i.loli.net/2020/02/24/TtqDLrsY67QgPxG.jpg" alt="Jietu20200224-154347@2x"></p>
<pre><code class="go">func sumOfLeftLeaves(root *TreeNode) int {
    if root == nil {
        return 0
    }
    leftVal := 0
    if root.Left != nil &amp;&amp; root.Left.Left==nil &amp;&amp; root.Left.Right==nil {
        leftVal = root.Left.Val
    }
    return sumOfLeftLeaves(root.Left) + sumOfLeftLeaves(root.Right) + leftVal
}</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/24/mGRkA.jpg" alt="Uploading Jietu20200224-174528@2x.jpgâ€¦ (6ab1cf5zd)"></p>
<p>çœŸçš„è¦å“­å‡ºæ¥äº†ï¼Œè¿™ä¸ªé¢˜æˆ‘çš„æ€è·¯ä¸€å¼€å§‹å°±æ˜¯æ­£ç¡®çš„ï¼Œé€’å½’ä¸­oddè¡¨ç¤ºè¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘å¥‡æ•°å±‚ï¼ˆä¹Ÿå°±æ˜¯åŒ…å«è¯¥æ ¹ç»“ç‚¹ï¼‰çš„å’Œï¼Œæ„å‘³ç€å…¶çˆ¶èŠ‚ç‚¹ä¸å¯ä»¥è®¡ç®—åœ¨å†…ï¼Œevenä¹Ÿå°±æ˜¯æ„å‘³ç€çˆ¶èŠ‚ç‚¹å¯ä»¥è®¡ç®—åœ¨å†…ã€‚æäº¤äº†ä¸¤æ¬¡éƒ½å‡ºé—®é¢˜åœ¨evençš„è®¡ç®—ä¸Šï¼Œevenå®é™…ä¸Šä¸€å…±æœ‰å››ç§å¯èƒ½æ€§ï¼Œæˆ‘æœ€åå› ä¸ºæ²¡æœ‰è€ƒè™‘åˆ°ä¸¤ä¸ªevençš„å’Œå¯¼è‡´debugä¸€ä¸‹åˆï¼ˆå½“ç„¶,å…¶å®æˆ‘åœ¨æ‘¸é±¼ï¼‰</p>
<p>è¿™ä¸ªé¢˜çœ‹é¢˜è§£ä¸­è¯´æ¥ï¼Œè¿˜æŒºæœ‰ä»£è¡¨æ€§çš„ï¼Œè¿ç”¨äº†è‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’ï¼Œå½“ç„¶æˆ‘åšçš„æ—¶å€™æ²¡æ„è¯†åˆ°ã€‚</p>
<pre><code class="go">func rob(root *TreeNode) int {
    a, b := recursion(root)
    return max(a, b)
}

func recursion(root *TreeNode) (odd, even int) {
    if root == nil {
        return 0, 0
    }

    leftOdd, leftEven := recursion(root.Left)
    rightOdd, rightEven := recursion(root.Right)

    odd = leftEven + rightEven + root.Val

    even = max(leftEven, leftOdd) + max(rightEven, rightOdd)

    return odd, even
}

func max(a, b int) int {
    if a &gt; b {
        return a
    }
    return b
}</code></pre>
<p><img src="https://i.loli.net/2020/02/24/hQV3PMeycOqofgv.jpg" alt="Jietu20200224-191757@2x"></p>
<p>ç”¨äº†å¹¿æœï¼Œç©ºé—´æ¢æ—¶é—´ã€‚</p>
<pre><code class="go">func findSecondMinimumValue(root *TreeNode) int {
    queue := make([]*TreeNode,0)
    if root == nil {
        return -1
    }
    queue = append(queue, root)
    res, min := -1, root.Val
    for len(queue) &gt; 0 {
        temp := make([]*TreeNode, 0)
        for _, value := range queue {
            if value == nil {
                continue
            }
            if value.Val &gt; min &amp;&amp; (res == -1 || value.Val &lt; res) {
                    res = value.Val
            }
            temp = append(temp, value.Left)
            temp = append(temp, value.Right)
        }
        queue = temp
    }
    return res
}
</code></pre>
<p><img src alt="Uploading Jietu20200302-200839@2x.jpgâ€¦ (623gq972d)"></p>
<p>å±‚åºéå†æ‰¾åˆ°æ¯å±‚æœ€å³è¾¹çš„èŠ‚ç‚¹ã€‚</p>
<pre><code class="go">func rightSideView(root *TreeNode) []int {
    res := make([]int, 0)
    queue := []*TreeNode{root}
    for len(queue) &gt; 0 {
        temp := make([]*TreeNode, 0)
        var right *TreeNode = nil
        for _, v := range queue {
            if v != nil {
                right = v
                temp = append(temp, v.Left)
                temp = append(temp, v.Right)
            }
        }
        if right != nil {
            res = append(res, right.Val)
        }
        queue = temp
    }
    return res
}</code></pre>
<h3 id="äºŒå‰æ ‘éå†é—®é¢˜"><a href="#äºŒå‰æ ‘éå†é—®é¢˜" class="headerlink" title="äºŒå‰æ ‘éå†é—®é¢˜"></a>äºŒå‰æ ‘éå†é—®é¢˜</h3><p><img src="https://i.loli.net/2020/02/25/FYPdyVCQlgbkEOn.jpg" alt="Jietu20200225-105817@2x"></p>
<p>æ¯”è¾ƒåŸºç¡€çš„é—®é¢˜ï¼Œä½¿ç”¨è¿­ä»£æ³•å®Œæˆå…ˆåºéå†ï¼Œä¸€å¼€å§‹æ²¡æœ‰æƒ³å‡ºæ¥ï¼Œçœ‹äº†ç½‘ä¸Šçš„æ€æƒ³ç„¶åé€šè¿‡goå†™å‡ºæ¥ã€‚</p>
<p>è¿™é‡Œç‰µæ¶‰åˆ°çš„é—®é¢˜ä¸»è¦æ˜¯goæ ‡å‡†åº“contains/Listçš„ä½¿ç”¨ï¼Œåœ¨è¿™ä¸Šé¢èŠ±äº†å¾ˆå¤šæ—¶é—´ï¼Œç¨åå°†å…¶è¡¥å……åœ¨åšå®¢é‡Œé¢ã€‚</p>
<pre><code class="go">func preorderTraversal(root *TreeNode) []int {
    stack := list.New()
    res := make([]int, 0)
    stack.PushBack(root) //push
    for stack.Len() &gt; 0 {
        cur  := stack.Back()
        curValue, _ := cur.Value.(*TreeNode)
        stack.Remove(cur) // pop
        if curValue != nil {
            res = append(res, curValue.Val)
            stack.PushBack(curValue.Right)
            stack.PushBack(curValue.Left)
        }
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/02/25/7CxK8kZmtR4Hpae.jpg" alt="Jietu20200225-164150@2x"></p>
<p>è¿™é“é¢˜æŒºæœ‰æ„æ€çš„ï¼Œåœ¨çº¸ä¸Šç”»äº†ä¸‹å›¾åæˆ‘å‘ç°ååºéå†å°±æ˜¯å€’è¿‡æ¥çš„å‰åºéå†ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå€’è¿‡æ¥åŒ…æ‹¬ä¹Ÿè¦ä»å³èŠ‚ç‚¹å¼€å§‹éå†ã€‚</p>
<pre><code class="go">func postorderTraversal(root *TreeNode) []int {
    stack := list.New()
    res := make([]int, 0)
    stack.PushBack(root) //push
    for stack.Len() &gt; 0 {
        cur  := stack.Back()
        curValue, _ := cur.Value.(*TreeNode)
        stack.Remove(cur) // pop
        if curValue != nil {
            res = append(res, curValue.Val)
            stack.PushBack(curValue.Left)
            stack.PushBack(curValue.Right)
        }
    }
    resInvert := make([]int, len(res))
    for i := range res {
        resInvert[len(res)-1-i] = res[i]
    }
    return resInvert
}</code></pre>
<p><img src="https://i.loli.net/2020/02/25/k8Xiu5QgdAOTCmc.jpg" alt="Jietu20200225-172308@2x"></p>
<p>è„‘è¢‹ä¸å¥½ä½¿ï¼Œæƒ³äº†å¾ˆä¹…æ‰æå‡ºæ¥ï¼Œå…¶å®å°±æ˜¯æŒ‰ç…§ä¸­åºéå†çš„è¿‡ç¨‹èµ°å®Œä¸€éå°±è¡Œäº†ã€‚</p>
<pre><code class="go">func inorderTraversal(root *TreeNode) []int {
    stack := list.New()
    res := make([]int, 0)
    curValue := root
    for stack.Len() &gt; 0 || curValue != nil {

        for curValue != nil {
            stack.PushBack(curValue)
            curValue = curValue.Left
        }
        cur := stack.Back()
        curValue = cur.Value.(*TreeNode)
        stack.Remove(cur) //pop

        res = append(res, curValue.Val)
        curValue = curValue.Right
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/03/01/2qlsdnv9KWUraTA.jpg" alt="Jietu20200301-145110@2x"></p>
<pre><code class="go">func levelOrder(root *TreeNode) [][]int {
    queue := make([]*TreeNode, 0)
    queue = append(queue, root)
    res := make([][]int, 0)
    for len(queue) &gt; 0 {
        temp := make([]*TreeNode, 0)
        content := make([]int, 0)
        for _, value := range queue {
            if value != nil {
                temp = append(temp, value.Left)
                temp = append(temp, value.Right)
                content = append(content, value.Val)
            }
        }
        queue = temp
        if len(content) &gt; 0 {
            res = append(res, content)
        }
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/02/26/NjQCAgVWTxbiE1J.jpg" alt="Jietu20200226-171832@2x"></p>
<p>DFSä¸­åºéå†ï¼Œè®¡æ•°è¾¾åˆ°åå‰ªæ</p>
<pre><code class="go">func kthSmallest(root *TreeNode, k int) int {
    stack := list.New()
    curValue := root
    for curValue != nil || stack.Len() &gt; 0 {
        for curValue != nil {
            stack.PushBack(curValue)
            curValue = curValue.Left
        }
        cur := stack.Back()
        curValue = cur.Value.(*TreeNode)
        stack.Remove(cur)

        k--
        if k == 0 {
            return curValue.Val
        }
        curValue = curValue.Right
    }
    return -1
}</code></pre>
<p><img src="https://i.loli.net/2020/02/26/3xPHA2rj4M9ORny.jpg" alt="Jietu20200226-161328@2x"></p>
<p>é¢˜ç›®ä¸éš¾ï¼Œè¿·æƒ‘çš„ä¸€ç‚¹æ˜¯æœ€å¿«çš„ç®—æ³•å’Œæˆ‘çš„ä»£ç ä¸€æ¨¡ä¸€æ ·ï¼Œæˆ‘12msä»–4msã€‚ã€‚ã€‚</p>
<pre><code class="go">func trimBST(root *TreeNode, L int, R int) *TreeNode {
    if root == nil {
        return nil
    }
    if root.Val &gt; R {
        return trimBST(root.Left, L, R)
    }
    if root.Val &lt; L {
        return trimBST(root.Right, L, R)
    }
    root.Left = trimBST(root.Left, L, R)
    root.Right = trimBST(root.Right, L, R)
    return root
}</code></pre>
<p><img src="https://i.loli.net/2020/02/27/auU9RI3DrtZVjq1.jpg" alt="Jietu20200227-101605@2x"></p>
<p>é€’å½’è§£æ³•ï¼Œåˆ¤æ–­æ¡ä»¶æ¯”è¾ƒé‡è¦ï¼Œå½“ä¸¤ä¸ªå­—èŠ‚ç‚¹æˆ–è€…ä¸€ä¸ªå­—èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹æœ¬èº«å«æœ‰ç›®æ ‡èŠ‚ç‚¹æ—¶ä¸ºç»“æœã€‚</p>
<pre><code class="go">var res *TreeNode
func lowestCommonAncestor(root, p, q *TreeNode) *TreeNode {
    helper(root, p, q)
    return res
}

func helper(root, p, q *TreeNode) bool {
    if root == nil {
        return false
    }
    resLeft := helper(root.Left, p, q)
    resRight := helper(root.Right, p, q)
    curBool := root.Val == p.Val || root.Val == q.Val
    if (resLeft &amp;&amp; resRight) || (resLeft &amp;&amp; curBool) || (resRight &amp;&amp; curBool) || (curBool &amp;&amp; (p.Val == q.Val)) {
        res = root
    }
    if root.Val == p.Val || root.Val == q.Val {
        return true
    }
    return resLeft || resRight
}</code></pre>
<h2 id="stack-amp-queue"><a href="#stack-amp-queue" class="headerlink" title="stack &amp; queue"></a>stack &amp; queue</h2><p><img src="https://i.loli.net/2020/02/25/5synrTmzeF9SPJD.jpg" alt="Jietu20200225-224552@2x"></p>
<p>é¦–å…ˆæˆ‘ä»¬çœ‹åˆ°æ­¤é¢˜åº”è¯¥æƒ³åˆ°ï¼šå¯ä»¥é€†å‘éå†æ•°ç»„æ¥å‡å°‘é‡å¤çš„éå†æ¬¡æ•°ã€‚è¿™é‡Œæä¾›ä¸¤ç§åšæ³•ï¼Œç¬¬ä¸€ç§å°±æ˜¯å¸¸è§„çš„æ–¹æ³•ï¼Œé€šè¿‡ä¾æ¬¡æ¯”è¾ƒå’Œç´¯åŠ è®¡ç®—æ¯ä¸ªä½ç½®çš„ç´¢å¼•å€¼ã€‚ç¬¬äºŒç§æ˜¯ä½¿ç”¨æ ˆï¼Œæ€è·¯è§ä¸‹å›¾ï¼ˆleetcodeå®˜æ–¹é¢˜è§£ï¼‰ï¼š</p>
<p><img src="https://i.loli.net/2020/02/25/UWafsFPRyNpHuGv.jpg" alt="Jietu20200225-231222@2x"></p>
<pre><code class="go">func dailyTemperatures(T []int) []int {
    res := make([]int, len(T))
    for i := range T {
        address := len(T) - 1 - i
        if i == 0 {
            res[len(T)-1] = 0
            continue
        }
        index := 1
        for T[address+index] &lt;= T[address] {
            index += res[address+index]
            if res[address+index] == 0  {
                if  T[address+index] &lt;= T[address] {
                    index = 0
                }
                break
            }
        }
        res[address] = index
    }
    return res
}

func dailyTemperatures2(T []int) []int {
    res := make([]int, len(T))
    var (
        stack = make([]int, len(T))
        top   = 0
    )
    stack[top], top = len(T)-1, 1
    for i := range T {
        invert := len(T) - i - 1
        for top != 0 &amp;&amp; T[stack[top-1]] &lt;= T[invert] {
            top--
        }
        if top != 0 {
            res[invert] = stack[top-1] - invert
        } else {
            res[invert] = 0
        }
        stack[top], top = invert, top+1
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/02/28/f3TB4QlWwqcRjov.jpg" alt="Jietu20200228-224922@2x"></p>
<p>ç”¨æ ˆå°±è¡Œ</p>
<pre><code class="go">func isValid(s string) bool {
    stack := list.New()
    for _, value := range s {
        if stack.Len() == 0 {
            stack.PushBack(byte(value))
            continue
        }
        if value == &#39;(&#39; || value == &#39;{&#39; || value == &#39;[&#39; {
            stack.PushBack(byte(value))
            continue
        }
        prev := stack.Back()
        prevalue := prev.Value.(byte)
        switch value {
            case &#39;}&#39;: 
            if prevalue != &#39;{&#39; {
                return false
            }
            case &#39;)&#39;:
            if prevalue != &#39;(&#39; {
                return false
            }
            case &#39;]&#39;:
            if prevalue != &#39;[&#39; {
                return false
            }
        }
        stack.Remove(prev)
    }
    if stack.Len() != 0 {
        return false
    }
    return true
}</code></pre>
<p><img src="https://i.loli.net/2020/02/27/Q2Ks8mwSLaNE3el.jpg" alt="Jietu20200227-114848@2x"></p>
<p>ä½¿ç”¨äº†æ‰€è°“çš„åˆ†æ”¯é™ç•ŒğŸ˜‚</p>
<pre><code class="go">func findTarget(root *TreeNode, k int) bool {
    m := make(map[int]bool)
    queue := make([]*TreeNode, 0)
    queue = append(queue, root)

    for len(queue) &gt; 0 {
        temp := make([]*TreeNode, 0)
        for _, value := range queue {
            if value != nil {
                if m[k-value.Val] {
                    return true
                }
                m[value.Val]=true
                temp = append(temp, value.Left)
                temp = append(temp, value.Right)
            }
        }
        queue = temp
    }
    return false
}</code></pre>
<h2 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h2><p><img src="https://i.loli.net/2020/02/27/KnvqA2WLyeJ7ax1.jpg" alt="Jietu20200227-155255@2x"></p>
<p>æœ‰ä¸¤ç§åšæ³•ï¼Œæœ¬è´¨ä¸Šæ˜¯å·®ä¸å¤šçš„ï¼Œæ›´æ¨èä½¿ç”¨ç¬¬ä¸€ç§åŒæŒ‡é’ˆï¼Œçœ‹æ³¨é‡Šå³å¯ã€‚<br>ç¬¬äºŒç§ç¨å¾®ç¹çä¸€ç‚¹ï¼Œä½¿ç”¨ä¸€ä¸ªsliceä¿å­˜äº†æ‰€æœ‰çš„å°äºèµ·å§‹é«˜åº¦çš„ï¼Œå½“é‡åˆ°ä¸€ä¸ªå¤§äºè¯¥é«˜åº¦çš„å°±åšè®¡ç®—ï¼Œåˆ°æœ€åå°†æ˜“ä¿å­˜çš„åºåˆ—å€’ç½®è®¡ç®—å³å¯ã€‚</p>
<pre><code class="go">func trap(height []int) int {
    var left, right, leftMax, rightMax, res int
    right = len(height) - 1
    for left &lt; right {
        if height[left] &lt; height[right] {
            if height[left] &gt;= leftMax {
                //è®¾ç½®å·¦è¾¹æœ€é«˜æŸ±å­
                leftMax = height[left]
            } else {
                //å³è¾¹å¿…å®šæœ‰æŸ±å­æŒ¡æ°´ï¼Œæ‰€ä»¥ï¼Œé‡åˆ°æ‰€æœ‰å€¼å°äºç­‰äºleftMaxçš„ï¼Œå…¨éƒ¨åŠ å…¥æ°´æ± 
                res += leftMax - height[left]
            }
            left++
        } else {
            if height[right] &gt; rightMax { 
                //è®¾ç½®å³è¾¹æœ€é«˜æŸ±å­
                rightMax = height[right] 
            } else {
                //å·¦è¾¹å¿…å®šæœ‰æŸ±å­æŒ¡æ°´ï¼Œæ‰€ä»¥ï¼Œé‡åˆ°æ‰€æœ‰å€¼å°äºç­‰äºrightMaxçš„ï¼Œå…¨éƒ¨åŠ å…¥æ°´æ± 
                res += rightMax - height[right] 
            }
            right--
        }
    }
    return res
}

func trap(height []int) int {
    list, rain := make([]int, 0), 0
    list = append(list, 0)
    for _, value := range height {
        list = append(list, value)
        if value &gt;= list[0] {
            if len(list) &gt; 2 {
                rain += calculate(list)
            }
            list = list[len(list)-1:]
        }
    }

    invert := []int{0}
    for i := range list {
        value := list[len(list)-1-i]
        invert = append(invert, value)
        if value &gt;= invert[0] {
            if len(invert) &gt; 2 {
                rain += calculate(invert)
            }
            invert = invert[len(invert)-1:]
        }
    }
    return rain
}

func calculate(height []int) int {
    res := height[0] * (len(height)-2)
    for i:=1; i &lt; len(height)-1; i++ {
        res -= height[i]
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/02/27/gvKOH1U5TMVh6Pi.jpg" alt="Jietu20200227-163617@2x"></p>
<p>åŒæŒ‡é’ˆï¼Œå› ä¸ºé¢ç§¯æ˜¯é€šè¿‡è¾ƒå°çš„é«˜åº¦å†³å®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¯æ¬¡ç§»åŠ¨è¾ƒå°çš„é‚£ä¸ªæŒ‡é’ˆã€‚</p>
<pre><code class="go">func maxArea(height []int) int {
    begin, end := 0, len(height)-1
    res := int(math.Min(float64(height[begin]), float64(height[end])))*(end-begin)
    for begin &lt; end {
        if height[begin] &gt; height[end] {
            end--
            temp := int(math.Min(float64(height[begin]), float64(height[end])))*(end-begin)
            res = int(math.Max(float64(temp), float64(res)))
        }else {
            begin++
            temp := int(math.Min(float64(height[begin]), float64(height[end])))*(end-begin)
            res = int(math.Max(float64(temp), float64(res)))
        }
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/02/27/FnKf3U19GoRP5MX.jpg" alt="Jietu20200227-165035@2x"></p>
<p>åŒæŒ‡é’ˆå¾ˆå¥½åšçš„ã€‚</p>
<pre><code class="go">func twoSum(numbers []int, target int) []int {
    begin, end := 0, len(numbers)-1
    for begin &lt; end {
        if (numbers[begin] + numbers[end]) &gt; target {
            end--
        } else if (numbers[begin] + numbers[end]) &lt; target {
            begin++
        } else {
            break
        }
    }
    return []int{begin+1, end+1}
}
</code></pre>
<p><img src="https://i.loli.net/2020/02/27/6W7ofH2KhAyFLDQ.jpg" alt="Jietu20200227-182539@2x"></p>
<p>ç”±ä¸Šä¸€é“é¢˜å¾—åˆ°çš„çµæ„Ÿï¼Œæ’åº+åŒæŒ‡é’ˆ<br>ç»†èŠ‚é—®é¢˜å¤ªé‡è¦äº†ã€‚</p>
<pre><code class="go">func threeSum(nums []int) [][]int {
    sort.Ints(nums)
    res := make([][]int, 0)
    if len(nums) &lt; 3 {
        return res
    }
    for i, target := range nums {
        if target &gt; 0 {
            return res
        }
        if  i &gt; 0 &amp;&amp; nums[i]==nums[i-1]{
            continue
        }
        begin, end := i+1, len(nums)-1
        for begin &lt; end {
            if (nums[begin] + nums[end]) &gt; -target {
                end--
            } else if (nums[begin] + nums[end]) &lt; -target {
                begin++
            } else {
                temp := []int{target, nums[begin], nums[end]}
                res = append(res, temp)
                for begin &lt; end &amp;&amp; nums[begin]==nums[begin+1] {
                    begin++
                }
                for begin &lt; end &amp;&amp; nums[end]==nums[end-1] {
                    end--
                }
                begin++
                end--
            }
        }
    }
    return res
}</code></pre>
<h2 id="å­—å…¸æ ‘"><a href="#å­—å…¸æ ‘" class="headerlink" title="å­—å…¸æ ‘"></a>å­—å…¸æ ‘</h2><p><img src="https://i.loli.net/2020/02/28/AejVvphG6Q2DHZ1.jpg" alt="Jietu20200228-110008@2x"></p>
<p>âš ï¸ æ®è¯´æ˜¯å­—èŠ‚è·³åŠ¨æœ€å¸¸è€ƒçš„ä¸€é“é¢˜ã€‚</p>
<p>é¦–å…ˆè¿™é“é¢˜æˆ‘ä»¬åº”è¯¥è¦æƒ³åˆ°å°†é—®é¢˜æŠ½è±¡ä¸ºä¸€ä¸ª10å‰çš„å­—å…¸æ ‘ï¼Œå­—å…¸æ ‘ä¸­ä¸¤ä¸ªç›¸é‚»çš„å‰ç¼€é—´æœ‰å¤šå°‘ä¸ªæ•°éœ€è¦æˆ‘ä»¬ä½¿ç”¨getcountå‡½æ•°è®¡ç®—</p>
<pre><code class="go">func getcount(prefix, n int) int {
    cur := prefix
    next := prefix+1
    count := 0
    for cur &lt;= n {
        count += int(math.Min(float64(n+1), float64(next)))-cur 
        //é˜²æ­¢nextå¤§äºnï¼Œè€Œä½¿ç”¨n+1æ˜¯å› ä¸ºè¿™æ ·ç®—å‡ºæ¥çš„æ‰æ˜¯å®é™…ä¸ªæ•°10-13ä¸€å…±æœ‰4ä¸ªï¼Œè€Œä¸ç­‰äº13-10
        cur *= 10
        next *= 10
    }
    return count
}</code></pre>
<p>è‡³äºåˆ¤æ–­kæ˜¯å¦åœ¨å½“å‰å‰ç¼€ä¸­ï¼Œåªéœ€è¦çœ‹countæ˜¯å¦å¤§äºkå³å¯ï¼Œå¦‚æœå¤§äºï¼Œå°±å°†å…¶å¾€åæ¨ä¸€ä½<br><code>profix *= 10</code><br>å¦‚æœä¸åœ¨çš„è¯å°±æŠŠå‰ç¼€å¾€åæ¨ä¸€ä½å³å¯<code>prefix++</code></p>
<pre><code class="go">func findKthNumber(n int, k int) int {
    prefix, p := 1, 1
    for p &lt; k {
        count := getcount(prefix, n)
        if p + count &gt; k {
            prefix *= 10
            p++ //ç®—ä¸Šä¹‹å‰çš„æ ¹èŠ‚ç‚¹
        } else {
            prefix++
            p += count
        }
    }
    return prefix
}

func getcount(prefix, n int) int {
    cur := prefix
    next := prefix+1
    count := 0
    for cur &lt;= n {
        count += int(math.Min(float64(n+1), float64(next)))-cur
        cur *= 10
        next *= 10
    }
    return count
}</code></pre>
<h2 id="bytebounce"><a href="#bytebounce" class="headerlink" title="bytebounce"></a>bytebounce</h2><h3 id="å¥½é¢˜"><a href="#å¥½é¢˜" class="headerlink" title="å¥½é¢˜"></a>å¥½é¢˜</h3><p><img src="https://i.loli.net/2020/02/28/FylOr5osmB76AHY.jpg" alt="Jietu20200228-141855@2x"></p>
<p>è¿™é“é¢˜è™½ç„¶æ ‡çš„æ˜¯easyï¼Œä½†æ˜¯å±å®æœ‰ç‚¹ä¸œè¥¿çš„ã€‚ä¸€å¼€å§‹çœ‹åˆ°è¿™é“é¢˜æˆ‘å°±è§‰å¾—å¯ä»¥ä½¿ç”¨åˆ†æ²»ç®—æ³•ï¼Œåé¢åˆè§‰å¾—åŠ¨æ€è§„åˆ’ä¹Ÿå¯ä»¥ã€‚ç„¶ååœ¨è¯„è®ºåŒºé‡Œçœ‹åˆ°äº†ä¸‹é¢è¿™ä¸ªè§£æ³•ï¼Œè¯´æ˜¯å«è”æœºç®—æ³•ï¼Œåªç”¨éå†ä¸€æ¬¡æ•°ç»„ï¼Œååˆ†ç²¾å¦™å¿«æ·ã€‚</p>
<pre><code class="go">func maxSubArray(nums []int) int {
    if len(nums) == 0 {
        return 0
    }
    sum, max := 0, nums[0]
    for _, value := range nums {
        if sum &lt; 0 {
            sum = 0  //å¦‚æœå‰é¢å‡ ä¸ªæ•°ç»„å…ƒç´ ä¹‹å’Œå°äºé›¶ï¼Œé‚£ä¹ˆæ·»åŠ ä¸Šå»ä¸å¢åå‡ï¼Œå°†sumç½®é›¶é‡æ–°è®¡ç®—ã€‚
        }
        sum += value
        if max &lt; sum {
            max = sum
        }
    }
    return max
}</code></pre>
<p>å®é™…ä¸Šè¿™ä¸ªç®—æ³•å°±æ˜¯å®˜æ–¹é¢˜ä¸­çš„è´ªå¿ƒç®—æ³•ã€‚<br>ä¸‹é¢ç»™å‡ºå®˜æ–¹é¢˜è§£ä¸­çš„åŠ¨æ€è§„åˆ’ç®—æ³•ï¼Œè¯¥ç®—æ³•å¯¹åŸæ•°ç»„åšä¿®æ”¹ã€‚</p>
<pre><code class="go">func maxSubArray(nums []int) int {
    if len(nums) == 0 {
        return 0
    }
    max := nums[0]
    for i:=1; i&lt; len(nums); i++ {
        if nums[i-1] &gt; 0 {
            nums[i] += nums[i-1]
        }
        max = int(math.Max(float64(nums[i]), float64(max)))
    }
    return max
}</code></pre>
<p><img src="https://i.loli.net/2020/02/28/HDpiYAxlmtZGOy7.jpg" alt="Jietu20200228-220632@2x"></p>
<p>ä½¿ç”¨åŒé“¾è¡¨å’Œå“ˆå¸Œè¡¨å®ç°ï¼Œå“ˆå¸Œè¡¨ä¸­å­˜å‚¨åŒé“¾è¡¨çš„èŠ‚ç‚¹ã€‚<br>å…¶ä¸­æœ‰ä¸€ä¸ªåœ°æ–¹æœ‰ä¸€ç‚¹å°ç‘•ç–µï¼Œå°±æ˜¯åœ¨putæ—¶å¯¹äºå·²ç»åˆ é™¤çš„èŠ‚ç‚¹ä¸èƒ½å°†å“ˆå¸Œè¡¨ä¸­å¯¹åº”çš„é¡¹åˆ é™¤ï¼Œåªèƒ½å°†å…¶å€¼ç½®ä¸º-1ï¼Œåœ¨ä½¿ç”¨getå†æ¬¡éå†æ—¶åˆ é™¤</p>
<pre><code class="go">import (
    &quot;container/list&quot;
)

type LRUCache struct {
    content map[int]*list.Element
    capa int
    queue *list.List
}


func Constructor(capacity int) LRUCache {
    return LRUCache{
        content: make(map[int]*list.Element),
        capa: capacity,
        queue: list.New(),
    }
}


func (this *LRUCache) Get(key int) int {
    if this.content[key] != nil {
        value := this.content[key].Value.(int)
        if  value == -1 {
            delete(this.content, key)
        } else {
            this.queue.MoveToBack(this.content[key])
        }
        return value
    }
    return -1
}


func (this *LRUCache) Put(key int, value int)  {
    if this.content[key] != nil &amp;&amp; this.content[key].Value != -1 {
        this.content[key].Value = value
        this.queue.MoveToBack(this.content[key])
    } else {
        if this.capa &gt; 0 {
            this.capa--
            this.content[key]=this.queue.PushBack(value)
        } else {
            temp := this.queue.Front()
            temp.Value = -1
            this.queue.Remove(temp)
            this.content[key] = this.queue.PushBack(value)
        }
    } 
}</code></pre>
<p><img src="https://i.loli.net/2020/02/28/95SgzQaOjVZkyIf.jpg" alt="Jietu20200228-223038@2x"></p>
<p>åç»­å¾€å‰éå†æ‰¾æœ€å¤§å€¼ï¼Œå…¶å®ä»å‰å¾€åç”¨æœ€å°å€¼ä¹Ÿä¸€æ ·ã€‚<br>åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚</p>
<pre><code class="go">func maxProfit(prices []int) int {
    if len(prices) &lt;= 1 {
        return 0
    }
    res, max := 0, prices[len(prices)-1]
    for i:=len(prices)-2; i&gt;=0; i-- {
        temp := max - prices[i]
        if res &lt; temp {
            res = temp
        }
        if prices[i] &gt; max {
            max = prices[i]
        }
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/02/29/YEM5iAD68mzp3en.jpg" alt="Jietu20200229-152257@2x"></p>
<p>è‡ªå·±çŒ›æŠ è„‘å£³æƒ³å‡ºæ¥çš„åŠæ³•ï¼Œæœ€å¤§çš„ä¼˜ç‚¹æ˜¯åªç”¨éå†ä¸€æ¬¡æ•°ç»„ï¼Œç¼ºç‚¹å°±æ˜¯çœ‹èµ·æ¥å°±ä¸å¤Ÿä¼˜é›…ğŸ˜‚<br>ç®€å•ä»‹ç»ä¸‹æ€è·¯ï¼šé¦–å…ˆç³–æœçš„è®¡ç®—å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªæœ‰åºå­æ•°ç»„é—®é¢˜ï¼Œå‡åºå’Œé™åºçš„ç³–æœæ•°éƒ½æ˜¯ä¾æ¬¡é€’å¢æˆ–è€…é€’å‡çš„ï¼Œæ‰€ä»¥æ¯æ¬¡è¿­ä»£æ—¶åŠ ä¸Šåºåˆ—é•¿åº¦å³å¯ã€‚é‡è¦çš„æ˜¯è¾¹ç•Œå€¼çš„è€ƒè™‘ï¼Œå°±æ˜¯ä¸€ä¸ªå‡åºä¹‹åæ˜¯ä¸€ä¸ªæ›´é•¿çš„é™åºï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬å¯¹å‡åºåºåˆ—ä¸­æœ€åä¸€ä¸ªå­©å­çš„ç³–æœè¿›è¡Œæ£€æµ‹ï¼Œå…¶è‡³å°‘è¦æ¯”é™åºä¸­çš„æœ€å¤§å€¼å¤§1.<br>è¿™ä¸ªé¢˜ç›®è¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šçš„è¦ç‚¹åœ¨äºç›¸ç­‰çš„é—®é¢˜åˆ¤æ–­ï¼Œæˆ‘å¤šæ¬¡å‡ºé”™éƒ½æ˜¯å› ä¸ºè¿™ä¸ªï¼Œç›¸ç­‰æ˜¯ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±ä¸éœ€è¦æ»¡è¶³ä¸€å®šè¦å¤§çš„æ¡ä»¶ï¼Œæ‰€ä»¥åœ¨éå†é‡åˆ°ç›¸ç­‰æ—¶ï¼Œéœ€è¦å¯¹ä¹‹å‰å­˜å‚¨çš„å‰ä¸€ä¸ªå‡åºçš„æœ€å¤§å€¼åšä¿®æ”¹ä½¿å…¶ä¸å¿…è¦å†å¢å¤§</p>
<p>åŒæ—¶ä»‹ç»ä¸€ä¸‹è´ªå¿ƒç®—æ³•çš„æ€è·¯ï¼Œå¾ˆç®€å•ï¼Œå·¦è¾¹éå†ä¸€æ¬¡ï¼Œå³è¾¹éå†ä¸€æ¬¡ï¼Œæ¯æ¬¡éƒ½æŒ‰ç…§è§„åˆ™æœ€ä¼˜ï¼Œç„¶åå–ä¸¤æ¬¡éå†æœ€å¤§å€¼ã€‚</p>
<pre><code class="go">func candy(ratings []int) int {
    sum, pre, preSugar, increaselen, decreaselen := 0, -1, 0, 0, 0
    for _, value := range ratings {
        if value &gt; pre &amp;&amp; decreaselen == 0 {
            increaselen++
            sum += increaselen
            pre = value
            preSugar = increaselen
        } else if value &gt; pre &amp;&amp; decreaselen != 0 {
            increaselen, decreaselen = 2, 0
            sum += increaselen
            preSugar = increaselen
            pre = value
        } else if value &lt; pre &amp;&amp; increaselen == 0 {
            decreaselen++
            sum += decreaselen
            if preSugar &lt;= decreaselen {
                sum++
                preSugar++
            }
            pre = value
        } else if value &lt;= pre &amp;&amp; increaselen != 0 {
            increaselen, decreaselen = 0, 1
            sum += decreaselen
            if value == pre {
                preSugar = int(^uint(0) &gt;&gt; 1)
            }
            if preSugar &lt;= decreaselen {
                sum++
                preSugar++
            }
            pre = value
        } else if value == pre &amp;&amp; increaselen == 0 {
            decreaselen = 1
            sum++
            preSugar = int(^uint(0) &gt;&gt; 1)
            pre = value
        }
    }
    return sum
}</code></pre>
<p>è´ªå¿ƒç®—æ³•</p>
<pre><code class="go">// greedy algorithm

func candy(ratings []int) int {
    sum, prev, preSuger := 0, -1, 0
    first := make([]int, len(ratings))
    for i:=0; i&lt;len(ratings); i++ {
        if ratings[i] &gt; prev {
            preSuger++
        } else {
            preSuger=1
        }
        prev = ratings[i]
        first[i]=preSuger
    }
    preSuger, prev = 0, -1
    for i:=len(ratings)-1; i&gt;=0; i-- {
        if ratings[i] &gt; prev {
            preSuger++
        } else {
            preSuger=1
        }
        prev = ratings[i]
        sum += int(math.Max(float64(first[i]), float64(preSuger)))
    }
    return sum
}</code></pre>
<p><img src="https://i.loli.net/2020/03/01/iYgwHaq9CAWy6Or.jpg" alt="Jietu20200301-130735@2x"></p>
<p>å¯ä»¥ç”¨å¿«é€ŸæŸ¥æ‰¾ç®—æ³•ï¼Œä¸‹é¢ç»™å‡ºçš„æ˜¯ä½¿ç”¨container/heapæ ‡å‡†åº“ä¸­çš„æ¥å£ç”¨å°é¡¶å †å®ç°çš„ç®—æ³•ã€‚</p>
<pre><code class="go">type IntHeap []int

func (h IntHeap) Len() int           { return len(h) }
func (h IntHeap) Less(i, j int) bool { return h[i] &lt; h[j] }
func (h IntHeap) Swap(i, j int)      { h[i], h[j] = h[j], h[i] }

func (h *IntHeap) Push(x interface{}) {
    // Push and Pop use pointer receivers because they modify the slice&#39;s length,
    // not just its contents.
    *h = append(*h, x.(int))
}

func (h *IntHeap) Pop() interface{} {
    old := *h
    n := len(old)
    x := old[n-1]
    *h = old[0 : n-1]
    return x
}

func findKthLargest(nums []int, k int) int {
    if len(nums) == 0 {
        return -1
    }
    h := &amp;IntHeap{}
    heap.Init(h)
    for _, value := range nums{
        heap.Push(h, value)
        if h.Len() &gt; k {
            heap.Pop(h)
        }
    }
    return (*h)[0]
}</code></pre>
<p>å¿«é€ŸæŸ¥æ‰¾ç®—æ³•ï¼Œæ„Ÿè§‰æˆ‘å†™çš„å¯èƒ½æœ‰ç‚¹é—®é¢˜ï¼Œä¸‰æ•°å–ä¸­å¯èƒ½æ›´åˆç†ä¸€ç‚¹</p>
<pre><code class="go">func findKthLargest(nums []int, k int) int {
    if len(nums) == 0 {
        return -1
    }
    for {
        res, addr := quicksort(&amp;nums)
        if addr == k-1 {
            return res
        } else if addr &gt; k-1 {
            nums = nums[:addr]
        } else {
            k -= (addr + 1)
            nums = nums[addr+1:]
        }
    }
    return nums[k-1]
}

func quicksort(nums *[]int) (int, int) {
    if len(*nums) == 1 {
        return (*nums)[0], 0
    }
    length := len(*nums)
    begin, end := 0, length-2
    pivot := (*nums)[length-1]
    for {
        for (*nums)[begin] &gt;= pivot &amp;&amp; begin &lt; length-1 {
            begin++
        }
        for (*nums)[end] &lt; pivot &amp;&amp; begin &lt; end {
            end--
        }
        if begin &lt; end {
            (*nums)[begin], (*nums)[end] = (*nums)[end], (*nums)[begin]
        } else {
            break
        }
    }
    if (*nums)[begin] &lt; (*nums)[length-1] {
        (*nums)[begin], (*nums)[length-1] = (*nums)[length-1], (*nums)[begin]
    }
    return (*nums)[begin], begin
}</code></pre>
<p><img src="https://i.loli.net/2020/03/02/hMlBXTaLpoDbw8j.jpg" alt="Jietu20200302-175101@2x"></p>
<p>æ•°å­¦é—®é¢˜ N=k(2x+k-1)/2ï¼Œå› ä¸ºk &lt; 2x+k-1æ‰€ä»¥åªéœ€è¦è¿›è¡Œæ ¹å·Næ¬¡æšä¸¾ï¼ŒåŒæ—¶æœ‰<br><code>(N - i * (i - 1) / 2) % i == 0</code><br>å…³ç³»å¼æˆç«‹ã€‚</p>
<pre><code class="go">func consecutiveNumbersSum(N int) int {
    res := 1
    for i:=2; i&lt;=int(math.Sqrt(float64(2*N))); i++ {
        if (N - i * (i - 1) / 2) % i == 0 {
            res++
        }
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/03/01/LRari9KnT6jdesk.jpg" alt="Jietu20200301-172931@2x"></p>
<p>æ’åºååˆå¹¶</p>
<pre><code class="go">type Interval [][]int

func (inter Interval) Less(i, j int) bool {
    return inter[i][0] &lt; inter[j][0]
}

func (inter Interval) Swap(i, j int) {
    inter[i], inter[j] = inter[j], inter[i]
}

func (inter Interval) Len() int {
    return len(inter)
}

func max(x, y int) int {
    if x &gt; y {
        return x
    }
    return y
}

func merge(intervals [][]int) [][]int {
    sort.Sort(Interval(intervals))
    ans := [][]int{}
    for i := range intervals {
        n := len(ans)
        if n == 0 || intervals[i][0] &gt; ans[n-1][1] {
            ans = append(ans, intervals[i])
        } else {
            ans[n-1][1] = max(ans[n-1][1],intervals[i][1])
        }
    }
    return ans
}</code></pre>
<p><img src="https://i.loli.net/2020/03/02/8KlIOAun5N4kRLo.jpg" alt="Jietu20200302-152050@2x"></p>
<p>æˆ‘çœŸçš„åƒåœ¾çš„å¯ä»¥ï¼Œæ²¡çœ‹å‡ºè¿™å…¶å®æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œåˆæˆ–è€…è¯´æ˜¯åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚<br><a href="https://leetcode-cn.com/problems/climbing-stairs/solution/pa-lou-ti-by-leetcode/" target="_blank" rel="noopener">å®˜æ–¹é¢˜è§£</a>é‡Œæœ‰ä¸¤ä¸ªå¾ˆç‰›é€¼çš„æ–¹æ³•,å¯ä»¥çœ‹ä¸€çœ‹ã€‚</p>
<pre><code class="go">func climbStairs(n int) int {
    pre1, pre2, res := 1, 2, 1
    switch n {
        case 1:
            return 1
        case 2: 
            return 2
        default:
            for count:=3;count&lt;=n;count++ {
                res = pre1 + pre2
                pre1, pre2 = pre2, res
            }
            return res
    }
}</code></pre>
<p><img src="https://i.loli.net/2020/03/02/hZDfW3pCcS6LAks.jpg" alt="Jietu20200302-165024@2x"></p>
<p>å›æº¯æ³•ï¼Œæ³¨æ„appendçš„ä½¿ç”¨ã€‚</p>
<pre><code class="go">//è¿™é‡Œå£°æ˜ä¸€ä¸ªå…¨å±€å˜é‡ç”¨æ¥å­˜å‚¨æ‰€æœ‰çš„æ’åˆ—
var result [][]int 

func permute(nums []int) [][]int {

    //æ¯æ¬¡è°ƒç”¨é‡ç½®resultå…¨å±€å˜é‡ï¼Œé˜²æ­¢ç»“æœç¼“å­˜
    result = make([][]int, 0, 2*len(nums))

    //å½“numsåªæœ‰ä¸€ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ï¼Œç›´æ¥è¿”å›å³å¯
    if len(nums) == 1 {
        result = append(result, nums)
        return result
    }

    //å£°æ˜ä¸€ä¸ªarrå˜é‡ï¼Œç”¨æ¥å­˜å‚¨è·¯å¾„
    arr := make([]int, 0, len(nums))

    arrange(nums, arr)

    return result
}

func arrange(nums []int, arr []int) {

    //å½“numsé•¿åº¦ä¸º0ï¼Œé€‰æ‹©åˆ—è¡¨ä¸ºç©ºï¼Œè·¯å¾„é€‰æ‹©å®Œæ¯•ï¼Œè¿”å›å³å¯
    if len(nums) == 0 {
        return
    }

    //å¾ªç¯å½“å‰çš„é€‰æ‹©åˆ—è¡¨
    for k, v := range nums {
        arr = append(arr, v)

        newArr := make([]int, len(nums)-1)

        copy(newArr[:k], nums[:k])

        if k &lt; len(nums)-1 {
            copy(newArr[k:], nums[k+1:])
        }
        arrange(newArr, arr)
        if len(arr) == cap(arr) {
            path := make([]int, len(arr))
            copy(path, arr)
            result = append(result, path)
        }
        arr = arr[:len(arr)-1]
    }
}</code></pre>
<p><img src="https://i.loli.net/2020/03/03/m5u4xZRCpzgdcWr.jpg" alt="Jietu20200303-163721@2x"></p>
<p>æ— è„‘switchå°±å®Œäº‹äº†ã€‚</p>
<pre><code class="go">func romanToInt(s string) int {
    tags := make([]bool, 3)
    res := 0 
    for _, v := range s {
        switch v {
            case &#39;I&#39;:
                res += 1
                tags[0] = true
            case &#39;V&#39;:
                if tags[0] {
                    res += 3
                } else {
                    res += 5
                }
                tags = make([]bool, 3)
            case &#39;X&#39;:
                if tags[0] {
                    res += 8
                } else {
                    res += 10
                }
                tags = make([]bool, 3)
                tags[1] = true
            case &#39;L&#39;:
                if tags[1] {
                    res += 30
                } else {
                    res += 50
                }
                tags = make([]bool, 3)
            case &#39;C&#39;:
                if tags[1] {
                    res += 80
                } else {
                    res += 100
                }
                tags = make([]bool, 3)
                tags[2] = true
            case &#39;D&#39;:
                if tags[2] {
                    res += 300
                } else {
                    res += 500
                }
                tags = make([]bool, 3)
            case &#39;M&#39;:
                if tags[2] {
                    res += 800
                } else {
                    res += 1000
                }
                tags = make([]bool, 3)
        }
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/03/04/nRp2tw8ez3IKhVB.jpg" alt="Jietu20200304-234417@2x"></p>
<p>å…ˆå¯¹å…¶è¿›è¡Œå› å¼åˆ†è§£ï¼Œè‹¥å…¶å› å­ä¸­å­˜åœ¨å¤§äº10çš„ç´ æ•°ç›´æ¥è¿”å›0<br>ä¹‹åå¯¹å› å­æ’åºåç›´æ¥è®¡ç®—ï¼Œå¦‚æœå¤§äºINTMAX32è¿”å›0</p>
<pre><code class="go">func smallestFactorization(a int) int {
    temp := make([]int, 0)
    if a == 1 {
        return 1
    }
    for a &gt; 1 {
        res, factor := helper(a)
        if factor == 0 {
            return 0
        }
        temp = append(temp,factor)
        a = res
    }

    sort.Ints(temp)
    res := 0
    for _, value := range temp {
        res = res *10 + value
    }
    if res &gt; int(math.MaxInt32) {
        res = 0
    }
    return res
}

func helper(a int) (int, int) {
    for i:=9; i&gt;=2; i-- {
        if a % i == 0 {
            return a/i, i
        }
    }
    return a, 0
}</code></pre>
<h2 id="BFS-and-DFS"><a href="#BFS-and-DFS" class="headerlink" title="BFS and DFS"></a>BFS and DFS</h2><p><img src="https://i.loli.net/2020/03/04/BnhZsbS7mRFXfvK.jpg" alt="Jietu20200304-150346@2x"></p>
<p>è¿™ç§é¢˜ç›®ä¸€èˆ¬éƒ½ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢,æ©˜å­çš„è…çƒ‚è¿‡ç¨‹å’ŒbfsæŒ‰å±‚éå†çš„æƒ…å†µä¸€æ ·ã€‚<br>æˆ‘ä»¬åªéœ€è¦å°†è…çƒ‚çš„æ©˜å­å…¥é˜Ÿå³å¯ã€‚</p>
<pre><code class="go">func orangesRotting(grid [][]int) int {
    if len(grid) == 0 {
        return -1
    }
    length, hight, res := len(grid[0])-1, len(grid)-1, 0
    queue := make([]int, 0)
    numsOne := 0
    for i, row := range grid {
        for j, value := range row {
            if value == 2 {
                queue = append(queue, i*10+j)
            }
            if value == 1 {
                numsOne++
            }
        }
    }
    for len(queue) &gt; 0 &amp;&amp; numsOne &gt; 0 {
        temp := make([]int, 0)
        for _, v := range queue {
            i, j := v/10, v%10
            if i&gt;0 &amp;&amp; grid[i-1][j]==1 {
                grid[i-1][j]=2
                temp = append(temp, (i-1)*10+j)
                numsOne--
            }
            if i&lt;hight &amp;&amp; grid[i+1][j]==1 {
                grid[i+1][j]=2
                temp = append(temp, (i+1)*10+j)
                numsOne--
            }
            if j&gt;0 &amp;&amp; grid[i][j-1]==1 {
                grid[i][j-1]=2
                temp = append(temp, i*10+j-1)
                numsOne--
            }
            if j&lt;length &amp;&amp; grid[i][j+1]==1 {
                grid[i][j+1]=2
                temp = append(temp, i*10+j+1)
                numsOne--
            }
        }
        res++
        queue = temp
    }
    if numsOne &gt; 0 {
        return -1
    }
    return res
}</code></pre>
<h2 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h2><p><img src="https://i.loli.net/2020/03/27/bfgJ7am8G9IZx24.jpg" alt="Jietu20200327-190025@2x"></p>
<p>è´ªå¿ƒç®—æ³•è¿ç»­ä¹°å…¥ã€‚</p>
<pre><code class="go">func maxProfit(prices []int) int {
    if len(prices) &lt; 2 {
        return 0
    }
    res := 0
    for i:=1; i&lt;len(prices); i++ {
        if prices[i] &gt; prices[i-1] {
            res += (prices[i]-prices[i-1])
        }
    }
    return res
}</code></pre>
<p><img src="https://i.loli.net/2020/03/24/sL4yuWXVIk6m7dA.jpg" alt="Jietu20200324-083636@2x"></p>
<p>å…¶ä¸­dp[0]è¡¨ç¤ºæ²¡æœ‰ä½¿ç”¨iï¼Œdp[i]è¡¨ç¤ºä½¿ç”¨äº†iï¼Œå‰©ä¸‹çš„å°±æ¯”è¾ƒæ˜¾è€Œæ˜“è§äº†ã€‚</p>
<pre><code class="go">func massage(nums []int) int {
    n := len(nums)
    if n == 0 {
        return 0
    }
    dp0, dp1 := 0, nums[0]
    for i := 1; i &lt; n; i++ {
        tdp0 := int(math.Max(float64(dp0), float64(dp1)))
        tdp1 := dp0 + nums[i]
        dp0 = tdp0
        dp1 = tdp1
    }
    return int(math.Max(float64(dp0), float64(dp1)))
}</code></pre>
<p><img src="https://i.loli.net/2020/03/24/tBuQdgiJpPonaqK.jpg" alt="Jietu20200324-195316@2x"></p>
<p>éš¾åº¦ä¸å¤§ï¼Œçœ‹ä»£ç ç®€å•æ˜“æ‡‚ã€‚</p>
<pre><code class="go">func minCost(costs [][]int) int {
    if len(costs) == 0 {
        return 0
    }
    min := func (a, b int) int {
        if a &lt; b {
            return a
        }
        return b
    }
    dp0, dp1, dp2 := costs[0][0], costs[0][1], costs[0][2]
    for i:=1; i&lt;len(costs); i++ {
        dp0, dp1, dp2 = min(dp1, dp2)+costs[i][0], min(dp0ï¼Œdp2) + costs[i][1], min(dp0, dp1) + costs[i][2]
    }
    return min(min(dp0, dp1), dp2)
}</code></pre>
<p><img src="https://i.loli.net/2020/03/24/OWMLXkYsfQC7AoF.jpg" alt="Jietu20200324-200722@2x"></p>
<p>é€’æ¨å¼ä¸º<code>dp[i] = min(dp[i-1], dp[i-2]) + cost[i]</code></p>
<pre><code class="go">func minCostClimbingStairs(cost []int) int {
    length := len(cost)
    dp := make([]int, length)
    dp[0], dp[1] = cost[0], cost[1]
    min := func (a, b int) int {
        if a &lt; b {
            return a
        }
        return b
    }
    for i:=2; i&lt;length; i++ {
        dp[i] = min(dp[i-1], dp[i-2]) + cost[i]
    }
    return min(dp[length-1], dp[length-2])
}</code></pre>
<p><img src="https://i.loli.net/2020/03/24/8H2YtrTGZCAK36k.jpg" alt="Jietu20200324-201601@2x"></p>
<p>è¿™ä¸ªå’Œä¹‹å‰çš„é‚£ä¸ªæŒ‰æ‘©å¸ˆä¸€æ ·çš„é€’æ¨å…³ç³»ã€‚dp0ä¸ºæœªä½¿ç”¨ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œdp1ä¸ºä½¿ç”¨è¿‡ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
<pre><code class="go">func rob(nums []int) int {
    length := len(nums)
    if length == 0 {
        return 0
    }
    if length == 1 {
        return nums[0]
    }
    dp0, dp1 := nums[0], nums[1]
    max := func (a, b int) int {
        if a &gt; b {
            return a
        }
        return b
    }
    for i:=2; i&lt;length; i++ {
        dp0, dp1 = max(dp0, dp1), dp0+nums[i]
    }
    return max(dp0, dp1)
}</code></pre>
<h2 id="database"><a href="#database" class="headerlink" title="database"></a>database</h2><p><img src="https://i.loli.net/2020/02/20/xcukbpvf4sZdSRA.jpg" alt="Jietu20200220-183400@2x"></p>
<p>æ­¤é¢˜è§£æ³•ç”šå±Œï¼Œæˆ‘ä¹‹å‰å¹¶ä¸çŸ¥é“sqlå¯ä»¥è¿™æ ·æ“ä½œã€‚ä¹‹å‰çœ‹çš„å¤ªç¬¼ç»Ÿï¼Œéœ€è¦é‡æ–°çœ‹ä¸€ä¸‹ç±»å‹éƒ¨åˆ†ã€‚</p>
<pre><code class="sql">UPDATE salary SET sex = CHAR ( ASCII(sex) ^ ASCII( &#39;m&#39; ) ^ ASCII( &#39;f&#39; ) );
# ä¸¤ç®±ç­‰æ•°å¼‚æˆ–ä¸º0ï¼Œ0å¼‚æˆ–ä»»ä½•æ•°ä¸ºä»»ä½•æ•°
update salary set sex = char(ascii(&#39;m&#39;) + ascii(&#39;f&#39;) - ascii(&#39;sex&#39;))
# è¿™ä¸ªæ–¹æ³•æ›´å¥½ç†è§£ä¸€äº›</code></pre>
<p><img src="https://i.loli.net/2020/02/20/MFixYWujRsDfIvp.jpg" alt="Jietu20200220-185845@2x"></p>
<p>è¿™ä¸ªé¢˜æ²¡å•¥éš¾çš„ï¼Œé‡è¦çš„æ˜¯æˆ‘å‘ç°sqlè¯­å¥åˆ†å¼€å†™æ¯”å†™æˆä¸€è¡Œæ›´æœ‰æ•ˆç‡ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯leetcodeçš„åŸå› ã€‚</p>
<pre><code class="sql">select * from cinema 
where description != &quot;boring&quot; 
and id % 2 = 1 
order by rating desc;</code></pre>
<p><img src="https://i.loli.net/2020/02/20/7vfYjog2dxmwH3D.jpg" alt="Jietu20200220-190736@2x"></p>
<p>è¿™ä¸ªé¢˜æœ‰ç‚¹é—¨é“ï¼Œéœ€è¦group byçš„ä½¿ç”¨ï¼Œé€šè¿‡å°†å…¶åˆ†ç±»ç„¶åè°ƒç”¨countå‡½æ•°ï¼Œdistinctå…³é”®å­—ä¼šä½¿studentä¸èƒ½é‡å¤ã€‚æ³¨æ„ç¬”è®°ä¸­çš„æ‰§è¡Œé¡ºåºselect â€“&gt;where â€“&gt; group byâ€“&gt; havingâ€“&gt;order by</p>
<pre><code class="sql">select class
from courses
group by class
having count(distinct student) &gt;= 5;</code></pre>
<p><img src="https://i.loli.net/2020/02/20/isAXy6vWo8VPYlx.jpg" alt="Jietu20200220-214303@2x"></p>
<pre><code class="sql">DELETE p1
FROM
    Person p1,
    Person p2
WHERE
    p1.Email = p2.Email
    AND p1.Id &gt; p2.Id

# solution 2
DELETE
FROM
    Person
WHERE
    id NOT IN (
        SELECT id 
        FROM ( 
            SELECT min( id ) AS id 
            FROM Person
            GROUP BY email
        ) AS m
    );</code></pre>
<p><img src="https://i.loli.net/2020/02/20/ExdtpZNjvJH2smS.jpg" alt="Jietu20200220-215513@2x"></p>
<p>å› ä¸ºä¸ç®¡addressè¡¨ä¸­æ˜¯å¦å«æœ‰åœ°å€éƒ½è¦è¿›è¡Œæ˜¾ç¤ºï¼Œæ‰€ä»¥åº”è¯¥ä½¿ç”¨å·¦å¤–é“¾æ¥ã€‚</p>
<pre><code class="sql">select a.FirstName, a.LastName, b.City, b.State
from Person a left join Address b
on a.PersonId = b.PersonId;</code></pre>
<p><img src="https://i.loli.net/2020/02/20/qWrjCe9pKDJkgGV.jpg" alt="Jietu20200220-221009@2x"></p>
<pre><code class="sql">select a.Name as Employee
from Employee a, Employee b
where a.ManagerId = b.Id and a.Salary &gt; b.Salary;

SELECT
    E1.NAME AS Employee
FROM
    Employee E1
    INNER JOIN Employee E2
    ON E1.ManagerId = E2.Id
    AND E1.Salary &gt; E2.Salary;</code></pre>
<p><img src="https://i.loli.net/2020/02/20/zw9TJQHgRfrScDN.jpg" alt="Jietu20200220-221907@2x"></p>
<pre><code class="sql">select Name as Customers
from Customers
where Id not in (
    select CustomerId
    from Orders
)

# left join
SELECT
    C.Name AS Customers
FROM
    Customers C
    LEFT JOIN Orders O
    ON C.Id = O.CustomerId
WHERE
    O.CustomerId IS NULL;</code></pre>
<p><img src="https://i.loli.net/2020/02/20/3UyTJ2OhtmLAE4j.jpg" alt="Jietu20200220-224922@2x"></p>
<p>è¿™ä¸ªé¢˜ç›¸å¯¹äºä¹‹å‰çš„æœ‰ä¸€äº›éš¾åº¦ï¼Œé¦–å…ˆæˆ‘ä»¬åº”å½“ä»Employeeè¡¨ä¸­æ‰¾å‡ºå„éƒ¨é—¨å·¥èµ„æœ€é«˜çš„äºº</p>
<pre><code class="sql">select DepartmentId, max(Salary)
from Employee
group by DepartmentId</code></pre>
<p>ç„¶åå†å°†ä¸¤ä¸ªè¡¨è¿æ¥å³å¯</p>
<pre><code class="sql">SELECT
    Department.name AS &#39;Department&#39;,
    Employee.name AS &#39;Employee&#39;,
    Salary
FROM
    Employee
        JOIN
    Department ON Employee.DepartmentId = Department.Id
WHERE
    (Employee.DepartmentId , Salary) IN
    (   SELECT
            DepartmentId, MAX(Salary)
        FROM
            Employee
        GROUP BY DepartmentId
    ) # é”å®šéƒ¨é—¨æœ€é«˜è–ªæ°´çš„äºº
;</code></pre>
<p><img src="https://i.loli.net/2020/02/21/pS7KWsBgtVH2ADE.jpg" alt="Jietu20200221-123634@2x"></p>
<p>è¿™é“é¢˜è¿˜æ˜¯æœ‰äº›æŠ€å·§çš„ï¼ŒæŸ¥æ‰¾ç¬¬äºŒé«˜çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹æ³•ï¼šä¸€ä¸ªæ˜¯ä½¿ç”¨å­æŸ¥æ‰¾ï¼Œé¦–å…ˆæ‰¾å‡ºç¬¬ä¸€é«˜çš„ï¼Œç„¶ååœ¨æŸ¥æ‰¾å°äºç¬¬ä¸€é«˜çš„ï¼›ç¬¬äºŒç§æ˜¯ä½¿ç”¨limitå’Œoffsetï¼Œå¯¹æ•°æ®åšæŒ‘é€‰ã€‚</p>
<p>è¿™ä¸ªé¢˜çš„ç¬¬äºŒä¸ªå…³é”®ç‚¹åœ¨äºæ²¡æœ‰æ•°æ®æ—¶è¿”å›nullã€‚<br>âš ï¸<strong>éœ€è¦æ³¨æ„çš„æ˜¯åœ¨sqlä¸­ç©ºå€¼å’Œnullå¹¶ä¸ç›¸åŒã€‚</strong><br>è¿™æ—¶çš„å¤„ç†å°±éœ€è¦ifnullå‡½æ•°ï¼Œifnull(a, b)ï¼Œå¦‚æœaä¸ºç©ºå€¼åˆ™è¿”å›b</p>
<p>è¿™é‡Œåªå†™å‡ºç¬¬äºŒç§æ–¹æ³•çš„ä»£ç </p>
<pre><code class="sql">select ifnull(
    (select distinct Salary from Eeployee 
    order by Salary desc
    limit 1, 1), null
) as SecondHighestSalary;</code></pre>
<p><img src="https://i.loli.net/2020/02/21/dp786wYMy3vxmcX.jpg" alt="Jietu20200221-142547@2x"></p>
<p>è¿™ä¸ªé¢˜çš„å…³é”®åœ¨äºæ„é€ å‡½æ•°ï¼Œåº”å½“æ³¨æ„çš„ä¸€ç‚¹åœ¨äºï¼Œé¦–å…ˆlimitè¯­å¥ä¸­ä¸èƒ½è®¡ç®—ï¼Œæ‰€ä»¥é¦–å…ˆè¦å¯¹è¾“å…¥åšå¤„ç†æ‰è¡Œã€‚å…¶æ¬¡å°±æ˜¯å·¥èµ„æ˜¯ä¸èƒ½é‡å¤çš„ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨distinctè¯­å¥ã€‚</p>
<pre><code class="sql">CREATE FUNCTION getNthHighestSalary(N INT) RETURNS INT

BEGIN
set N = N -1;
  RETURN (
      # Write your MySQL query statement below.
      select ifnull(
          (
              select distinct Salary
              from Employee
              order by Salary limit N, 1
          ), null
      )
  );
END</code></pre>
<p><img src="https://i.loli.net/2020/02/22/RjGfKZo1xaO5Srz.jpg" alt="Jietu20200222-150155@2x"></p>
<p>é¦–å…ˆè¿™ä¸ªé¢˜ç›®ä¸å¤ªä¸¥è°¨ï¼Œæ²¡æœ‰è¯´æ˜idæ˜¯å”¯ä¸€çš„ã€‚åšæ³•ä¹‹ä¸€æ˜¯æŒ‰ç…§idè¿›è¡Œè®¡ç®—ï¼Œä»ä¸‰ä¸ªè¡¨ä¸­æ‰¾åˆ°éœ€è¦çš„å€¼ã€‚</p>
<pre><code class="sql">select distinct l3.Num
from Logs l1, Logs l2, Logs l3
where l1.Id = l2.Id-1 and l2.id = l3.id-1 and l1.num=l2.num and l2.num= l3.num
</code></pre>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title>a tour of go</title>
    <url>/blog/2020/02/05/a-tour-of-go/</url>
    <content><![CDATA[<p>Notes about a tour of go.</p>
<a id="more"></a>

<h2 id="åŒ…"><a href="#åŒ…" class="headerlink" title="åŒ…"></a>åŒ…</h2><p>æ¯ä¸ªGoç¨‹åºéƒ½æ˜¯ç”±åŒ…ç»„æˆçš„ï¼Œç¨‹åºä»mainåŒ…å¼€å§‹ã€‚</p>
<p>æ‰€ä»¥æ¯ä¸ªåŒ…ä¸­çš„æœ€å¼€å§‹ä¸€ä¸ªè¯­å¥éƒ½åº”è¯¥æ˜¯package xxxã€‚</p>
<p>ä¸‹é¢çš„ç¨‹åºå¯¼å…¥äº†â€œfmtâ€å’Œâ€œmath/randâ€ä¸¤ä¸ªåŒ…ï¼ŒæŒ‰ç…§çº¦å®šï¼ŒåŒ…ååº”å½“ä¸å¯¼å…¥è·¯å¾„çš„æœ€åä¸€ä¸ªå…ƒç´ ä¸€è‡´</p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
    &quot;math/rand&quot;
)

func main() {
    fmt.Println(&quot;a num&quot;,rand.Intn(10))
}
</code></pre>
<p>ä»£ç ä¸­ä½¿ç”¨çš„å¯¼å…¥æ˜¯åˆ†ç»„è¿›è¡Œçš„ï¼Œä¹Ÿå¯ä»¥ä¸€ä¸ªä¸€ä¸ªå¯¼å…¥ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒrandåŒ…ä¸­çš„æ–¹æ³•Intnæ˜¯ä»¥Iå¼€å¤´ï¼Œgoä¸­çº¦å®šä»¥å¤§å†™å­—æ¯å¼€å¤´çš„æ˜¯å·²ç»å¯¼å‡ºçš„ï¼Œ<strong>åœ¨å¯¼å…¥ä¸€ä¸ªåŒ…æ—¶ï¼Œåªå¯ä»¥ä½¿ç”¨å·²ç»å¯¼å‡ºçš„åå­—</strong>ï¼Œæœªå¯¼å‡ºçš„åå­—ä¸å¯ä»¥åœ¨è¯¥åŒ…å¤–è®¿é—®</p>
<blockquote>
<p>è¿™åº”è¯¥ç±»ä¼¼goä¸­çš„ä¸€ç§å°è£…</p>
</blockquote>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>å‡½æ•°å¯ä»¥æ²¡æœ‰å‚æ•°ï¼ˆå¦‚mainå‡½æ•°ï¼‰æˆ–è€…æœ‰å¤šä¸ªå‚æ•°</p>
<pre><code class="go">package main
import &quot;fmt&quot;
func add(x int, y int) int {
    return x + y
}

func main() {
    fmt.Println(add(42, 13))
}
</code></pre>
<blockquote>
<p>å…¶å‡½æ•°çš„å£°æ˜å½¢å¼ä¹Ÿå’Œrustæœ‰äº›ç±»ä¼¼ï¼Œé¦–å…ˆå°±æ˜¯ç±»å‹æ”¾åœ¨åé¢ï¼Œè¿”å›å€¼çš„å½¢å¼ä¹Ÿå¾ˆç±»ä¼¼</p>
</blockquote>
<p>å¦‚æœå¤šä¸ªå½¢å‚çš„ç±»å‹ç›¸åŒï¼Œå¯ä»¥åªå†™æœ€åä¸€ä¸ªã€‚</p>
<p>å‡½æ•°å¯ä»¥è¿”å›<strong>ä»»æ„æ•°é‡</strong>çš„è¿”å›å€¼ã€‚</p>
<pre><code class="go">package main
import &quot;fmt&quot;

func swap(x, y string) (string, string ) {
    return y, x
}

func main() {
    a,b := swap(&quot;hello&quot;,&quot;world&quot;)
    fmt.Println(a, b)
}</code></pre>
<p>goçš„è¿”å›å€¼å¯ä»¥å‘½åï¼Œä¼šè¢«<em>è§†ä½œå®šä¹‰åœ¨å‡½æ•°é¡¶éƒ¨çš„å˜é‡</em>ï¼Œæ²¡æœ‰å‚æ•°çš„returnä¼šè¿”å›å·²ç»å‘½åçš„è¿”å›å€¼</p>
<blockquote>
<p>è¿”å›å€¼çš„å‘½ååº”å½“æœ‰æ„ä¹‰ï¼Œå› ä¸ºå¯ä»¥ä½œä¸ºæ–‡æ¡£ç”Ÿæˆã€‚ç›´æ¥è¿”å›æ–¹å¼ä¹Ÿåº”å½“è¿ç”¨åœ¨çŸ­å‡½æ•°ä¸­ä»¥é˜²å½±å“å¯è¯»æ€§</p>
</blockquote>
<pre><code class="go">func split(sum int) (x, y int) {
    x = sum * 4 / 9
    y = sum -x
    return
}</code></pre>
<h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><p>varè¯­å¥ç”¨äºå£°æ˜ä¸€ä¸ªå˜é‡åˆ—è¡¨ï¼Œå’Œå‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¸€æ ·ï¼Œç±»å‹åœ¨æœ€åã€‚<br>varè¯­å¥å¯ä»¥é™¤åƒåœ¨åŒ…æˆ–è€…å‡½æ•°çº§åˆ«ã€‚<br>å˜é‡å£°æ˜å¯ä»¥åŒ…å«åˆå§‹å€¼ï¼Œå¦‚æœåˆå§‹åŒ–å€¼å·²ç»å­˜åœ¨ï¼Œå¯ä»¥å¿½ç•¥ç±»å‹ï¼Œè¿™ç‚¹å’Œrustä¸€è‡´</p>
<p><strong>å‡½æ•°ä¸­</strong>ï¼Œç®€æ˜çš„èµ‹å€¼è¯­å¥ï¼š=å¯ä»¥åœ¨<strong>ç±»å‹æ˜ç¡®</strong>çš„åœ°æ–¹æ›¿ä»£var</p>
<p><strong>å‡½æ•°å¤–çš„æ¯ä¸ªè¯­å¥éƒ½å¿…é¡»ä»¥å…³é”®å­—å¼€å§‹</strong>ï¼Œå› æ­¤ï¼š=ä¸å¯ä»¥åœ¨å‡½æ•°å¤–ä½¿ç”¨</p>
<p>goçš„åŸºæœ¬ç±»å‹å’Œå¤§å¤šæ•°è¯­è¨€ä¸€è‡´ï¼Œé™¤äº†å¤æ•°complexï¼Œé™¤æ­¤ä¹‹å¤–å˜é‡å£°æ˜ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ†ç»„æˆä¸€ä¸ªè¯­æ³•å—</p>
<pre><code class="go">import &quot;math/cmplx&quot;

var (
    Tobe bool = false
    MaxInt uint64 = 1&lt;&lt;64 - 1
    z complex128 = cmplx.Sqrt(-5 + 2i)
)</code></pre>
<p>æ²¡æœ‰å£°æ˜åˆå§‹å€¼çš„å˜é‡ä¼šè¢«è‡ªåŠ¨èµ‹ä¸ºé›¶å€¼ï¼Œæ•°å€¼ç±»å‹ä¸º0ï¼Œå¸ƒå°”ç±»å‹ä¸ºfalseï¼Œå­—ç¬¦ä¸²ä¸ºç©ºå­—ç¬¦ä¸²</p>
<p><strong>ç±»å‹è½¬æ¢</strong>ï¼šè¡¨è¾¾å¼Tï¼ˆvï¼‰å°†å€¼vè½¬æ¢ä¸ºç±»å‹T<br>ä¸Cè¯­è¨€ä¸åŒï¼ŒGoåœ¨ä¸åŒç±»å‹ä¹‹é—´èµ‹å€¼å¿…é¡»è¿›è¡Œæ˜¾å¼çš„ç±»å‹è½¬æ¢ã€‚</p>
<p>åŒrustä¸€æ ·ï¼Œåœ¨æœªç”Ÿå‘½ç±»å‹æ—¶goä¼šè¿›è¡Œå¯¹å˜é‡çš„ç±»å‹æ¨å¯¼</p>
<p>ç®€æ˜çš„å£°æ˜æ–¹å¼ä¸å¯ä»¥æŒ‡å®šå˜é‡çš„ç±»å‹ã€‚</p>
<p>å¸¸é‡çš„å£°æ˜ä¸å˜é‡ç±»ä¼¼ï¼Œåªæ˜¯varè¯­å¥æ¢æˆconstï¼Œè€Œä¸”ä¸å¯ä»¥ä½¿ç”¨ï¼š=<br>ä¸€ä¸ªæœªæŒ‡å®šç±»å‹çš„å¸¸é‡ç”±ä¸Šä¸‹æ–‡æ¥å†³å®šå…¶ç±»å‹ã€‚</p>
<h2 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h2><p>Goåªæœ‰ä¸€ç§å¾ªç¯ç»“æ„<strong>forå¾ªç¯</strong></p>
<pre><code class="go">for i := 0; i &lt; 10 ; i++ {
    sum +=i
}</code></pre>
<p>å’Œå…¶ä»–è¯­è¨€å¯èƒ½æœ‰æ‰€ä¸åŒï¼Œgoçš„å¾ªç¯åˆå§‹åŒ–ã€æ¡ä»¶ä»¥åŠåç½®çš„æ›´æ–°è¯­å¥å¯ä»¥ä¸å¸¦æ‹¬å·ï¼Œä½†æ˜¯åé¢çš„èŠ±æ‹¬å·æ˜¯å¿…é¡»çš„ã€‚</p>
<blockquote>
<p>åˆå§‹åŒ–å’Œåç½®è¯­å¥æ˜¯å¯é€‰çš„</p>
</blockquote>
<pre><code class="go">for ; sum &lt; 1000 ; {
    sum += sum
}</code></pre>
<p>ä¸Šè¿°çš„ç»“æ„ä¸­ä¹Ÿå¯ä»¥æŠŠæ‹¬å·å»æ‰ï¼Œå› ä¸ºåœ¨goä¸­ï¼Œwhileå«åšforã€‚çœç•¥å¾ªç¯æ¡ä»¶å¯ä»¥å®ç°æ— é™å¾ªç¯ã€‚</p>
<p>ifè¯­å¥å’Œrustä¸­çš„ä¹Ÿä¸€è‡´ï¼Œå³æ— éœ€å°æ‹¬å·å¤§æ‹¬å·æ˜¯å¿…é¡»çš„ã€‚<br>åŒforè¯­è¨€ä¸€æ ·ï¼Œifè¯­å¥å¯ä»¥åœ¨æ¡ä»¶è¡¨è¾¾å¼ä¹‹å‰æ‰§è¡Œä¸€ä¸ªç®€å•çš„è¯­å¥ï¼Œå˜é‡çš„ä½œç”¨åŸŸæ˜¯ifä¹‹å†…</p>
<pre><code class="go">if v := math.Pow(x, n); v &lt; lim {
    return v
}</code></pre>
<h3 id="swich-case"><a href="#swich-case" class="headerlink" title="swich-case"></a>swich-case</h3><p>å¯¹äºGoè€Œè¨€switchè¯­å¥æ•´ä½“å’Œcç›¸ä¼¼ï¼Œä¸è¿‡Goåªè¿è¡Œç‰¹å®šçš„caseè€Œä¸æ˜¯ä¹‹åæ‰€æœ‰çš„caseï¼Œé™¤éä»¥fallthroughè¯­å¥ç»“æŸï¼Œå¦åˆ™åˆ†æ”¯ä¼šè‡ªåŠ¨åœæ­¢ã€‚</p>
<p>Goçš„å¦ä¸€ä¸ªé‡ç‚¹åœ¨äºswithçš„caceæ— éœ€ä¸ºå¸¸æ•°è€Œä¸”ä¹Ÿä¸å¿…è¦å–å€¼ä¸ºæ•´æ•°ã€‚</p>
<pre><code class="go">import {
    &quot;fmt&quot;
    &quot;runtime&quot;
}

func main() {
    fmt.Print(:&quot;Go runs on &quot;)
    switch os := runtime.GOOS; os {
        case &quot;darwin&quot;:
            fmt.Println(&quot;macOs&quot;)
        case &quot;linux&quot;:
            fmt.Println(&quot;Linux&quot;)
        default:
            fmt.Println(&quot;%s\n&quot;, os)
    }
}
</code></pre>
<p>switchè¯­å¥æ±‚å€¼é¡ºåºä¸ºä»ä¸Šåˆ°ä¸‹ï¼Œæ²¡æœ‰æ¡ä»¶çš„switchè¯­å¥å’Œswitch trueä¸€æ ·ï¼Œè¿™æ ·å¯ä»¥æŠŠif-elseè¯­å¥å†™çš„æ›´åŠ ç¾è§‚ã€‚</p>
<pre><code class="go">import {
    &quot;fmt&quot;
    &quot;time&quot;
}

func main {
    t := time.Now()
    switch {
        case t.Hour() &lt; 12 :
            fmt.Println(&quot;good morning&quot;)
    }
}</code></pre>
<p><strong>defer</strong>: deferè¯­å¥ä¼šå°†å‡½æ•°æ¨è¿Ÿåˆ°å¤–å±‚å‡½æ•°è¿”å›å€¼æ‰§è¡Œï¼Œdeferä¿®é¥°çš„å‡½æ•°çš„å‚æ•°ä¼šç«‹å³æ±‚å€¼ï¼Œä½†æ˜¯çŸ¥é“å¤–å±‚å‡½æ•°è¿”å›æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚</p>
<p>deferä¿®é¥°çš„è¯­å¥ä¼šå‹å…¥ä¸€ä¸ªæ ˆä¸­ï¼Œå…ˆè¿›åå‡ºçš„å½¢å¼è¿›è¡Œè°ƒç”¨</p>
<pre><code class="go">package main

import &quot;fmt&quot;

func main() {
    defer fmt.Println(&quot;world&quot;)

    fmt.Println(&quot;hello&quot;)
}</code></pre>
<h2 id="æŒ‡é’ˆ"><a href="#æŒ‡é’ˆ" class="headerlink" title="æŒ‡é’ˆ"></a>æŒ‡é’ˆ</h2><p>Goè¯­è¨€æ‹¥æœ‰æŒ‡é’ˆï¼ŒæŒ‡é’ˆä¿å­˜äº†å†…å­˜åœ°å€ã€‚</p>
<p>ç±»å‹<em>Tæ˜¯ä¸€ä¸ªæŒ‡å‘ç±»å‹Tçš„æŒ‡é’ˆ,æŒ‡é’ˆçš„é›¶å€¼ä¸ºnil<br>&amp;æ“ä½œç¬¦å¯ä»¥å–æŒ‡é’ˆï¼Œè€Œ</em>æ“ä½œç¬¦å¯ä»¥è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„å€¼ã€‚<br>Goæ²¡æœ‰æŒ‡é’ˆè¿ç®—</p>
<pre><code class="go">var t *int
v := 42
p := &amp;v
*p = 20</code></pre>
<h2 id="ç»“æ„ä½“"><a href="#ç»“æ„ä½“" class="headerlink" title="ç»“æ„ä½“"></a>ç»“æ„ä½“</h2><p>ç»“æ„ä½“ï¼ˆstructï¼‰å°±æ˜¯ä¸€ç»„å­—æ®µï¼ˆfieldï¼‰</p>
<p>ç»“æ„ä½“æœ‰ä¸¤ç§è®¿é—®æ–¹å¼</p>
<ol>
<li>ç‚¹å·è®¿é—®</li>
<li>ç»“æ„ä½“æŒ‡é’ˆè®¿é—®ï¼Œpä¸ºæŒ‡å‘ç»“æ„é¢˜çš„æŒ‡é’ˆï¼Œåˆ™å¯ä»¥ä½¿ç”¨ï¼ˆ*p).xè®¿é—®å…¶ä¸­å…ƒç´ ï¼Œå½“ç„¶è¿™æ ·å†™æœ‰ç‚¹éº»çƒ¦ï¼ŒGoå…è®¸éšå¼çš„é—´æ¥å¼•ç”¨ï¼Œå³p.x</li>
</ol>
<pre><code class="go">type vertex struct {
    x int
    y int
}

func main() {
    fmt.Println(vertex{1, 2})
    v := Vertex{1, 2}
    p := &amp;v
    p.X = 1e9 //goè¯­è¨€å¯ä»¥ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºæ•°
    fmt.Println(v)
}</code></pre>
<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><p>ã€nã€‘Tè¡¨ç¤ºnä¸ªTç±»å‹å…ƒç´ çš„æ•°ç»„ï¼Œå…¶ä¸­æ•°ç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„<br><code>var array [n]int</code></p>
<p>æ¯ä¸ªæ•°ç»„çš„å¤§å°éƒ½æ˜¯å›ºå®šçš„ï¼Œgoæä¾›sliceï¼ˆåˆ‡ç‰‡ï¼‰æ¥å¯¹æ•°ç»„è¿›è¡ŒåŠ¨æ€çš„è®¿é—®ã€‚</p>
<p>[ ]Tè¡¨ç¤ºTç±»å‹çš„åˆ‡ç‰‡ï¼Œåˆ‡ç‰‡éœ€è¦æŒ‡å®šä¸Šä¸‹ç•Œæ¥è·å¾—å¯¹æ•°ç»„çš„ä¸€ä¸ªåŠå¼€åŒºé—´çš„è®¿é—®ï¼Œå®ƒåŒ…æ‹¬ä¸‹ç•Œè€Œä¸åŒ…æ‹¬ä¸Šç•Œ</p>
<pre><code class="go">package main

import &quot;fmt&quot;

func main() {
    array := [6]{2, 3, 5, 7, 11, 13}
    var s []int = array[1:4]
}</code></pre>
<p>åˆ‡ç‰‡å¹¶ä¸å‚¨å­˜ä»»ä½•æ•°æ®ï¼Œä»–å¯ä»¥çœ‹ä½œæ˜¯æ•°ç»„çš„å¼•ç”¨ï¼Œå½“æ”¹å˜åˆ‡ç‰‡çš„å€¼æ—¶ï¼Œåº•å±‚çš„æ•°ç»„å…ƒç´ ä¹Ÿä¼šè¢«æ”¹å˜ã€‚</p>
<p>åˆ‡ç‰‡æ–‡æ³•ç±»ä¼¼äºæ²¡æœ‰å£°æ˜æ•°ç»„é•¿åº¦çš„æ•°ç»„æ–‡æ³•<br><code>[]T {}</code><br>ä¼šåˆ›å»ºä¸€ä¸ªæ•°ç»„ç„¶åæ„å»ºä¸€ä¸ªå®ƒçš„å¼•ç”¨ï¼Œæ­¤æ—¶è¯¥æ•°ç»„æ˜¯åŒ¿åçš„ã€‚</p>
<p>åˆ‡ç‰‡çš„ä¸Šä¸‹ç•Œå…·æœ‰é»˜è®¤å€¼ï¼Œä¸Šç•Œé»˜è®¤ä¸ºæ•°ç»„é•¿åº¦åŠ ä¸€ï¼Œä¸‹ç•Œä¸º0</p>
<pre><code class="go">var a [10]int

a[0:10]
a[0:]
a[:10]
a[:]
//å¯¹äºä¸Šè¿°æ•°ç»„æ¥è¯´ï¼Œè¿™äº›åˆ‡ç‰‡æ˜¯ç›¸åŒçš„</code></pre>
<p>åˆ‡ç‰‡æœ‰é•¿åº¦å’Œå®¹é‡ä¸¤ä¸ªå±æ€§ï¼Œåˆ‡ç‰‡sçš„é•¿åº¦å’Œå®¹é‡å¯ä»¥é€šè¿‡len(s), cap(s)æ¥è®¿é—®<br>å¯¹äºä¸€ä¸ªåˆ‡ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‡æ–°åˆ‡ç‰‡æ¥è·å¾—æ‹“å±•å…¶é•¿åº¦ã€‚</p>
<pre><code class="go">import &quot;fmt&quot;

func main() {
    s := []int{2, 3, 5, 7, 11, 13}
    printSlice(s)

    // æˆªå–åˆ‡ç‰‡ä½¿å…¶é•¿åº¦ä¸º 0
    s = s[:0]
    printSlice(s)

    // æ‹“å±•å…¶é•¿åº¦
    s = s[:4]
    printSlice(s)

    // èˆå¼ƒå‰ä¸¤ä¸ªå€¼
    s = s[2:]
    printSlice(s)
}

func printSlice(s []int) {
    fmt.Printf(&quot;len=%d cap=%d %v\n&quot;, len(s), cap(s), s)
}</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/06/AxK2o.jpg" alt="result"></p>
<p>åˆ‡ç‰‡çš„é›¶å€¼æ˜¯nilï¼Œé›¶å€¼çš„åˆ‡ç‰‡æ²¡æœ‰åº•å±‚æ•°ç»„ä¸”é•¿åº¦å’Œå®¹é‡ä¸º0ã€‚</p>
<p>åˆ‡ç‰‡å¯ä»¥ä½¿ç”¨å†…å»ºå‡½æ•°makeæ¥å®ç°ï¼Œè¿™ä¹Ÿæ˜¯åˆ›å»ºåŠ¨æ€æ•°ç»„çš„æ–¹æ³•ã€‚makeä¼šåˆ›å»ºå‡ºä¸€ä¸ªé›¶å€¼æ•°ç»„ç„¶åè¿”å›å®ƒçš„åˆ‡ç‰‡</p>
<pre><code class="go">var s = make([]int, 5)//len(s)=cap(s)=5

//å¦‚æœéœ€è¦æŒ‡å®šå®¹é‡åˆ™éœ€è¦æŒ‡å®šç¬¬ä¸‰ä¸ªå‚æ•°
var s2 = make([]int, 0, 5)// len(s2)=0, cap(s)=5</code></pre>
<p>åˆ‡ç‰‡å¯ä»¥åŒ…å«ä»»ä½•ç±»å‹ç”šè‡³æ˜¯å…¶ä»–åˆ‡ç‰‡ã€‚</p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
    &quot;strings&quot;
)

func main() {
    // åˆ›å»ºä¸€ä¸ªäº•å­—æ¿ï¼ˆç»å…¸æ¸¸æˆï¼‰
    board := [][]string{
        []string{&quot;_&quot;, &quot;_&quot;, &quot;_&quot;},
        []string{&quot;_&quot;, &quot;_&quot;, &quot;_&quot;},
        []string{&quot;_&quot;, &quot;_&quot;, &quot;_&quot;},
    }

    // ä¸¤ä¸ªç©å®¶è½®æµæ‰“ä¸Š X å’Œ O
    board[0][0] = &quot;X&quot;
    board[2][2] = &quot;O&quot;
    board[1][2] = &quot;X&quot;
    board[1][0] = &quot;O&quot;
    board[0][2] = &quot;X&quot;

    for i := 0; i &lt; len(board); i++ {
        fmt.Printf(&quot;%s\n&quot;, strings.Join(board[i], &quot; &quot;))
    }
}</code></pre>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…å»ºçš„appendæŒ‡ä»¤æ¥ä½¿å…¶åŠ¨æ€å¢é•¿ï¼Œappendçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åˆ‡ç‰‡ï¼Œä¹‹åæ˜¯éœ€è¦æ·»åŠ çš„å…ƒç´ ï¼Œç±»ä¼¼ä¸‹é¢çš„ä½¿ç”¨æ–¹å¼<br><code>s = append(s, 2, 3, 4)</code></p>
<p>forå¾ªç¯çš„rangeå½¢å¼å¯ä»¥éå†åˆ‡ç‰‡æˆ–è€…æ˜ å°„</p>
<pre><code class="go">var pow = []int{0,1,2,3,4,5,6,7}

for i,v := range pow {
    fmt.Println(&quot;value:%d, index:%d&quot;, v, i)
}</code></pre>
<p>rangeæ¯æ¬¡è¿”å›ä¸¤ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªæ˜¯å½“å‰çš„ä¸‹æ ‡ï¼Œç¬¬äºŒä¸ªæ˜¯å¯¹åº”å€¼çš„å‰¯æœ¬ã€‚å¯ä»¥ä½¿ç”¨_æ¥å¿½ç•¥æŸä¸ªè¿”å›å€¼ï¼Œå¦‚æœåªéœ€è¦ç´¢å¼•å¯ä»¥çœç•¥ç¬¬äºŒä¸ªå‚æ•°ã€‚</p>
<pre><code class="go">for i, _ := range pow
for _, v := range pow

for i := range</code></pre>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/06/AxDff.jpg" alt="interest"></p>
<pre><code class="go">package main

import &quot;golang.org/x/tour/pic&quot;

func Pic(dx, dy int) [][]uint8 {
    var result = make([][]uint8, dy)

    //row := make([]uint8, dx)
    for i := range result {
        row := make([]uint8, dx)
        for j := range row {
        row[j] = uint8((i + j) / 2)
        }
        result[i] = row
    }
    return result
}

func main() {
    pic.Show(Pic)
}</code></pre>
<p>æ³¨æ„è¿™é‡Œæ³¨é‡Šæ‰çš„éƒ¨åˆ†ï¼Œå¦‚æœæ„é€ å†…éƒ¨sliceæ”¾åœ¨å¾ªç¯ä½“å¤–åˆ™ä¼šæ‰€æœ‰çš„resultéƒ½æŒ‡å‘åŒä¸€ä¸ªsliceï¼Œå› ä¸ºgoåœ¨è¿™é‡Œçš„ç­‰å·èµ‹å€¼æ˜¯æµ…æ‹·è´ï¼Œå¦‚æœä½¿ç”¨appendå°±æ˜¯æ·±æ‹·è´äº†ã€‚</p>
<h2 id="æ˜ å°„"><a href="#æ˜ å°„" class="headerlink" title="æ˜ å°„"></a>æ˜ å°„</h2><p>æ˜ å°„å°†é”®ä¸å€¼è¿›è¡Œæ˜ å°„ï¼Œæ˜ å°„çš„é›¶å€¼ä¸ºnilï¼Œnilæ˜ å°„æ—¢æ²¡æœ‰é”®ä¹Ÿä¸èƒ½æ·»åŠ é”®</p>
<p>æ˜ å°„çš„æ–‡æ³•ä¸ç»“æ„ç±»ä¼¼ä¸è¿‡éœ€è¦æœ‰é”®å</p>
<pre><code class="go">type Vertex struct {
    x,y int
}

var m = map[string]Vertex {
    &quot;lala&quot; = Vertex{
        2, 3,
    },
    &quot;didi&quot; = Vertex{
        1, 2,
    },
}</code></pre>
<p>æ³¨æ„å¦‚æœé¡¶çº§ç±»å‹åªæ˜¯ä¸€ä¸ªç±»å‹ååˆ™å¯ä»¥çœç•¥</p>
<p>ä½¿ç”¨makeå¯ä»¥åˆå§‹åŒ–æ˜ å°„ï¼Œç„¶åé€šè¿‡æ“ä½œæ¥ä¸ºæ˜ å°„æ’å…¥æˆ–è€…ä¿®æ”¹å€¼<br><code>m[key] = value</code></p>
<pre><code class="go">var m = make(map[string]int)

m[&quot;hello&quot;]=1 //insert the key-value
m[&quot;hello&quot;]=2 //modify the ke-value

v = m[&quot;hello&quot;] //get the value of the given key

delete(m, &quot;hello&quot;) //delete the key

v, ok = m[&quot;hello&quot;] // find if the key exist, if it exists, the v will be the value ande ok is a true; if not, the v will be the zero of that type and ok is false</code></pre>
<p><strong>å‡½æ•°ä¹Ÿæ˜¯å€¼ï¼Œå¯ä»¥ç”¨ä½œå‚æ•°æˆ–è€…è¿”å›å€¼</strong>ï¼Œè§ä¸‹é¢ç¤ºä¾‹ï¼š</p>
<pre><code class="go">func compute(fn func(float64, float64) float64) float64 {
    return fn(3, 4)
}

hypot := func(x, y float64) float64 {
    return math.Sqrt(x*x + y*y)
}
</code></pre>
<h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><p>goå‡½æ•°å¯ä»¥æ˜¯ä¸€ä¸ªé—­åŒ…ã€‚é—­åŒ…æ˜¯ä¸€ä¸ªå‡½æ•°å€¼ï¼Œå®ƒå¼•ç”¨äº†å…¶å‡½æ•°ä½“ä¹‹å¤–çš„å˜é‡ã€‚ä»–å¯ä»¥è®¿é—®å¹¶èµ‹äºˆå…¶å¯ä»¥å¼•ç”¨çš„å˜é‡çš„å€¼ï¼Œæ¯ä¸ªé—­åŒ…éƒ½ç»‘å®šäº†è‡ªå·±çš„å˜é‡ã€‚</p>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/06/AxEHd.jpg" alt="demo"></p>
<p>ä½¿ç”¨é—­åŒ…å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—</p>
<pre><code class="go">package main

import &quot;fmt&quot;

// è¿”å›ä¸€ä¸ªâ€œè¿”å›intçš„å‡½æ•°â€
func fibonacci() func() int {
    var num  = [2]int{0,1}
    count := 1
    return func() int {
        if count &lt;= 2 {
            count++
            return num[count-2]
            } else {
            count++
            temp := num[1] + num[0]
            num[0] = num[1]
            num[1] = temp
            return temp
        }
    }
}

func main() {
    f := fibonacci()
    for i := 0; i &lt; 10; i++ {
        fmt.Println(f())
    }
}</code></pre>
<h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><p>goä¸­æ²¡æœ‰ç±»ï¼Œä½†æ˜¯å¯ä»¥ä¸ºç»“æ„ä½“å®šä¹‰æ–¹æ³•ã€‚<br>æ–¹æ³•æ˜¯ä¸€ç±»å¸¦æœ‰ç‰¹æ®Šçš„æ¥æ”¶è€…å‚æ•°çš„å‡½æ•°ï¼Œæ¥æ”¶è€…å‚æ•°ä½äºfuncå…³é”®å­—ä¸æ–¹æ³•åä¹‹é—´ã€‚</p>
<pre><code class="go">type Vertex struct {
    x, y int
}

func (v Vertex) Abs() int {
    return v.x + v.y
}</code></pre>
<p>æ–¹æ³•å°±åªæ˜¯ä¸€ä¸ªå¸¦æ¥æ”¶è€…å‚æ•°çš„å‡½æ•°ã€‚</p>
<h3 id="æ¥æ”¶è€…çš„ç±»å‹å®šä¹‰å¿…é¡»å’Œæ–¹æ³•åœ¨åŒä¸€ä¸ªåŒ…å†…ï¼Œä¸èƒ½å¯¹äºå…¶ä»–åŒ…çš„ç±»å‹å®šä¹‰æ–¹æ³•ã€‚ä¸èƒ½ä¸ºå†…å»ºç±»å‹å£°æ˜æ–¹æ³•"><a href="#æ¥æ”¶è€…çš„ç±»å‹å®šä¹‰å¿…é¡»å’Œæ–¹æ³•åœ¨åŒä¸€ä¸ªåŒ…å†…ï¼Œä¸èƒ½å¯¹äºå…¶ä»–åŒ…çš„ç±»å‹å®šä¹‰æ–¹æ³•ã€‚ä¸èƒ½ä¸ºå†…å»ºç±»å‹å£°æ˜æ–¹æ³•" class="headerlink" title="æ¥æ”¶è€…çš„ç±»å‹å®šä¹‰å¿…é¡»å’Œæ–¹æ³•åœ¨åŒä¸€ä¸ªåŒ…å†…ï¼Œä¸èƒ½å¯¹äºå…¶ä»–åŒ…çš„ç±»å‹å®šä¹‰æ–¹æ³•ã€‚ä¸èƒ½ä¸ºå†…å»ºç±»å‹å£°æ˜æ–¹æ³•"></a>æ¥æ”¶è€…çš„ç±»å‹å®šä¹‰å¿…é¡»å’Œæ–¹æ³•åœ¨åŒä¸€ä¸ªåŒ…å†…ï¼Œä¸èƒ½å¯¹äºå…¶ä»–åŒ…çš„ç±»å‹å®šä¹‰æ–¹æ³•ã€‚ä¸èƒ½ä¸ºå†…å»ºç±»å‹å£°æ˜æ–¹æ³•</h3><p>å¯ä»¥ä¸ºæŒ‡é’ˆæ¥æ”¶è€…å®šä¹‰æ–¹æ³•ï¼Œè¿™æ„å‘³ç€æ¥æ”¶è€…çš„ä½ç½®å¯ä»¥ä½¿ç”¨*Tæ–‡æ³•ã€‚</p>
<p>å½“ä½¿ç”¨æŒ‡é’ˆçš„å®šä¹‰æ—¶å¯ä»¥å¯¹äºæ¥æ”¶è€…çš„æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œè€Œå¦‚æœç›´æ¥ä¼ é€’æ¥æ”¶è€…å€¼æ—¶ï¼Œåªèƒ½ä¿®æ”¹å…¶<strong>å‰¯æœ¬</strong>ã€‚<br>è¿™ä¸ªç»“è®ºå¯¹äºå‡½æ•°ä¹Ÿä¸€è‡´ï¼Œä¼ é€’ç±»å‹ä½œä¸ºå‚æ•°æ—¶ï¼Œå¾—åˆ°ä¿®æ”¹çš„å§‹ç»ˆæ˜¯å‰¯æœ¬ï¼Œåªæœ‰æŒ‡é’ˆæ‰èƒ½ä¿®æ”¹ç±»å‹çš„å€¼ã€‚</p>
<p>è€Œä¸”å¦‚æœå‡½æ•°çš„å‚æ•°æ˜¯ç±»å‹æŒ‡é’ˆï¼Œåˆ™åªèƒ½ä½¿ç”¨æŒ‡é’ˆä¼ é€’ã€‚è€Œåœ¨æ–¹æ³•ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å€¼è¿›è¡Œä¼ é€’ï¼Œå€¼åœ¨æ–¹æ³•ä¸­æ—¢å¯ä»¥ä½œä¸ºæŒ‡é’ˆåˆå¯ä»¥ä½œä¸ºå€¼ã€‚<br><strong>é€šå¸¸æ¥è¯´ï¼Œæ‰€æœ‰ç»™å®šç±»å‹çš„æ–¹æ³•éƒ½åº”è¯¥æœ‰å€¼æˆ–æŒ‡é’ˆæ¥æ”¶è€…ï¼Œä½†å¹¶ä¸åº”è¯¥äºŒè€…æ··ç”¨ã€‚</strong></p>
<h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><p>æ¥å£ç±»å‹æ˜¯ä¸€ç»„æ–¹æ³•ç­¾åçš„ç»„åˆ</p>
<p>æ¥å£å˜é‡å¯ä»¥ä¿å­˜ä»»ä½•å®ç°äº†è¿™äº›æ–¹æ³•çš„ç±»å‹çš„å€¼</p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
    &quot;math&quot;
)

type Abser interface {
    Abs() float64
}

func main() {
    var a Abser
    f := MyFloat(-math.Sqrt2)
    v := Vertex{3, 4}

    a = f  // a MyFloat å®ç°äº† Abser
    a = &amp;v // a *Vertex å®ç°äº† Abser

    // ä¸‹é¢ä¸€è¡Œï¼Œv æ˜¯ä¸€ä¸ª Vertexï¼ˆè€Œä¸æ˜¯ *Vertexï¼‰
    // æ‰€ä»¥æ²¡æœ‰å®ç° Abserã€‚
    a = &amp;v

    fmt.Println(a.Abs())
}

type MyFloat float64

func (f MyFloat) Abs() float64 {
    if f &lt; 0 {
        return float64(-f)
    }
    return float64(f)
}

type Vertex struct {
    X, Y float64
}

func (v *Vertex) Abs() float64 {
    return math.Sqrt(v.X*v.X + v.Y*v.Y)
}
</code></pre>
<p>åº”å½“æ³¨æ„å…¶ä¸­æ³¨é‡Šçš„é‚£éƒ¨åˆ†ï¼Œå®ç°interface abserçš„æ˜¯Vertexçš„æŒ‡é’ˆæ‰€ä»¥ä¸èƒ½ä½¿ç”¨vè€Œæ˜¯åº”å½“ä½¿ç”¨&amp;v</p>
<p>å®ç°äº†ä¸€ä¸ªæ¥å£å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•å³ä¸ºå®ç°äº†æ¥å£ï¼Œè¿™æ ·å°±æ— éœ€ä½¿ç”¨implementsç­‰çš„æ˜¾å¼çš„å®šä¹‰ï¼Œè¿™æ ·çš„éšå¼å®šä¹‰è§£è€¦äº†æ¥å£çš„å®šä¹‰ï¼Œæ¥å£å°±å¯ä»¥ä½¿ç”¨äºä»»ä½•åŒ…ä¸­æ— éœ€è¦æå‰çš„å‡†å¤‡ã€‚</p>
<p>æ¥å£ä¹Ÿæ˜¯å€¼ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°æˆ–è€…è¿”å›å€¼ã€‚<br>åœ¨å†…éƒ¨æ¥å£å¯ä»¥è®¤ä¸ºæ˜¯å€¼å’Œç±»å‹çš„äºŒå…ƒç»„ï¼Œï¼ˆvalueï¼Œtypeï¼‰<br>æ¥å£å€¼ä¿å­˜äº†ä¸€ä¸ªåº•å±‚ç±»å‹çš„å…·ä½“å€¼ï¼Œå½“æ¥å£è°ƒç”¨æ–¹æ³•æ—¶ï¼Œä¼šè°ƒç”¨åº•å±‚ç±»å‹çš„ç›¸åº”æ–¹æ³•ã€‚</p>
<p>æœ‰äº›æ—¶å€™æ¥å£å€¼ä¿å­˜çš„å€¼ä¸ºnilï¼Œè¿™æ ·æœ‰æ—¶å€™å°±éœ€è¦æˆ‘ä»¬ä½¿ç”¨ä¸€äº›æ–¹å¼åœ¨æ–¹æ³•ä¸­ä¼˜é›…çš„è§£å†³è¿™ç§æƒ…å†µ<br>ä¿å­˜äº†nilçš„æ¥å£å€¼å¹¶ä¸ä¸ºnil</p>
<pre><code class="go">type T struct {
    s string
}

type I interface {
    M ()
}

func (t *T) M() {
    if t == nil {
        fmt.Println(&quot;&lt;nil&gt;&quot;)
        return
    } else {
        fmt.Println(t.s)
    }
}</code></pre>
<p>nilçš„æ¥å£å€¼ä¸ä¿å­˜ä»»ä½•å…·ä½“å€¼å’Œç±»å‹ï¼Œä½¿ç”¨nilçš„æ¥å£å€¼ä¼šäº§ç”Ÿä¸€ä¸ªruntimeé”™è¯¯ï¼Œå› ä¸ºå¹¶ä¸çŸ¥é“éœ€è¦è°ƒç”¨å“ªä¸ªç±»å‹çš„åº•å±‚æ–¹æ³•ã€‚</p>
<p>æ²¡æœ‰å®šä¹‰ä»»ä½•æ–¹æ³•çš„æ¥å£ä¸ºç©ºæ¥å£ï¼Œ<strong>ç©ºæ¥å£å¯ä»¥ä¿å­˜ä»»ä½•ç±»å‹çš„å€¼ï¼Œä¸€èˆ¬ç”¨æ¥å¤„ç†æœªçŸ¥ç±»å‹çš„å€¼</strong></p>
<h2 id="ç±»å‹æ–­è¨€"><a href="#ç±»å‹æ–­è¨€" class="headerlink" title="ç±»å‹æ–­è¨€"></a>ç±»å‹æ–­è¨€</h2><p>ç±»å‹æ–­è¨€æä¾›äº†è®¿é—®æ¥å£åº•å±‚å€¼çš„æ–¹æ³•ã€‚</p>
<p><code>v := i.(T)</code><br>è¯¥è¯­å¥æ–­è¨€æ¥å£å˜é‡iå«æœ‰ç±»å‹Tï¼Œå¹¶è¯•å›¾å°†Tçš„å€¼èµ‹ç»™vã€‚å¦‚æœiä¸å«æœ‰ç±»å‹Tï¼Œè¿™å¯èƒ½ä¼šè§¦å‘ä¸€ä¸ªpanic</p>
<p>å¯ä»¥ä½¿ç”¨ä¸æ˜ å°„ç±»ä¼¼çš„æ–¹å¼è®¿é—®ç±»å‹æ–­è¨€<br><code>v, ok := i.(T)</code></p>
<p>ç±»å‹é€‰æ‹©ï¼Œç±»å‹é€‰æ‹©æ˜¯ä¸€ç§ä½¿ç”¨åˆ†æ”¯ç»“æ„ä¾æ¬¡è®¿é—®æ–­è¨€ç±»å‹çš„æ–¹å¼ï¼Œå…¶ç»“æ„ä¸switchç±»ä¼¼</p>
<pre><code class="go">switch v := i.(type) {
    case T:
    //vçš„ç±»å‹ä¸ºT
    case Sï¼š
    //vçš„ç±»å‹ä¸ºS
    defaultï¼š
    //vçš„ç±»å‹ä¸içš„æ¥å£ç±»å‹ä¸€è‡´
}</code></pre>
<p>fmtåŒ…ä¸­çš„StringeråŒ…æ˜¯æœ€å¸¸ç”¨çš„åŒ…ï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªè§£é‡Šè‡ªå·±çš„å­—ç¬¦ä¸²ã€‚</p>
<pre><code class="go">type Stringer interface {
    String() string
}</code></pre>
<h2 id="é”™è¯¯"><a href="#é”™è¯¯" class="headerlink" title="é”™è¯¯"></a>é”™è¯¯</h2><p>Goä½¿ç”¨erroræ¥è¡¨ç¤ºé”™è¯¯ï¼ŒåŒStringç±»ä¼¼ï¼Œerrorä¹Ÿæ˜¯ä¸€ä¸ªå†…å»ºçš„æ¥å£</p>
<pre><code class="go">type error interface {
    Error string()
}</code></pre>
<p>fmtåŒ…åœ¨è¿›è¡Œè¾“å‡ºçš„æ—¶å€™ä¹Ÿä¼šæ»¡è¶³erroræ¥å£ã€‚<br>å½“ä½¿ç”¨erroræ—¶åº”å½“æ³¨æ„åˆ¤æ–­æ˜¯å¦ä¸ºnilï¼Œæ­¤æ—¶è¡¨ç¤ºä¸ºæˆåŠŸï¼Œå¦åˆ™ä¸ºå¤±è´¥ã€‚</p>
<h2 id="io-Reader"><a href="#io-Reader" class="headerlink" title="io.Reader"></a>io.Reader</h2><p>ioåŒ…ä¸­æœ‰ä¸€ä¸ªReaderæ¥å£ä½¿ç”¨æ¯”è¾ƒå¹¿æ³›ï¼Œå¯ä»¥ä»æ•°æ®æµçš„æœ«å°¾è¯»å–æ•°æ®ã€‚</p>
<p>Readeræ¥å£æœ‰ä¸€ä¸ªreadæ–¹æ³•ï¼Œè¯»å–æ•°æ®å¡«å……åˆ‡ç‰‡å¹¶è¿”å›ä¸€ä¸ªè¯»å–çš„å­—èŠ‚æ•°å’Œä¸€ä¸ªé”™è¯¯å€¼<br><code>func (T) Read(b []byte) (n int, err error)</code><br>å¦‚æœè¯»å–åˆ°æ–‡ä»¶æœ«å°¾åˆ™è¿”å›ä¸€ä¸ªio.EOFé”™è¯¯ã€‚</p>
<p>æœ‰ç§å¸¸è§çš„æ¨¡å¼æ˜¯ä½¿ç”¨ä¸€ä¸ªReaderæ¥å£åŒ…è£…å¦ä¸€ä¸ªReaderæ¥å£ï¼Œç„¶åé€šè¿‡æŸç§æ–¹æ³•æ¥ä¿®æ”¹å…¶ä¸­æ•°æ®ã€‚</p>
<pre><code class="go">type rot13Reader struct {
    r io.Reader
}
func (reader rot13Reader) Read(b []byte) (int, error) {
    n, err := reader.r.Read(b)
    for i:=0; i&lt;n; i++{
        switch {
        case b[i] &gt;= &#39;A&#39; &amp;&amp; b[i] &lt;&#39;N&#39; :
            b[i] += 13
        case b[i]&gt;=&#39;N&#39; &amp;&amp; b[i] &lt;=&#39;Z&#39;:
            b[i] -=13
        case b[i] &gt;= &#39;a&#39; &amp;&amp; b[i] &lt;&#39;n&#39; :
            b[i] += 13
        case b[i]&gt;=&#39;n&#39; &amp;&amp; b[i] &lt;=&#39;z&#39;:
            b[i] -=13
        }
    }
    return n, err
}
func main() {
    s := strings.NewReader(&quot;Lbh penpxrq gur pbqr!&quot;)
    r := rot13Reader{s}
    io.Copy(os.Stdout, &amp;r)
}</code></pre>
<h2 id="goåç¨‹ï¼ˆgoroutineï¼‰"><a href="#goåç¨‹ï¼ˆgoroutineï¼‰" class="headerlink" title="goåç¨‹ï¼ˆgoroutineï¼‰"></a>goåç¨‹ï¼ˆgoroutineï¼‰</h2><p>goroutineæ˜¯goè¿è¡Œæ—¶ç®¡ç†çš„è½»é‡çº§çº¿ç¨‹ã€‚</p>
<p><code>go f(x, y, z)</code><br>ä¼šåœ¨æ–°çš„çº¿ç¨‹ä¸­æ‰§è¡Œfï¼Œè€Œå¯¹äºfã€xã€yã€zçš„æ±‚å€¼åˆ™åœ¨å½“å‰çš„çº¿ç¨‹å†…</p>
<p>goroutineæ˜¯åœ¨åŒä¸€ä¸ªåœ°å€ç©ºé—´ï¼Œå› æ­¤ä½¿ç”¨å…±äº«å†…å­˜æ˜¯éœ€è¦åŒæ­¥ï¼Œå¯ä»¥ä½¿ç”¨syncåŒ…ï¼Œä¹Ÿæœ‰å…¶ä»–çš„æ–¹å¼å®ç°åŒæ­¥ã€‚</p>
<h2 id="ä¿¡é“"><a href="#ä¿¡é“" class="headerlink" title="ä¿¡é“"></a>ä¿¡é“</h2><p>ä¿¡é“æ˜¯å¸¦æœ‰ç±»å‹çš„ç®¡é“ï¼Œå¯ä»¥é€šè¿‡å®ƒæ¥å‘é€æˆ–è€…æ¥æ”¶å€¼ï¼Œä¿¡é“æ“ä½œç¬¦ä¸º&lt;-</p>
<p>å’Œæ˜ å°„åˆ‡ç‰‡ä¸€æ ·ï¼Œä¿¡é“åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»åˆ›å»º</p>
<pre><code class="go">ch = make(chan int)

v := 2
ch &lt;- v

r := &lt;-ch //&lt;-ä¸ºæ•°æ®æµåŠ¨æ–¹å‘</code></pre>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå‘é€å’Œæ¥æ”¶æ“ä½œåœ¨å¦ä¸€ç«¯å‡†å¤‡å¥½ä¹‹å‰éƒ½ä¼šé˜»å¡ã€‚è¿™ä½¿å¾— Go ç¨‹å¯ä»¥åœ¨æ²¡æœ‰æ˜¾å¼çš„é”æˆ–ç«æ€å˜é‡çš„æƒ…å†µä¸‹è¿›è¡ŒåŒæ­¥ã€‚</p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
)

func sum(v []int, c chan int) {
    var sum int
    for i := range v {
        sum += v[i]
    }
    ch &lt;- sum
}

func main() {
    value := []int{7, 2, 8, -9, 4, 0}

    c := make(chan int)
    go sum(value[:len(value)/2], c)
    go sum(value[len(value)/2:], c)

    x, y := &lt;-c, &lt;-c
    fmt.Println(x, y, x+y)
}</code></pre>
<p>å¯ä»¥é€šè¿‡å‘makeå‡½æ•°æ·»åŠ å‚æ•°æ¥å®ç°å¸¦ç¼“å†²åŒºçš„ä¿¡é“</p>
<p>å½“ä¼ é€’çš„å†…å®¹è¶…è¿‡ç¼“å†²åŒºå¤§å°ç¨‹åºå°†æ— æ³•æ­£å¸¸æ‰§è¡Œ</p>
<p>ä»…å½“ä¿¡é“çš„ç¼“å†²åŒºå¡«æ»¡åï¼Œå‘å…¶å‘é€æ•°æ®æ—¶æ‰ä¼šé˜»å¡ã€‚å½“ç¼“å†²åŒºä¸ºç©ºæ—¶ï¼Œæ¥å—æ–¹ä¼šé˜»å¡ã€‚</p>
<p><strong>å‘é€è€…</strong>å¯ä»¥ä½¿ç”¨closeæ¥å…³é—­ä¸€ä¸ªä¿¡é“ï¼Œåªæœ‰å‘é€è€…å¯ä»¥å…³é—­ï¼Œè€Œä¸”å¦‚æœå‘å…³é—­äº†çš„ä¿¡é“å‘é€æ¶ˆæ¯ä¼šå¯¼è‡´panicã€‚<br>å¯ä»¥ä½¿ç”¨for-rangeå¾ªç¯æ¥ä¸æ–­ä»ä¿¡é“ä¸­è¯»å†…å®¹ï¼Œå½“ä¿¡é“å…³é—­æ—¶ç»“æŸå¾ªç¯ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæ¥æ”¶é‡çš„ä¼ é€’è¯­å¥æ¥åˆ¤æ–­ä¿¡é“æ˜¯å¦å…³é—­ã€‚<br><code>i, ok := &lt;- ch</code><br>å¦‚æœokä¸ºfalseå°±è¡¨æ˜ä¿¡é“å·²ç»å…³é—­ã€‚</p>
<pre><code class="go">package main

import &quot;fmt&quot;

func fabonacci (n int, c chan int) {
    x, y := 0, 1
    for i:=0; i &lt; n; i++ {
        c &lt;- x
        x, y = y, x+y // å€¼å¾—æ³¨æ„ï¼Œç”¨è¿™ä¸ªæ–¹å¼å°±æ²¡å¿…è¦åƒä¹‹å‰ç”¨çš„é‚£ä¹ˆéº»çƒ¦ã€‚æ²¡å¿…è¦ä½¿ç”¨ä¸­é—´å˜é‡temp
    }
}

func main() {
    c := make(chan int, 10)
    go fabonacci(cap(c), c)
    for i := range c {
        fmt.Println(i)
    }
}</code></pre>
<h2 id="selectè¯­å¥"><a href="#selectè¯­å¥" class="headerlink" title="selectè¯­å¥"></a>selectè¯­å¥</h2><p>select è¯­å¥ä½¿ä¸€ä¸ª Go ç¨‹å¯ä»¥ç­‰å¾…å¤šä¸ªé€šä¿¡æ“ä½œã€‚</p>
<p>select ä¼šé˜»å¡åˆ°æŸä¸ªåˆ†æ”¯å¯ä»¥ç»§ç»­æ‰§è¡Œä¸ºæ­¢ï¼Œè¿™æ—¶å°±ä¼šæ‰§è¡Œè¯¥åˆ†æ”¯ã€‚å½“å¤šä¸ªåˆ†æ”¯éƒ½å‡†å¤‡å¥½æ—¶ä¼šéšæœºé€‰æ‹©ä¸€ä¸ªæ‰§è¡Œã€‚</p>
<pre><code class="go">package main

import &quot;fmt&quot;

func fabonacci( c, quit chan int) {
    x, y := 0, 1
    select {
        case c &lt;- x:
            x, y = y, x+y
        case &lt;- quit:
            fmt.Println(&quot;quit&quot;)
            return
    }
}

func main() {
    c := make(chan int)
    quit := make(chan int)

    go func() {
        for i:=0; i &lt; 10; i++ {
            fmt.Println(&lt;-c)
        }
        quit &lt;- 0
    }
    fabonacci()
}</code></pre>
<p>å½“selectçš„å…¶ä»–åˆ†æ”¯æ²¡æœ‰å‡†å¤‡å¥½æ—¶ï¼Œdefaultåˆ†æ”¯å°±ä¼šæ‰§è¡Œã€‚</p>
<h2 id="Mutex"><a href="#Mutex" class="headerlink" title="Mutex"></a>Mutex</h2><p>Goæ ‡å‡†åº“ä¸­æä¾›çš„sync.Mutexç±»å‹å®ç°äº†lockå’Œunlockä¸¤ä¸ªæ–¹æ³•<br>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨deferæ–¹æ³•å°†unlockæŒ‡ä»¤æ¨è¿Ÿæ¥å®ç°äº’æ–¥ã€‚</p>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>åšå®¢mdå›¾ç‰‡æ‰˜ç®¡</title>
    <url>/blog/2020/02/05/%E5%8D%9A%E5%AE%A2md%E5%9B%BE%E7%89%87%E6%89%98%E7%AE%A1/</url>
    <content><![CDATA[<p>ç”¨githubå’Œhexoæ­å»ºçš„åšå®¢ï¼Œæœ‰æ—¶å€™markdowné‡Œæƒ³ç´¢å¼•å›¾ç‰‡ï¼Œå‘ç°åšå®¢æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ç»“æ„å’ŒGitHubä»“åº“ä¸­çš„å®Œå…¨ä¸ä¸€æ ·ï¼Œæ‰€ä»¥éš¾ä»¥ç¡®å®šç´¢å¼•è·¯å¾„ï¼Œä¹‹åæ‰¾åˆ°äº†ä¸‰ç§æ–¹å¼ï¼š</p>
<a id="more"></a>
<ol>
<li>ç”¨githubå»ºä¸ªä»“åº“ä¸“é—¨å­˜æ”¾å›¾ç‰‡</li>
<li>å¯ä»¥åœ¨hexoé…ç½®æ–‡ä»¶_config.ymlé‡Œçš„post_asset_folderé€‰é¡¹è®¾ç½®ä¸ºtrueï¼Œè¿™æ ·ä½ æ¯æ¬¡æ–°å»ºä¸€ä¸ªmdæ–‡ä»¶ï¼Œå°±ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåŒåçš„æ–‡ä»¶å¤¹ç”¨æ¥æ”¾èµ„æºï¼Œç´¢å¼•è·¯å¾„ä¸º/assets/æ–‡ä»¶å</li>
<li>ä½¿ç”¨å›¾ç‰‡æ‰˜ç®¡ç½‘ç«™ï¼Œimguræˆ–è€…åˆ«çš„éƒ½è¡Œï¼Œimguréœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œæˆ‘ç”¨çš„æ˜¯ <a href="https://img.wenhairu.com/" target="_blank" rel="noopener">å…¬ä¼—å›¾åº“</a></li>
</ol>
]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>å¿ƒå¾—</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨</title>
    <url>/blog/2020/01/28/Linux%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8Eshell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%E5%A4%A7%E5%85%A8/</url>
    <content><![CDATA[<p>Linuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨å­¦ä¹ ç¬”è®°</p>
<a id="more"></a>

<h2 id="åŸºæœ¬çš„shellæŒ‡ä»¤"><a href="#åŸºæœ¬çš„shellæŒ‡ä»¤" class="headerlink" title="åŸºæœ¬çš„shellæŒ‡ä»¤"></a>åŸºæœ¬çš„shellæŒ‡ä»¤</h2><p>tailæŒ‡ä»¤å¯ä»¥æ£€æŸ¥æŒ‡ä»¤çš„æœ€åå‡ è¡Œï¼Œä¸€ä¸ªæœ‰è¶£çš„ç‰¹æ€§æ˜¯å¯ä»¥ä½¿ç”¨-få‚æ•°ï¼Œä½¿å¾—å…¶å¯ä»¥åœ¨å…¶ä»–è¿›ç¨‹ä¸­ä½¿ç”¨è¯¥æŒ‡ä»¤ä¿æŒæ´»åŠ¨çŠ¶æ€ã€‚<br>ç”¨ä»¥ç›‘è§†æ–‡ä»¶çš„å˜åŒ–</p>
<h3 id="ç›‘æµ‹ç¨‹åº"><a href="#ç›‘æµ‹ç¨‹åº" class="headerlink" title="ç›‘æµ‹ç¨‹åº"></a>ç›‘æµ‹ç¨‹åº</h3><p><strong>æ¢æŸ¥è¿›ç¨‹</strong>ï¼š<br>æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨psæŒ‡ä»¤æ¥æ¢æŸ¥è¿›ç¨‹çš„æƒ…å†µã€‚<br>ä½†æ˜¯pså®é™…ä¸Šååˆ†éš¾ä»¥ä½¿ç”¨ï¼Œå› ä¸ºå®ƒæœ‰ååˆ†å¤æ‚çš„å‚æ•°ä»¥åŠå¤šä¸ªç‰ˆæœ¬ã€‚</p>
<p>psçš„ç¼ºç‚¹ä¹‹ä¸€æ˜¯åªèƒ½æ˜¾ç¤ºç‰¹å®šæ—¶é—´çš„è¿›ç¨‹æƒ…å†µï¼Œå¦‚æœæƒ³è¦å®æ—¶ç›‘æµ‹åº”å½“ä½¿ç”¨topæŒ‡ä»¤</p>
<p>å¦‚æœæƒ³ç»“æŸè¿›ç¨‹å¯ä»¥ä½¿ç”¨killæˆ–è€…killallæŒ‡ä»¤ï¼Œè¿™ä¸¤ä¸ªæŒ‡ä»¤ä¸»è¦æ˜¯ä¼ é€’ä¿¡å·ç»™è¿›ç¨‹ï¼Œè¿›ç¨‹ä¸»è¦ä½¿ç”¨ä¿¡å·æ¥ä¼ é€’ä¿¡æ¯ã€‚<br>è¿™ä¸¤ä¸ªæŒ‡ä»¤çš„ä¸åŒä¹‹å¤„ä¸ºç¬¬äºŒä¸ªæŒ‡ä»¤ä¸ä½¿ç”¨è¿›ç¨‹å·è€Œä½¿ç”¨è¿›ç¨‹åæ¥ç»“æŸæ‰€æœ‰å¤åˆæ¡ä»¶çš„è¿›ç¨‹ã€‚</p>
<p>å¤„ç†æ•°æ®æ–‡ä»¶ï¼š<br>sortæŒ‡ä»¤ï¼šå¯¹äºæ–‡ä»¶è¿›è¡Œæ’åºã€‚</p>
<p>grepæŒ‡ä»¤ï¼šæŸ¥æ‰¾æŸè¡Œæ•°æ®ã€‚egrep, fgrepæ˜¯ç±»ä¼¼çš„ç‰ˆæœ¬ï¼ŒåŠŸèƒ½å„æœ‰ä¸åŒ</p>
<pre><code class="bash">grep t file1
grep -v t file1 #åå‘æŸ¥è¯¢
grep -n t file1 #æ˜¾ç¤ºè¡Œæ•°
grep -c t file1 #-cåªè¿”å›åŒ¹é…çš„è¡Œæ•°ï¼Œè€Œä¸è¿”å›å…·ä½“è¡Œ
grep -e t -e f file1 #-eä½¿ç”¨å¤šä¸ªåŒ¹é…æ¨¡å¼</code></pre>
<p>å‹ç¼©å‘½ä»¤ï¼štar</p>
<p>ä¸€è¡Œä¸­æŒ‡å®šä¸€ç³»åˆ—å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡åœ¨æ¯ä¸ªå‘½ä»¤ä¹‹é—´åŠ å…¥ä¸€ä¸ªåˆ†å·å®ç°ï¼Œä½†æ˜¯å¦‚æœæƒ³ä½¿ç”¨è¿›ç¨‹åˆ—è¡¨ï¼Œåˆ™éœ€è¦åœ¨å‰ååŠ ä¸Šæ‹¬å·ï¼Œè¿™æ ·å°±ä¼šäº§ç”Ÿä¸€ä¸ªå­shellç”¨äºæ‰§è¡ŒæŒ‡ä»¤ã€‚</p>
<p><code>ps;ls;echo $BASH_SUBSHELL</code><br>æœ€åæ‰“å°å‡ºæ¥çš„å˜é‡å€¼ä¸º1ï¼Œå…¶ä»£è¡¨ä¸ºå­shellçš„å±‚æ•°ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨å‘½ä»¤åçš„ä¸€ä¸ª&amp;å·æ¥è½¬å…¥åå°è¿è¡ŒæŒ‡ä»¤ï¼Œåå°çš„æŒ‡ä»¤å¯ä»¥ä½¿ç”¨jobsæ¥æŸ¥çœ‹ã€‚</p>
<p>è½¬å…¥åå°è¿˜å¯ä»¥ä½¿ç”¨åç¨‹æ‰§è¡Œï¼Œå³coprocå‘½ä»¤ï¼Œå®ƒè¿˜å¯ä»¥ä½¿ç”¨å‘½ä»¤çš„æ‰©å±•è¯­æ³•æŒ‡å®šåå°ä½œä¸šçš„åå­—ã€‚<br><code>coproc My_job { sleep 2; }</code><br>åº”å½“æ³¨æ„å…¶ä¸­ç©ºæ ¼éƒ½å¿…é¡»å­˜åœ¨ä¸èƒ½çœç•¥ã€‚</p>
<h2 id="å†…å»ºæŒ‡ä»¤"><a href="#å†…å»ºæŒ‡ä»¤" class="headerlink" title="å†…å»ºæŒ‡ä»¤"></a>å†…å»ºæŒ‡ä»¤</h2><p>å¯ä»¥ä½¿ç”¨typeå’Œwhichæ‰¾åˆ°å¤–éƒ¨å‘½ä»¤çš„ä½ç½®ã€‚<br>å¤–éƒ¨å‘½ä»¤çš„æ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºå‡ºæ¥ä¸€ä¸ªå­è¿›ç¨‹ï¼Œè¿™æ ·çš„è¿‡ç¨‹å«åšforkingã€‚è¿™æ ·çš„è¿‡ç¨‹å¿…å®šè¦æ¶ˆè€—ä¸€å®šçš„èµ„æºã€‚</p>
<p>ä¸ä¹‹ç›¸åçš„æ˜¯å†…å»ºæŒ‡ä»¤å°±ä¸éœ€è¦ä½¿ç”¨å­è¿›ç¨‹æ¥å®ç°ï¼Œå¯ä»¥ä½¿ç”¨typeæŒ‡ä»¤æŸ¥çœ‹æ˜¯å¦ä¸ºå†…å»ºæŒ‡ä»¤ã€‚</p>
<p>shellä¹Ÿæœ‰å¾ˆå¤šç§ç±»å‹ï¼šäº¤äº’å¼ï¼Œéäº¤äº’å¼<br>äº¤äº’å¼ä¸€èˆ¬æŒ‡åœ¨ç™»é™†shellä¸­é€šè¿‡è¾“å…¥bashç­‰æŒ‡ä»¤æ‰“å¼€çš„shellã€‚<br>éäº¤äº’å¼ä¸€èˆ¬å°±æ˜¯æŒ‡è„šæœ¬æ–‡ä»¶ä½¿ç”¨çš„shellã€‚<br>ç™»é™†shellä¼šä½¿ç”¨/etc/profileæ–‡ä»¶æ¥è®¾ç½®å¯åŠ¨ã€‚<br>ç”¨æˆ·è‡ªå®šä¹‰çš„æœ¬åœ°å¯åŠ¨æ–‡ä»¶åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹çš„rcç­‰æ–‡ä»¶ä¸­ã€‚</p>
<h2 id="Linuxæ–‡ä»¶æƒé™"><a href="#Linuxæ–‡ä»¶æƒé™" class="headerlink" title="Linuxæ–‡ä»¶æƒé™"></a>Linuxæ–‡ä»¶æƒé™</h2><p>Linuxé€šè¿‡ç”¨æˆ·è´¦æˆ·æ¥è¿›è¡Œæƒé™çš„ç®¡ç†ã€‚ä½¿ç”¨UIDè¿›è¡ŒåŒºåˆ†ã€‚<br>å¯ä»¥åœ¨/etc/passwdä¸­çœ‹åˆ°æ‰€æœ‰çš„ç”¨æˆ·ä»¥åŠç›¸åº”çš„UIDï¼Œå…¶ä¸­æœ‰å¾ˆå¤šæ˜¯ä¸ºæœåŠ¡æä¾›çš„è´¦æˆ·ï¼Œå¹¶ä¸æ˜¾ç¤ºå¯†ç ï¼Œå¯†ç å¦å¤–å‚¨å­˜åœ¨/etc/shadowæ–‡ä»¶ä¸­ï¼Œåªç”¨ç‰¹å®šçš„ç¨‹åºæ‰èƒ½å¤Ÿè®¿é—®ï¼Œå¦‚ç™»é™†ç¨‹åºã€‚</p>
<p>lså‘½ä»¤ä¸­ï¼Œæƒé™å±•ç¤ºçš„ç¬¬ä¸€ä¸ªæŒ‡æ–‡ä»¶ç±»å‹ï¼Œåé¢çš„æ¯ä¸‰ä¸ªå­—ç¬¦ä»£è¡¨ä¸€ç±»ç”¨æˆ·å¯¹äºè¯¥æ–‡ä»¶çš„æƒé™ï¼Œä¾æ¬¡æ˜¯æ–‡ä»¶å±ä¸»æƒé™ã€å±ç»„æˆå‘˜æƒé™ã€å…¶ä»–ç”¨æˆ·æƒé™ã€‚<br>å¯ä»¥é€šè¿‡umaskå‘½ä»¤è®¾ç½®é»˜è®¤çš„æ–‡ä»¶æƒé™ã€‚å…¶ä¸­å¾—åˆ°çš„æ˜¯æ©ç </p>
<h2 id="Linuxæ–‡ä»¶ç³»ç»Ÿ"><a href="#Linuxæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="Linuxæ–‡ä»¶ç³»ç»Ÿ"></a>Linuxæ–‡ä»¶ç³»ç»Ÿ</h2><h2 id="LinuxåŸºæœ¬ç¼–è¾‘å™¨"><a href="#LinuxåŸºæœ¬ç¼–è¾‘å™¨" class="headerlink" title="LinuxåŸºæœ¬ç¼–è¾‘å™¨"></a>LinuxåŸºæœ¬ç¼–è¾‘å™¨</h2><h2 id="åŸºæœ¬shellç¼–ç¨‹"><a href="#åŸºæœ¬shellç¼–ç¨‹" class="headerlink" title="åŸºæœ¬shellç¼–ç¨‹"></a>åŸºæœ¬shellç¼–ç¨‹</h2><p>å‘½ä»¤æ›¿æ¢ï¼šæœ‰ä¸¤ç§æ–¹å¼å¯ä»¥ä»å‘½ä»¤ä¸­æå–ä¿¡æ¯ï¼Œå¹¶å°†å…¶èµ‹ç»™å˜é‡ã€‚</p>
<ol>
<li>åå¼•å·å­—ç¬¦</li>
<li>$ï¼ˆï¼‰æ ¼å¼</li>
</ol>
<p>è¿›è¡Œæ•°å­¦è®¡ç®—ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤æ›¿æ¢ä½¿ç”¨expræŒ‡ä»¤å®Œæˆæ“ä½œï¼Œä¹Ÿå¯ä»¥æ˜¯ä½¿ç”¨ä¸­æ‹¬å·ã€ã€‘ã€‚bashä¸­åªèƒ½ä½¿ç”¨æ•´æ•°è¿ç®—ï¼Œä½†æ˜¯zshï¼ˆå¦‚macä¸­çš„shellï¼‰å¯ä»¥è¿›è¡Œæµ®ç‚¹æ•°çš„ç›¸å…³è¿ç®—ã€‚<br>åœ¨bashä¸­è¿›è¡Œæµ®ç‚¹æ•°è¿ç®—å¯ä»¥ä½¿ç”¨bcã€‚å…¶ä¸­scaleè¡¨ç¤ºå°æ•°ä½æ•°ï¼Œé»˜è®¤ä¸º0</p>
<pre><code class="bash">#ï¼ /bin/bash
var1=`echo &quot;scale=4; 3.44 / 5&quot; | bc`

variable=$(bc &lt;&lt; EOF
options
statements
expressions
EOF )
# å¯ä»¥ä½¿ç”¨è¿™æ ·çš„æ–¹å¼é€šè¿‡é‡å®šå‘å®Œæˆå¤§é‡è®¡ç®—è¿‡ç¨‹ã€‚
</code></pre>
<h2 id="é€€å‡ºçŠ¶æ€ç "><a href="#é€€å‡ºçŠ¶æ€ç " class="headerlink" title="é€€å‡ºçŠ¶æ€ç "></a>é€€å‡ºçŠ¶æ€ç </h2><p>è¡¨ç¤ºæŒ‡ä»¤æ‰§è¡ŒçŠ¶æ€ã€‚</p>
<table>
<thead>
<tr>
<th>çŠ¶æ€ç </th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>æ­£å¸¸é€€å‡º</td>
</tr>
<tr>
<td>1</td>
<td>ä¸€èˆ¬æ€§æœªçŸ¥é”™è¯¯</td>
</tr>
<tr>
<td>2</td>
<td>ä¸é€‚åˆçš„shellå‘½ä»¤</td>
</tr>
<tr>
<td>126</td>
<td>å‘½ä»¤ä¸å¯æ‰§è¡Œ</td>
</tr>
<tr>
<td>127</td>
<td>æ²¡æ‰¾åˆ°å‘½ä»¤</td>
</tr>
<tr>
<td>128</td>
<td>æ— æ•ˆçš„é€€å‡ºå‚æ•°</td>
</tr>
<tr>
<td>128+x</td>
<td>ä¸Linuxä¿¡å·xç›¸å…³çš„ä¸¥é‡é”™è¯¯</td>
</tr>
<tr>
<td>130</td>
<td>é€šè¿‡ctrl+cç»ˆæ­¢çš„å‘½ä»¤</td>
</tr>
<tr>
<td>255</td>
<td>æ­£å¸¸èŒƒå›´ä¹‹å¤–çš„é€€å‡ºçŠ¶æ€ç </td>
</tr>
</tbody></table>
<p>ä¸€èˆ¬æ¥è®²ï¼Œshellè„šæœ¬ä¼šä»¥è„šæœ¬çš„æœ€åä¸€ä¸ªå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ç é€€å‡ºã€‚<br>å¯ä»¥é€šè¿‡exit næŒ‡å®šå‘½ä»¤çš„é€€å‡ºç ä¸ºn<br>åº”å½“æ³¨æ„çš„æ˜¯ï¼Œ<strong>é€€å‡ºçŠ¶æ€ç æœ€å¤§ä¸º255</strong></p>
<h2 id="å­—æ®µåˆ†éš”ç¬¦ï¼ˆIFSï¼‰"><a href="#å­—æ®µåˆ†éš”ç¬¦ï¼ˆIFSï¼‰" class="headerlink" title="å­—æ®µåˆ†éš”ç¬¦ï¼ˆIFSï¼‰"></a>å­—æ®µåˆ†éš”ç¬¦ï¼ˆIFSï¼‰</h2><p>ä¸€èˆ¬æ¥è®²ï¼Œé»˜è®¤çš„å­—æ®µåˆ†éš”ç¬¦ä¸ºç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦, å¯ä»¥é€šè¿‡æŒ‡å®šIFSæ¥è®¾ç½®åˆ†éš”ç¬¦ã€‚<br><code>IFS=$&#39;\n&#39;</code></p>
<h2 id="å‘½ä»¤è¡Œå‚æ•°"><a href="#å‘½ä»¤è¡Œå‚æ•°" class="headerlink" title="å‘½ä»¤è¡Œå‚æ•°"></a>å‘½ä»¤è¡Œå‚æ•°</h2><p>ä½¿ç”¨getoptè§£æå‘½ä»¤è¡Œï¼š<br><code>getopt optstring paramerters</code><br>å…³é”®éƒ¨åˆ†åœ¨optstringï¼Œåœ¨å…¶ä¸­åˆ—å‡ºè¦åœ¨è„šæœ¬ä¸­ä½¿ç”¨çš„æ¯ä¸ªå‘½ä»¤è¡Œé€‰é¡¹å­—æ¯ã€‚å¦‚æœè¯¥é€‰é¡¹éœ€è¦å‚æ•°åˆ™ä½¿ç”¨å†’å·ï¼šã€‚ç„¶ågetoptå°±ä¼šæ ¹æ®ä½ æä¾›çš„optstringæ¥è§£æå‚æ•°ä¸­çš„å‘½ä»¤è¡Œå‚æ•°ã€‚å¯ä»¥ä½¿ç”¨-qæ¥å¿½ç•¥é”™è¯¯æ¶ˆæ¯ã€‚</p>
<p>åœ¨è„šæœ¬ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="bash">set -- ${getopt -q ab:cd &quot;$*&quot;}</code></pre>
<p>setæŒ‡ä»¤åˆä¸€ä¸ªé€‰é¡¹æ˜¯â€“ï¼Œä½œç”¨æ˜¯ä½¿ç”¨å‚æ•°æ¥ä»£æ›¿åŸæœ¬çš„å‘½ä»¤è¡Œé€‰é¡¹ã€‚åº”å½“æ³¨æ„çš„æ˜¯ï¼Œgetoptå¹¶ä¸æ“…é•¿å¤„ç†å¸¦ç©ºæ ¼å’Œå¼•å·çš„å‚æ•°å€¼ã€‚</p>
<p><strong>ä½¿ç”¨æ›´é«˜çº§çš„getopts</strong>ï¼š<br>å‘½ä»¤æ ¼å¼ä¸ºï¼š<code>getopts optstring variable</code><br>å…¶ä¸­optstringå’Œä¸Šé¢çš„ç±»ä¼¼ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œé€‰é¡¹å‰é¢åŠ ä¸Šï¼šä½¿å¾—å¿½è§†é”™è¯¯ä¿¡æ¯ã€‚<br>å’Œä¸Šé¢çš„ä¸åŒï¼Œgetoptsæ¯æ¬¡åªå¤„ç†ä¸€ä¸ªå‘½ä»¤è¡Œé€‰é¡¹ï¼Œå…¶ä½¿ç”¨ä¸¤ä¸ªç¯å¢ƒå˜é‡ï¼Œä¸€ä¸ªOPYARGä¿å­˜é€‰é¡¹çš„å‚æ•°å€¼ï¼Œè€ŒOPTINDä¿å­˜å‚æ•°åˆ—è¡¨ä¸­æ­£åœ¨å¤„ç†çš„å‚æ•°çš„ä½ç½®ã€‚</p>
<h2 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h2><p>å¯ä»¥ä½¿ç”¨execå‘½ä»¤å®Œæˆå¯¹äºæ–‡ä»¶é‡å®šå‘çš„å®ç°ã€‚<br>è¯¥å‘½ä»¤å¯ä»¥åˆ›å»ºæ–‡ä»¶æè¿°ç¬¦ï¼Œå¹¶å¯¹å…¶è¿›è¡Œç›¸åº”çš„é‡å®šå‘æ“ä½œã€‚<br>å°†æè¿°ç¬¦é‡å®šå‘è‡³&amp;-ä»¥å®ç°å¯¹å…¶çš„å…³é—­ã€‚</p>
<pre><code class="bash">exec 3&gt; test17file
echo &quot;This is a test line of data&quot; &gt;&amp;3
exec 3&gt;&amp;-
</code></pre>
<p>è®°å½•æ¶ˆæ¯å¯ä»¥ä½¿ç”¨teeï¼Œè¯¥å‘½ä»¤ç±»ä¼¼ä¸€ä¸ªTå‹é€šé“ï¼Œå°†è¾“å…¥åˆ†å‘è‡³æŒ‡å®šæ–‡ä»¶å’Œæ ‡å‡†è¾“å‡ºã€‚</p>
<ul>
<li><input disabled type="checkbox"> ä¸´æ—¶æ–‡ä»¶</li>
</ul>
<h2 id="æ§åˆ¶è„šæœ¬"><a href="#æ§åˆ¶è„šæœ¬" class="headerlink" title="æ§åˆ¶è„šæœ¬"></a>æ§åˆ¶è„šæœ¬</h2><h3 id="ä¿¡å·"><a href="#ä¿¡å·" class="headerlink" title="ä¿¡å·"></a>ä¿¡å·</h3><p>è„šæœ¬å¯ä»¥ä½¿ç”¨trapå‘½ä»¤æ¥æ•æ‰ä¿¡å·ï¼Œtrapçš„å‘½ä»¤æ ¼å¼ä¸ºï¼š<br><code>trap commands signals</code><br>commandä½ç½®åˆ—å‡ºå‘½ä»¤ï¼Œåé¢è·Ÿç€éœ€è¦å¤„ç†çš„ä¿¡å·ã€‚</p>
<pre><code class="bash">trap &quot;echo Goodbye...&quot; EXIT
# æ•æ‰é€€å‡ºçŠ¶æ€ï¼ŒåŒæ ·æœ‰æ•æ‰ctrl-cçš„ä½œç”¨ã€‚

trap &quot;echo &#39; Sorry! I have trapped the ctrl-c&#39; &quot; SIGINT
# æ•æ‰ctrl+cä¿¡å·

trap -- SIGINT
# åˆ é™¤ä¹‹å‰è®¾ç½®çš„æ•æ‰ä¿¡å·</code></pre>
<h3 id="åå°è¿è¡Œè„šæœ¬"><a href="#åå°è¿è¡Œè„šæœ¬" class="headerlink" title="åå°è¿è¡Œè„šæœ¬"></a>åå°è¿è¡Œè„šæœ¬</h3><p>åªéœ€è¦åœ¨å‘½ä»¤åé¢åŠ ä¸€ä¸ª&amp;å³å¯ã€‚<br>å¯ä»¥ä½¿ç”¨nohupæŒ‡ä»¤å°†shellè„šæœ¬å’Œç»ˆç«¯åˆ†ç¦»ï¼Œå…¶è¾“å…¥è¾“å‡ºåœ¨hohupæ–‡ä»¶ä¸­</p>
<p>ä½¿ç”¨bgæˆ–è€…fgå‘½ä»¤é‡å¯åå°çš„è„šæœ¬</p>
<p>ä½¿ç”¨niceå’Œreniceæ¥è®¾ç½®å‘½ä»¤çš„ä¼˜å…ˆçº§ï¼Œè¶Šé«˜ä¼˜å…ˆçº§è¶Šä½ã€‚</p>
<h3 id="å®šæ—¶æ‰§è¡Œ"><a href="#å®šæ—¶æ‰§è¡Œ" class="headerlink" title="å®šæ—¶æ‰§è¡Œ"></a>å®šæ—¶æ‰§è¡Œ</h3><p>å¯ä»¥ä½¿ç”¨atæ¥å®šæ—¶æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œatçš„è¾“å‡ºååˆ†ä¸æ–¹ä¾¿ï¼Œé€šè¿‡emailè¿›è¡Œstdoutå’Œstderrã€‚</p>
<p>äº¦å¯ä»¥ä½¿ç”¨cronæ—¶é—´è¡¨æ¥å®ç°ã€‚</p>
<h2 id="åˆ›å»ºå‡½æ•°"><a href="#åˆ›å»ºå‡½æ•°" class="headerlink" title="åˆ›å»ºå‡½æ•°"></a>åˆ›å»ºå‡½æ•°</h2><p>å‡½æ•°è¾“å‡ºï¼Œå¯ä»¥ä½¿ç”¨echoè¾“å‡ºï¼Œè§å®ä¾‹ï¼š</p>
<pre><code class="bash">#! /bin/bash

function func1 {
 read -p &quot;Enter a value: &quot; value
 echo $[ $value * 2 ]
}

result=`func1`
echo &quot;the new value is: $result&quot;</code></pre>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå€¼å¾—ä¸€æçš„å°æŠ€å·§ï¼Œæ³¨æ„è¿™é‡Œä½¿ç”¨äº†readçš„ä¸€ä¸ªé€‰é¡¹æ¥è¿›è¡Œå‘½ä»¤è¡Œæç¤ºï¼Œå¦‚æœè¿™é‡Œä½¿ç”¨echoåˆ™readè¯»å–æ—¶ä¼šå°†å…¶ä¸€èµ·è¯»å–è‡³shellå˜é‡ä¸­ã€‚</p>
<p>å‚æ•°ä¼ é€’ï¼šshellä¼šå°†å‡½æ•°ä½œä¸ºå°å‹çš„è„šæœ¬å¤„ç†ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»ä¼¼è„šæœ¬å¤„ç†å‚æ•°çš„æ–¹å¼å¤„ç†å‚æ•°</p>
<h3 id="ä½¿ç”¨åº“æ–‡ä»¶"><a href="#ä½¿ç”¨åº“æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨åº“æ–‡ä»¶"></a>ä½¿ç”¨åº“æ–‡ä»¶</h3><p>ä½¿ç”¨åº“å‡½æ•°ç­‰çš„å…³é”®åœ¨äºsounceå‘½ä»¤ï¼Œå…¶åœ¨å½“å‰shellçš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œå‘½ä»¤ï¼Œä¸ä¼šåˆ›å»ºæ–°çš„shellï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨å…¶ä¸­å®šä¹‰çš„å‡½æ•°ã€‚<br>å…¶ä¹Ÿæœ‰ä¸€ä¸ªç®€å•çš„åˆ«åï¼ˆaliasï¼‰ç§°ä½œç‚¹æ“ä½œç¬¦</p>
<p>å¯ä»¥åœ¨shellä¸­ç›´æ¥å®šä¹‰å‡½æ•°<br>æˆ–è€…å°†å…¶å†™å…¥bashrcä¸­æ¯æ¬¡å»ºç«‹shelléƒ½ä¼šåŠ è½½ã€‚</p>
<p>ä½¿ç”¨<strong>shtoolåº“å‡½æ•°</strong><br><img src="https://cdn.img.wenhairu.com/images/2020/02/03/AvfoP.jpg" alt="shtool"></p>
<h2 id="å›¾å½¢åŒ–è„šæœ¬ç¼–ç¨‹"><a href="#å›¾å½¢åŒ–è„šæœ¬ç¼–ç¨‹" class="headerlink" title="å›¾å½¢åŒ–è„šæœ¬ç¼–ç¨‹"></a>å›¾å½¢åŒ–è„šæœ¬ç¼–ç¨‹</h2><p>è¯´èµ·æ¥å°±æ˜¯ä½¿ç”¨æ–‡å­—æ„å»ºå‡ºç±»ä¼¼çš„å‘½ä»¤è¡Œç•Œé¢ã€‚<br>echo -eå…è®¸echoæŒ‡ä»¤è¾“å‡ºè½¬ä¹‰å­—ç¬¦ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨selectå‘½ä»¤æ¯”è¾ƒç®€å•çš„ç”Ÿæˆèœå•ã€‚å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="bash">select variable in list
do
    commands
done
PS3=promt
# ç¯å¢ƒå˜é‡PS3æ˜¾ç¤ºæç¤ºã€‚</code></pre>
<p>å¯ä»¥ä½¿ç”¨dialogåŒ…æ¥è¿›è¡Œå¯¹è¯æ¡†åˆ›å»ºã€‚</p>
<p><img src="https://cdn.img.wenhairu.com/images/2020/02/03/AvYJh.jpg" alt="dialog"></p>
<h2 id="sedã€gawkå¤„ç†æ–‡æœ¬"><a href="#sedã€gawkå¤„ç†æ–‡æœ¬" class="headerlink" title="sedã€gawkå¤„ç†æ–‡æœ¬"></a>sedã€gawkå¤„ç†æ–‡æœ¬</h2><p>sedæ˜¯æµæ–‡æœ¬å¤„ç†å·¥å…·ï¼Œå’Œvimç­‰äº¤äº’å¼æ–‡æœ¬å¤„ç†ä¸åŒ</p>
<table>
<thead>
<tr>
<th>å¸¸ç”¨é€‰é¡¹</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td>-e</td>
<td>æŒ‰ç…§è„šæœ¬æ‰§è¡Œ</td>
</tr>
<tr>
<td>-f</td>
<td>ä»æ–‡ä»¶ä¸­è¯»å–å‘½ä»¤</td>
</tr>
<tr>
<td>-n</td>
<td>é™é»˜æ¨¡å¼ï¼Œä¸ä¼šè¾“å‡ºè‡³stdout</td>
</tr>
</tbody></table>
<h3 id="æ–‡æœ¬æ›¿æ¢"><a href="#æ–‡æœ¬æ›¿æ¢" class="headerlink" title="æ–‡æœ¬æ›¿æ¢"></a>æ–‡æœ¬æ›¿æ¢</h3><p><code>sed &#39;s/test/trail/&#39; data.txt</code><br>så‘½ä»¤æ˜¯æ›¿æ¢å‘½ä»¤ï¼Œä¼šå°†dataæ–‡ä»¶ä¸­æ¯è¡Œé»˜è®¤çš„ç¬¬ä¸€ä¸ªtestæ›¿æ¢ä¸ºtrailã€‚<br>åœ¨æœ€åä¸€ä¸ªæ–œæ ä¹‹åè¿˜å¯ä»¥åŠ ä¸Šåˆ«çš„é€‰é¡¹</p>
<ol>
<li>æ•°å­—ä»£è¡¨æ›¿æ¢ç¬¬å‡ å¤„</li>
<li>gï¼šè¡¨ç¤ºæ›¿æ¢æ‰€æœ‰åŒ¹é…çš„ä½ç½®</li>
<li>pï¼šåŒæ—¶æ‰“å°åŸæ¥çš„æ–‡æœ¬</li>
<li>w fileï¼šè¡¨ç¤ºè¾“å‡ºè‡³file</li>
</ol>
<p>sedä¸­å¯ä»¥ä½¿ç”¨æ„Ÿå¹å·ä½œä¸ºå‘½ä»¤ä¸­å­—ç¬¦ä¸²çš„åˆ†éš”ç¬¦</p>
<p>å¦‚æœæƒ³å°†å‘½ä»¤ä½œç”¨äºç‰¹å®šçš„è¡Œä¸­ï¼Œä¸é’ˆå¯¹æ‰€æœ‰è¡Œï¼Œåˆ™éœ€è¦ä½¿ç”¨è¡Œå¯»å€ã€‚å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹å¼ï¼š</p>
<p>1.æ•°å­—æ–¹å¼è¡Œå¯»å€</p>
<pre><code class="bash">sed &#39;2s/dog/cat/&#39; data.txt
# åº”ç”¨äºç¬¬äºŒè¡Œ

sed &#39;2,4s/dog/cat/&#39; data.txt
# 2-4

sed &#39;2,$s/dog/cat/&#39; data.txt
# the lines behind No.2
</code></pre>
<p>2.æ–‡æœ¬æ–¹å¼<br>/pattern/command æŒ‰ç…§patternè¿›è¡ŒåŒ¹é…ï¼Œå¯¹åŒ¹é…æˆåŠŸçš„è¡Œè¿›è¡Œæ“ä½œï¼Œå…¶ä¸­æ¨¡å¼å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
<h3 id="æ–‡æœ¬åˆ é™¤"><a href="#æ–‡æœ¬åˆ é™¤" class="headerlink" title="æ–‡æœ¬åˆ é™¤"></a>æ–‡æœ¬åˆ é™¤</h3><p>åˆ é™¤å‘½ä»¤ä¸ºdï¼Œå¯ä»¥ä½¿ç”¨ä¸Šæ–‡æåˆ°çš„ä¸¤ç§å¯»å€æ–¹å¼æ¥é€‰æ‹©åˆ é™¤çš„è¡Œã€‚<br>åº”å½“æ³¨æ„æ¨¡å¼åŒ¹é…æ—¶éœ€è¦æœ‰å¼€å§‹å’Œç»“æŸï¼Œä¸ç„¶ä¼šå‡ºç°æ„å¤–æƒ…å†µã€‚</p>
<h3 id="æ’å…¥å’Œé™„åŠ æ–‡æœ¬"><a href="#æ’å…¥å’Œé™„åŠ æ–‡æœ¬" class="headerlink" title="æ’å…¥å’Œé™„åŠ æ–‡æœ¬"></a>æ’å…¥å’Œé™„åŠ æ–‡æœ¬</h3><p>æ’å…¥ï¼ˆiï¼‰ï¼Œé™„åŠ ï¼ˆaï¼‰ï¼Œä½¿ç”¨å¯»å€æ¥æŒ‡å®šæ“ä½œçš„è¡Œ<br>æ’å…¥ä¼šåœ¨è¯¥è¡Œå‰é¢ï¼Œè€Œé™„åŠ ä¼šæ·»åŠ è‡³è¯¥è¡Œä¹‹åã€‚</p>
<h3 id="ä¿®æ”¹è¡Œ"><a href="#ä¿®æ”¹è¡Œ" class="headerlink" title="ä¿®æ”¹è¡Œ"></a>ä¿®æ”¹è¡Œ</h3><p>ä¿®æ”¹å‘½ä»¤ä¸ºcï¼Œå…è®¸ä¿®æ”¹æ•´è¡Œæ•°æ® ã€‚é€šä¸Šè¿°çš„å‘½ä»¤ä¸€æ ·éœ€è¦æŒ‡å®šæ–°çš„è¡Œå†…å®¹ã€‚</p>
<h3 id="è½¬æ¢æŒ‡ä»¤y"><a href="#è½¬æ¢æŒ‡ä»¤y" class="headerlink" title="è½¬æ¢æŒ‡ä»¤y"></a>è½¬æ¢æŒ‡ä»¤y</h3><p>å”¯ä¸€å¯ä»¥æ“ä½œå•ä¸ªå­—ç¬¦çš„æŒ‡ä»¤ã€‚å‘½ä»¤æ ¼å¼ä¸ºï¼š<br><code>[address]y/inchars/outchars/</code></p>
<p>è½¬æ¢æŒ‡ä»¤ä¼šå¯¹incharså’Œoutcharsçš„å€¼åšä¸€å¯¹ä¸€æ˜ å°„ï¼Œå¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ä¸åŒåˆ™ä¼šäº§ç”Ÿä¸€æ¡é”™è¯¯ä¿¡æ¯ã€‚</p>
<p>å› æ­¤yæŒ‡ä»¤ä¼šå¯¹æ–‡æœ¬ä¸­æ‰€æœ‰ç¬¦åˆçš„åŒ¹é…çš„æ•°æ®åšæ˜ å°„æ›¿æ¢ã€‚</p>
<h3 id="å…¶ä»–å‘½ä»¤"><a href="#å…¶ä»–å‘½ä»¤" class="headerlink" title="å…¶ä»–å‘½ä»¤"></a>å…¶ä»–å‘½ä»¤</h3><p>= pä¸¤ä¸ªå‘½ä»¤ï¼Œå‰è€…ç”¨äºæ‰“å°è¡Œå·ï¼Œåè€…ç”¨äºæ‰“å°ã€‚åŒæ—¶å¯ä»¥ç»“åˆ-né€‰é¡¹ï¼Œç¦æ­¢å…¶ä»–è¾“å‡ºï¼Œæ¥è¾“å‡ºç‰¹å®šåŒ¹é…é€‰é¡¹ã€‚</p>
<p>låˆ—å‡ºè¡Œï¼Œå¯ä»¥å°†ä¸å¯æ‰“å°çš„asciiç ç­‰å­—ç¬¦æ‰“å°å‡ºæ¥ã€‚</p>
<p>rï¼Œwï¼šè¯»å†™æŒ‡ä»¤ï¼Œå¯ä»¥å®Œæˆæ•°æ®æµå’Œæ–‡ä»¶çš„äº¤äº’æ“ä½œã€‚</p>
<h3 id="è¿›é˜¶æ“ä½œ"><a href="#è¿›é˜¶æ“ä½œ" class="headerlink" title="è¿›é˜¶æ“ä½œ"></a>è¿›é˜¶æ“ä½œ</h3><p>å°±ç›®å‰ä¸ºæ­¢æˆ‘ä»¬å­¦ä¹ çš„sedå‘½ä»¤éƒ½æ˜¯åªå¤„ç†æ•°æ®è¡Œçš„ä¸€è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸‰ä¸ªå‘½ä»¤æ¥å¤„ç†å¤šè¡Œæ•°æ®ï¼š</p>
<ol>
<li>Nï¼šå°†æ•°æ®æµä¸­ä¸‹ä¸€è¡ŒåŠ è¿›æ¥å½¢æˆä¸€ä¸ªå¤šè¡Œç»„</li>
<li>Dï¼šåˆ é™¤å¤šè¡Œç»„ä¸­çš„ä¸€è¡Œ</li>
<li>Pï¼šæ‰“å°å¤šè¡Œç»„ä¸­çš„ä¸€è¡Œ</li>
</ol>
<p><strong>nextå‘½ä»¤</strong>ï¼šå•è¡Œæ¨¡å¼ä¸­ä½¿ç”¨å°å†™næ¥è¡¨ç¤ºnextå‘½ä»¤ï¼Œå•è¡Œæ¨¡å¼ä¸­ä½¿ç”¨nå‘½ä»¤ä¼šç»§ç»­æ‰§è¡Œä¹‹åçš„å‘½ä»¤è€Œä¸æ˜¯å°†å‘½ä»¤ä»å¤´åˆ°å°¾å†æ‰§è¡Œä¸€éã€‚<br>è€Œå¤šè¡Œæ¨¡å¼æœ‰æ‰€ä¸åŒï¼Œå®ƒä¼šå°†ä¸‹é¢çš„ä¸€è¡ŒåŠ å…¥åˆ°å½“å‰çš„åŒ¹é…æ¨¡å¼ä¸­ã€‚</p>
<p><strong>gawk</strong><br>gawkæä¾›ä¸€ä¸ªç±»ç¼–ç¨‹ç¯å¢ƒæ¥ä¿®æ”¹å’Œé‡æ–°ç»„ç»‡æ–‡ä»¶ä¸­çš„æ•°æ®<br>gawkæ˜¯awkçš„gnuç‰ˆæœ¬ï¼Œå®ƒæä¾›äº†ä¸€ç§æ–°çš„ç¼–ç¨‹è¯­è¨€è€Œä¸æ˜¯ç®€å•çš„ç¼–è¾‘å™¨å‘½ä»¤</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>-F fs</td>
<td>æŒ‡å®šè¡Œä¸­çš„å­—æ®µåˆ†éš”ç¬¦</td>
</tr>
<tr>
<td>-f file</td>
<td>ä»æŒ‡å®šçš„æ–‡ä»¶ä¸­è¯»å–ç¨‹åº</td>
</tr>
<tr>
<td>-v var=value</td>
<td>å®šä¹‰ä¸€ä¸ªå˜é‡å’Œé»˜è®¤å€¼</td>
</tr>
<tr>
<td>-mf N</td>
<td>å®šä¹‰è¦å¤„ç†æ–‡ä»¶ä¸­çš„æœ€å¤§å­—æ®µæ•°</td>
</tr>
<tr>
<td>-mr N</td>
<td>æŒ‡å®šæ•°æ®æ–‡ä»¶ä¸­çš„æœ€å¤§æ•°æ®è¡Œæ•°</td>
</tr>
<tr>
<td>-W keyword</td>
<td>æŒ‡å®šå…¼å®¹æ¨¡å¼æˆ–è€…è­¦å‘Šç­‰çº§</td>
</tr>
</tbody></table>
<p>gawkä¼šè‡ªåŠ¨çš„ä¸ºæ–‡æœ¬æ–‡ä»¶ä¸­çš„æ•°æ®åˆ†é…ä¸ºå˜é‡ï¼Œå…¶ä¸­ï¼š</p>
<ol>
<li>$0 è¡¨ç¤ºæ•´ä¸ªæ–‡æœ¬è¡Œ</li>
<li>$1 è¡¨ç¤ºç¬¬ä¸€ä¸ªæ•°æ®å­—æ®µ</li>
<li>$n è¡¨ç¤ºç¬¬nä¸ªæ•°æ®å­—æ®µ</li>
</ol>
<p>å¯ä»¥é€šè¿‡BEGINæ¥æŒ‡å®šç¨‹åºåœ¨è¯»å–æ•°æ®å‰è¿è¡Œè„šæœ¬å†…å®¹ï¼Œç±»ä¼¼çš„ä¹Ÿæœ‰END</p>
<h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h2><p>ä¸€èˆ¬Linuxæ”¯æŒä¸¤ç§æ­£åˆ™è¡¨è¾¾å¼ç±»å‹ï¼šBREï¼ˆåŸºæœ¬ï¼‰ï¼ŒEREï¼ˆæ‹“å±•ï¼‰</p>
<p><strong>é”šå­—ç¬¦</strong>ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥åŒ¹é…æ•´è¡Œçš„å†…å®¹ï¼Œå¦‚æœæƒ³é”å®šåœ¨è¡Œé¦–æˆ–è€…è¡Œå°¾åŒ¹é…ï¼Œåˆ™éœ€è¦é”šå­—ç¬¦é”å®šä½ç½®</p>
<p>é”å®šåœ¨è¡Œé¦–ï¼š^,é€šè¿‡ä½¿ç”¨è¯¥å­—ç¬¦å¯ä»¥ä½¿å…¶åŒ¹é…é”å®šåœ¨è¡Œé¦–ï¼Œéœ€è¦æ”¾åœ¨æ¨¡å¼æœ€å‰é¢<br>é”å®šåœ¨è¡Œå°¾ï¼š$ï¼Œéœ€è¦æ”¾åœ¨æ¨¡å¼çš„æœ€åé¢</p>
<p><strong>ç‚¹å·å­—ç¬¦</strong>ï¼šä»£è¡¨æ¢è¡Œç¬¦ä»¥å¤–ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚<br><strong>å­—ç¬¦ç»„</strong>ï¼šä¸­æ‹¬å·å°†éœ€è¦åŒ¹é…çš„ä¸€ä¸ªæ•°æ®ç»„æ”¾åœ¨å…¶ä¸­ã€‚å¯ä»¥åœ¨å­—ç¬¦ç»„ä¸­ä½¿ç”¨^ç¬¦å·è¡¨ç¤ºåŒ¹é…é™¤äº†å­—ç¬¦ç»„ç»™å‡ºçš„å­—ç¬¦çš„æ¨¡å¼</p>
<p><strong>ç‰¹æ®Šå­—ç¬¦ç»„ï¼š</strong><br><img src="https://cdn.img.wenhairu.com/images/2020/02/03/AvFzu.jpg" alt="ç‰¹æ®Šå­—ç¬¦ç»„ç¤ºä¾‹"></p>
<p><strong>æ˜Ÿå·</strong>ï¼šå­—ç¬¦åé¢æ”¾ç½®æ˜Ÿå·è¡¨ç¤ºè¯¥å­—ç¬¦å‡ºç°0æ¬¡æˆ–è€…å¤šæ¬¡ï¼Œå¯ä»¥å’Œå­—ç¬¦ç»„ç»„åˆèµ·æ¥ä½¿ç”¨</p>
<h3 id="æ‹“å±•æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ‹“å±•æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ‹“å±•æ­£åˆ™è¡¨è¾¾å¼"></a>æ‹“å±•æ­£åˆ™è¡¨è¾¾å¼</h3><p>ä»¥ä¸‹ä¸ºEREæ¨¡å¼çš„æ­£åˆ™è¡¨è¾¾å¼éƒ¨åˆ†ï¼Œsedåªæ”¯æŒBREè€Œgawkæ”¯æŒå¤§éƒ¨åˆ†EREå› æ­¤æ¯”sedè¦æ…¢ä¸€äº›</p>
<p><strong>é—®å·ï¼ˆ ï¼Ÿï¼‰</strong>ï¼šç±»ä¼¼äºæ˜Ÿå·ï¼Œä½†æ˜¯é—®å·åªè¡¨ç¤ºå‡ºç°0æˆ–è€…1æ¬¡ï¼Œä»…æ­¤è€Œå·²<br><strong>åŠ å·ï¼ˆ + ï¼‰</strong>ï¼šæ˜¯æ˜Ÿå·çš„å¦ä¸€ä¸ªæ¨¡å¼ï¼Œè¡¨ç¤ºå‡ºç°ä¸€æ¬¡æˆ–è€…å¤šæ¬¡ï¼Œä½†æ˜¯è‡³å°‘ä¸€æ¬¡ã€‚<br><strong>èŠ±æ‹¬å·ï¼ˆ{})</strong>ï¼šè¡¨ç¤ºå…è®¸å¯é‡å¤æ­£åˆ™è¡¨è¾¾å¼çš„ä¸Šé™ã€‚mä¸ºå‡†ç¡®å‡ºç°mæ¬¡ï¼›mï¼Œnä¸ºè‡³å°‘mæ¬¡ï¼Œè‡³å¤šnæ¬¡<br>é»˜è®¤æƒ…å†µä¸‹gawkç¨‹åºä¸ä¼šè¯†åˆ«æ­£åˆ™è¡¨è¾¾å¼é—´éš”ã€‚å¿…é¡»æŒ‡å®šgawkç¨‹åºçš„â€“re-intervalé€‰é¡¹æ‰å¯ä»¥ã€‚</p>
<p><strong>ç®¡é“ç¬¦å·ï¼ˆï½œï¼‰</strong>ï¼šä½¿ç”¨oræ–¹å¼æŒ‡å®šå¤šä¸ªæ¨¡å¼<br><strong>è¡¨è¾¾å¼åˆ†ç»„ï¼ˆï¼ˆï¼‰ï¼‰</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·è¿›è¡Œåˆ†ç»„ï¼Œè¯¥ç»„ä¼šè¢«è§†ä¸ºä¸€ä¸ªæ ‡å‡†å­—ç¬¦ï¼Œå¯ä»¥ä¸€æ ·ç»™è¯¥ç»„ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ã€‚</p>
<h2 id="zshç®€ä»‹"><a href="#zshç®€ä»‹" class="headerlink" title="zshç®€ä»‹"></a>zshç®€ä»‹</h2><p>zshæ˜¯ä¸€ä¸ªå¼€æºçš„shellï¼Œå…¶æœ€å€¼å¾—ç§°é“çš„æ˜¯å…·æœ‰åŠ è½½å‘½ä»¤æ¨¡å—çš„åŠŸèƒ½ï¼Œå³å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ·»åŠ å†…å»ºæŒ‡ä»¤ã€‚</p>
<p>zshæ˜¯shellä¸­å¯å®šåˆ¶æ€§æœ€å¼ºçš„ï¼Œå¯ä»¥é€šè¿‡ä¸åŒçš„é€‰é¡¹å®šåˆ¶éœ€è¦çš„shell</p>
<h3 id="æ¨¡å—ç®¡ç†"><a href="#æ¨¡å—ç®¡ç†" class="headerlink" title="æ¨¡å—ç®¡ç†"></a>æ¨¡å—ç®¡ç†</h3><p>é€šè¿‡zmodloadç®¡ç†zshçš„æ¨¡å—ã€‚</p>
<p>æ²¡æœ‰ä»»ä½•å‚æ•°çš„zmodloadæŒ‡ä»¤æ˜¾ç¤ºå·²ç»åŠ è½½äº†çš„æ¨¡å—ï¼Œå¦‚æœéœ€è¦å®‰è£…åˆ™ç›´æ¥åœ¨åé¢è·Ÿä¸Šæ¨¡å—åï¼Œæ²¡æœ‰ä»»ä½•è¾“å‡ºåˆ™è¡¨ç¤ºå·²ç»åŠ è½½å®Œæˆã€‚åˆ é™¤åˆ™æ˜¯ä½¿ç”¨-ué€‰é¡¹ã€‚</p>
<blockquote>
<p>é€šå¸¸ä¼šå°†zmodloadæŒ‡ä»¤æ”¾åœ¨zshrcæ–‡ä»¶ä¸­ï¼Œè¿™æ ·æ¯æ¬¡æ‰“å¼€å¯ä»¥è‡ªåŠ¨åŠ è½½éœ€è¦çš„å†…å®¹ã€‚<br>å®æµ‹å‘ç°åŠ è½½æ¨¡å—çš„å‘½ä»¤ä¸æ˜¯ä¸€ç›´æœ‰æ•ˆçš„ï¼Œé€€å‡ºååˆ™é‡ç½®æ‰€ä»¥éœ€è¦å†™å…¥zshrcæ–‡ä»¶ä¸­</p>
</blockquote>
<p>å¯ä»¥ä½¿ç”¨<strong>man zshmodules</strong>å‘½ä»¤æŸ¥çœ‹å„ä¸ªæ¨¡å—çš„å†…å®¹</p>
<p>zshæè¿‡æ›´åŠ å…¨é¢çš„æ•°å­¦æ“ä½œï¼Œå…¶å¯ä»¥ä½¿ç”¨æµ®ç‚¹æ•°è¿ç®—ã€‚<br>æœ‰ä¸¤ç§æ–¹å¼ï¼šletå‘½ä»¤æˆ–è€…åŒåœ†æ‹¬å·</p>
<ol>
<li><code>let values=&quot; 4 * 1.8 &quot;</code></li>
<li><code>values=$(( 4 * 1.8 ))</code></li>
</ol>
<p>å¦‚æœä¸€å¼€å§‹æ²¡æœ‰æŒ‡å®šå˜é‡çš„ç±»å‹ï¼Œå°±ä¼šå¯¼è‡´ä¸€äº›å‡ºä¹æ„æ–™çš„æ•ˆæœã€‚</p>
<pre><code class="bash">value=10
value2=$(( $value / 3 ))
# value2=3

value=10.
value2=$(( $value / 3 ))
# value2=3.33333333</code></pre>
<p>zshä¸­æ•°å­¦å‡½æ•°å¯ä»¥é€šè¿‡åŠ è½½mathfuncåº“å®ç°ï¼ŒåŠ è½½ä¹‹åå°±å¯ä»¥ä½¿ç”¨æ•´ä¸ªæ•°å­¦å‡½æ•°åº“ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>shellçš„å­¦ä¹ åˆ°è¿™é‡Œå°±å·®ä¸å¤šäº†ï¼Œè¿™æœ¬ä¹¦æˆ‘æ„Ÿè§‰æ›´åƒæ˜¯ä¸€æœ¬å·¥å…·ä¹¦ï¼Œè¿‡å¹´æœŸé—´æœ‰äº›ä¸œè¥¿çœ‹çš„ä¹Ÿä¸æ˜¯å¾ˆç»†ã€‚</p>
<ul>
<li><input disabled type="checkbox"> sedï¼Œgawkè¿›é˜¶éƒ¨åˆ†</li>
<li><input disabled type="checkbox"> execé‡å®šå‘</li>
</ul>
<p>ä»¥ä¸Šçš„éƒ¨åˆ†æ²¡æœ‰æ€ä¹ˆçœ‹ï¼Œä¹‹åæœ‰ç”¨åˆ°åœ¨å›æ¥çœ‹ä¸€ä¸‹ã€‚<br>ä¸ªäººè®¤ä¸ºshellè¿˜æ˜¯å¾—å¤šå†™ï¼ŒåŒä¸€ä¸ªåŠŸèƒ½åœ¨shellä¸­å¯èƒ½æœ‰å¾ˆå¤šçš„é€‰æ‹©å¯ä»¥å®ç°ï¼Œè¿™æœ¬ä¹¦å°±ä½œä¸ºä¸€æœ¬ğŸ”§ä¹¦å¸¸å¤‡ç€å°±å¥½äº†ã€‚</p>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title>Shell learning</title>
    <url>/blog/2020/01/23/Shell-learning/</url>
    <content><![CDATA[<h1 id="shellå­¦ä¹ ç¬”è®°"><a href="#shellå­¦ä¹ ç¬”è®°" class="headerlink" title="shellå­¦ä¹ ç¬”è®°"></a>shellå­¦ä¹ ç¬”è®°</h1><blockquote>
<p><a href="https://www.runoob.com/linux/linux-shell-passing-arguments.html" target="_blank" rel="noopener">å‚è€ƒèµ„æ–™</a></p>
</blockquote>
<h2 id="shellç®€ä»‹"><a href="#shellç®€ä»‹" class="headerlink" title="shellç®€ä»‹"></a>shellç®€ä»‹</h2><p>shellæœ¬èº«æ˜¯ç”¨æˆ·è®¿é—®å†…æ ¸çš„æ¡¥æ¢ï¼Œæ‰€è°“çš„shellå­¦ä¹ ï¼Œå®é™…ä¸Šæ˜¯å­¦ä¹ shellè„šæœ¬ã€‚</p>
<p>å’Œå¤§å¤šæ•°è„šæœ¬è¯­è¨€ä¸€æ ·ï¼Œshellåªéœ€è¦ä¸€ä¸ªç¼–è¾‘å™¨å’Œä¸€ä¸ªè§£é‡Šå™¨å°±å¯ä»¥äº†ï¼Œå¸¸è§çš„shellè§£é‡Šå™¨ç§ç±»ä¼—å¤šï¼Œæœ‰shã€bashã€zshç­‰ï¼Œæˆ‘ä»¬æœ¬æ¬¡å­¦ä¹ bashè„šæœ¬ã€‚</p>
<a id="more"></a>

<p>ç¬¬ä¸€ä¸ªshellè„šæœ¬</p>
<pre><code class="bash">#! /bin/bash
echo &quot;hello, world!&quot;</code></pre>
<p>å…¶ä¸­ç¬¬ä¸€è¡Œå‘Šè¯‰ç³»ç»Ÿä½¿ç”¨ä»€ä¹ˆè§£é‡Šå™¨æ¥è§£é‡Šshellè„šæœ¬ã€‚</p>
<p>è¿è¡Œshellçš„æ–¹æ³•ï¼š</p>
<ol>
<li>ä½œä¸ºå¯æ‰§è¡Œç¨‹åº</li>
<li>ä½œä¸ºå‘½ä»¤è§£é‡Šå™¨çš„å‚æ•°</li>
</ol>
<h2 id="shellå˜é‡"><a href="#shellå˜é‡" class="headerlink" title="shellå˜é‡"></a>shellå˜é‡</h2><p>å®šä¹‰å˜é‡æ—¶ä¸éœ€è¦åŠ ç¾å…ƒç¬¦å·ï¼Œå¦‚ï¼š<br><code>my_name=&quot;lyhhhhh&quot;</code></p>
<p>å‘½åè§„åˆ™ï¼š</p>
<ol>
<li>åªèƒ½ä½¿ç”¨è‹±æ–‡ï¼Œä¸èƒ½ä»¥æ•°å­—å¼€å¤´</li>
<li>ä¸­é—´ä¸å¯ä»¥æœ‰ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿</li>
<li>ä¸èƒ½ä½¿ç”¨æ ‡ç‚¹</li>
<li>æ³¨æ„ä¸èƒ½ä½¿ç”¨ä¿ç•™å…³é”®å­—</li>
</ol>
<p>ä½¿ç”¨ä¸€ä¸ªå®šä¹‰è¿‡çš„å˜é‡ï¼Œåªéœ€è¦å˜é‡ååŠ ç¾å…ƒç¬¦å·å³å¯ï¼Œè€Œå˜é‡åå¤–é¢çš„èŠ±æ‹¬å·æ˜¯å¯é€‰çš„ï¼Œæ·»åŠ æ˜¯ä¸ºäº†æ–¹ä¾¿åŒºåˆ†ç•Œé™ã€‚</p>
<pre><code class="bash">my_name=&#39;lyhhhhh&#39;
#the ways below are both valid
echo $my_name
echo ${my_name}
</code></pre>
<p>å¯ä»¥ä½¿ç”¨readonlyå‘½ä»¤å°†å˜é‡å£°æ˜ä¸ºåªè¯»å˜é‡<br>ä¹Ÿå¯ä»¥ä½¿ç”¨unsetå‘½ä»¤å°†å˜é‡åˆ é™¤ï¼Œä¹‹åå°±æ— æ³•ä½¿ç”¨ï¼Œunsetå‘½ä»¤ä¸èƒ½ä½¿ç”¨åœ¨readonlyå˜é‡ä¸Š</p>
<p><strong>å˜é‡çš„ç±»å‹ï¼š</strong></p>
<ol>
<li>å±€éƒ¨å˜é‡ï¼š å±€éƒ¨å˜é‡åœ¨è„šæœ¬ä¸­å®šä¹‰ï¼Œåªåœ¨å½“å‰shellå®ä¾‹ä¸­æœ‰æ•ˆ</li>
<li>ç¯å¢ƒå˜é‡ï¼š å±äºç³»ç»Ÿå®šä¹‰çš„å˜é‡ï¼Œæ‰€æœ‰çš„ç¨‹åºå’Œshelléƒ½å¯ä»¥è®¿é—®</li>
<li>shellå˜é‡ï¼š æ˜¯shellç¨‹åºè®¾ç½®çš„ç‰¹æ®Šå˜é‡ï¼Œä¸€éƒ¨åˆ†æ˜¯ç¯å¢ƒå˜é‡ï¼Œä¸€éƒ¨åˆ†æ˜¯å±€éƒ¨å˜é‡ï¼Œè¿™äº›å˜é‡ä¿è¯äº†shellçš„æ­£å¸¸è¿è¡Œ</li>
</ol>
<h3 id="shellå­—ç¬¦ä¸²"><a href="#shellå­—ç¬¦ä¸²" class="headerlink" title="shellå­—ç¬¦ä¸²"></a>shellå­—ç¬¦ä¸²</h3><p>å­—ç¬¦ä¸²æ˜¯shellä¸­æœ€ç»å¸¸ä½¿ç”¨çš„ç±»å‹ï¼Œå®é™…ä¸Šåœ¨shellä¸­é™¤äº†å­—ç¬¦ä¸²å’Œæ•°å­—ä¹Ÿæ²¡å•¥å¯ä»¥ç”¨çš„äº†ã€‚</p>
<p>å­—ç¬¦ä¸²åˆ†ä¸ºå•å¼•å·å’ŒåŒå¼•å·ä¸¤ç§ï¼Œä¸¤è€…çš„åŒºåˆ«åœ¨äºå•å¼•å·å­—ç¬¦ä¸²çš„å†…å®¹å³ä¸ºå¼•å·ä¸­çš„å†…å®¹ï¼Œå¦‚æœé‡Œé¢æœ‰å¯¹å˜é‡çš„å¼•ç”¨æ˜¯æ— æ•ˆçš„ã€‚<br>è€ŒåŒå¼•å·ä¸­å¯ä»¥å­˜åœ¨è½¬ä¹‰å­—ç¬¦å’Œå˜é‡ç­‰å¯ä»¥è§£é‡Šçš„å†…å®¹ã€‚</p>
<pre><code class="bash">greeting_2=&#39;hello, &#39;$your_name&#39; !&#39;
greeting_3=&#39;hello, ${your_name} !&#39;
echo $greeting_2  $greeting_3
</code></pre>
<p>è¾“å‡ºç»“æœä¸ºï¼š</p>
<pre><code class="bash">hello, runoob ! hello, runoob !
hello, runoob ! hello, ${your_name} !</code></pre>
<p><strong>shellä¸­çš„å­—ç¬¦ä¸²å­˜åœ¨ä¸€äº›å¯ä»¥ä½¿ç”¨çš„æ“ä½œï¼š</strong></p>
<ol>
<li>è·å–å­—ç¬¦ä¸²é•¿åº¦ï¼šåœ¨å­—ç¬¦ä¸²å‰æ·»åŠ #</li>
<li>æå–å­å­—ç¬¦ä¸²ï¼š${str:begin_index:num} å½¢å¦‚å‰å¼ï¼Œå…¶ä¸­beginindexä¸ºèµ·å§‹ç´¢å¼•ï¼ˆèµ·å§‹ä¸º0ï¼‰ï¼Œnumä¸ºå­—ç¬¦æ•°é‡ã€‚</li>
<li>æŸ¥æ‰¾å­å­—ç¬¦ä¸²ï¼šè§ä¸‹é¢ä¾‹å­ï¼Œæ³¨æ„ä½¿ç”¨çš„æ˜¯åå¼•å·è€Œä¸æ˜¯å•å¼•å·</li>
</ol>
<pre><code class="bash">string=&#39;hello, world&#39;
echo ${#string} #output: 4, calculate the length of the string
echo ${string:1:3} #output: ell, substring
echo `exper index &quot;$string&quot; ol`
# è¾“å‡ºoå’Œlåœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼Œé‚£ä¸ªå…ˆå‡ºç°å°±è¾“å‡ºå“ªä¸ªï¼Œæ³¨æ„æ˜¯åå¼•å·è€Œä¸æ˜¯å•å¼•å·ã€‚
</code></pre>
<h3 id="shellæ•°ç»„"><a href="#shellæ•°ç»„" class="headerlink" title="shellæ•°ç»„"></a>shellæ•°ç»„</h3><p>bashæ”¯æŒä¸€ç»´æ•°ç»„è€Œä¸æ”¯æŒå¤šç»´æ•°ç»„ï¼Œç±»ä¼¼äºcè¯­è¨€ï¼Œæ•°ç»„å…ƒç´ ä¸‹æ ‡ä»0å¼€å§‹ï¼Œå¯ä»¥æ˜¯è¡¨è¾¾å¼ï¼Œä½†æ˜¯éœ€è¦å€¼åˆæ³•ã€‚</p>
<p>shellä¸­ä½¿ç”¨æ‹¬å·è¡¨ç¤ºæ•°ç»„ï¼Œä½¿ç”¨ç©ºæ ¼å°†æ•°ç»„å…ƒç´ åˆ†å¼€ã€‚<br>ä¹Ÿå¯ä»¥å•ä¸ªå®šä¹‰æ•°ç»„å„ä¸ªå…ƒç´ ï¼Œä¸‹æ ‡å¯ä»¥ä¸è¿ç»­ã€‚</p>
<p>è·å–æ•°ç»„é•¿åº¦ä¸è·å–å­—ç¬¦ä¸²é•¿åº¦ç±»ä¼¼ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="bash">length=${#array[@]}
# get the num of the array
length=${#array[*]}
# same as the way given above

length=${#array[n]}
# get the length of the array[n]
</code></pre>
<h3 id="shellæ³¨é‡Š"><a href="#shellæ³¨é‡Š" class="headerlink" title="shellæ³¨é‡Š"></a>shellæ³¨é‡Š</h3><p>å•è¡Œæ³¨é‡Šé€šè¿‡#æ¥å®ç°ã€‚<br>å¤šè¡Œæ³¨é‡Šå¯ä»¥ä½¿ç”¨æ¯è¡Œéƒ½æ·»åŠ #æˆ–è€…</p>
<pre><code class="bash">:&lt;&lt;!
æ³¨é‡Šå†…å®¹...
æ³¨é‡Šå†…å®¹...
æ³¨é‡Šå†…å®¹...
!
</code></pre>
<p>å…¶ä¸­ï¼å¯ä»¥è¢«å…¶ä»–æ ‡å¿—ä»£æ›¿ã€‚</p>
<h2 id="shellä¼ é€’å‚æ•°"><a href="#shellä¼ é€’å‚æ•°" class="headerlink" title="shellä¼ é€’å‚æ•°"></a>shellä¼ é€’å‚æ•°</h2><p>åœ¨æ‰§è¡Œè„šæœ¬æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œä¸ºè„šæœ¬é™„åŠ å‚æ•°ï¼Œè°ƒç”¨è¿™äº›å‚æ•°çš„è§„åˆ™å¦‚$nï¼Œn=0è¡¨ç¤ºçš„æ˜¯è„šæœ¬æ–‡ä»¶åï¼Œ1ã€2ã€3Â·Â·Â·ä»¥æ­¤ç±»æ¨ä¸ºç¬¬ä¸€ç¬¬äºŒä¸ªå‚æ•°</p>
<p>å¦å¤–è¿˜æœ‰å‡ ä¸ªç‰¹æ®Šçš„å‚æ•°ï¼š</p>
<table>
<thead>
<tr>
<th>å‚æ•°å¤„ç†</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>$#</td>
<td>ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°</td>
</tr>
<tr>
<td>$*</td>
<td>å°†æ‰€æœ‰å‚æ•°åˆå¹¶åˆ°ä¸€ä¸ªå­—ç¬¦è¾“å‡º</td>
</tr>
<tr>
<td>$$</td>
<td>è„šæœ¬å½“å‰è¿è¡Œè¿›ç¨‹çš„id</td>
</tr>
<tr>
<td>$!</td>
<td>åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„id</td>
</tr>
<tr>
<td>$@</td>
<td>ä¸ç¬¬äºŒä¸ªç±»ä¼¼ï¼Œä¸è¿‡æ˜¯ä»¥å¤šä¸ªå­—ç¬¦ä¸²ç»„åˆçš„å½¢å¼</td>
</tr>
<tr>
<td>$-</td>
<td>æ˜¾ç¤ºshellä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼Œå’Œsetå‘½ä»¤ç›¸åŒ</td>
</tr>
<tr>
<td>$?</td>
<td>ç°å®æœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ï¼Œ0ä¸ºæ²¡æœ‰é”™è¯¯</td>
</tr>
</tbody></table>
<p>$*å’Œ$@åŒºåˆ«ï¼šåªæœ‰åœ¨åŒæ‹¬å·ä¸­æ‰èƒ½æ˜¾ç°å‡ºæ¥ï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p>
<pre><code class="bash">for i in &quot;$*&quot;; do
    echo $i
done

for i in &quot;$@&quot;; do
    echo $i
done
</code></pre>
<p>output:<br>1 2 3</p>
<p>1<br>2<br>3</p>
<h2 id="shellè¿ç®—ç¬¦"><a href="#shellè¿ç®—ç¬¦" class="headerlink" title="shellè¿ç®—ç¬¦"></a>shellè¿ç®—ç¬¦</h2><p>shellå’Œå…¶ä»–è¯­è¨€ä¸€æ ·æ”¯æŒå¤šç§è¿ç®—ç¬¦ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç®—æ•°è¿ç®—ç¬¦</li>
<li>å…³ç³»è¿ç®—ç¬¦</li>
<li>å¸ƒå°”è¿ç®—ç¬¦</li>
<li>å­—ç¬¦ä¸²è¿ç®—ç¬¦</li>
<li>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</li>
</ul>
<p>åä¸¤è€…æ¯”è¾ƒæœ‰è¶£ï¼Œåé¢ä¼šè¯¦ç»†ä»‹ç»</p>
<h3 id="ç®—æœ¯è¿ç®—ç¬¦"><a href="#ç®—æœ¯è¿ç®—ç¬¦" class="headerlink" title="ç®—æœ¯è¿ç®—ç¬¦"></a>ç®—æœ¯è¿ç®—ç¬¦</h3><p>ç®—æœ¯è¿ç®—åªèƒ½å¯¹äºæ•°å­—ï¼Œä¸èƒ½é€‚ç”¨äºå­—ç¬¦ä¸²ï¼Œé™¤éå­—ç¬¦ä¸²å…¨éƒ¨ç”±æ•°å­—æ„æˆã€‚</p>
<p>åŸç”Ÿçš„bashä¸æ”¯æŒç®€å•çš„æ•°å­¦è¿ç®—ï¼Œéœ€è¦é€šè¿‡å…¶ä»–çš„å‘½ä»¤æ¥å®ç°ï¼Œæ¯”å¦‚awkå’Œexprï¼Œå…¶ä¸­expræœ€å¸¸ç”¨ï¼Œexpræ˜¯ä¸€æ¬¾è¡¨è¾¾å¼è®¡ç®—å·¥å…·ï¼Œå¯ä»¥å®Œæˆè¡¨è¾¾å¼ç¡®çŸ¥æ“ä½œã€‚</p>
<pre><code class="bash">var=`expr 2 + 2`
echo &quot;the sum of two nums: $var&quot;
</code></pre>
<p>åº”å½“æ³¨æ„çš„æ˜¯ï¼Œè¡¨è¾¾å¼ä¸­çš„è¿ç®—ç¬¦å’Œæ•°å­—ä¹‹é—´åº”å½“æœ‰ç©ºæ ¼ï¼Œè¿™å’Œæˆ‘ä»¬å¤§å¤šæ•°çš„ä¹ æƒ¯ä¸åŒã€‚</p>
<p>å¸¸ç”¨çš„ç®—æ•°è¿ç®—ç¬¦å’ŒCè¯­è¨€ç±»ä¼¼ï¼Œå³åŠ å‡ä¹˜é™¤ã€å–ä½™ç­‰</p>
<p><strong>æ³¨æ„</strong>ï¼šä¹˜å·å‰é¢éœ€è¦åŠ \è½¬ä¹‰</p>
<h3 id="shellä¸­-çš„ä½¿ç”¨æ–¹å¼"><a href="#shellä¸­-çš„ä½¿ç”¨æ–¹å¼" class="headerlink" title="shellä¸­[]çš„ä½¿ç”¨æ–¹å¼"></a>shellä¸­[]çš„ä½¿ç”¨æ–¹å¼</h3><p><strong>[]åœ¨shellä¸­ä½œä¸ºæµ‹è¯•è¯­å¥è¯´æ˜</strong><br>æ¯”å¦‚ç®—æœ¯æ¯”è¾ƒã€æ–‡ä»¶å±æ€§æ¯”è¾ƒã€å­—ç¬¦ä¸²æ¯”è¾ƒç­‰</p>
<p>ä½¿ç”¨ç®—æœ¯æ¯”è¾ƒä¸¾ä¾‹ï¼š</p>
<pre><code class="bash">if [ $a == $b ]
then
    echo &quot;equal&quot;
fi</code></pre>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œã€ã€‘å’Œæ¯”è¾ƒçš„å…ƒç´ ä¹‹é—´éœ€è¦ä½¿ç”¨ç©ºæ ¼éš”å¼€ã€‚é™¤äº†ä½¿ç”¨==ã€ï¼=ç­‰Cè¯­è¨€ç±»ä¼¼çš„ç®—æœ¯æ¯”è¾ƒä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨-eqè¿™æ ·çš„æ¯”è¾ƒè¿ç®—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ</p>
<pre><code class="bash">if [ $var -eq 0 ]
then
    echo &quot;var=0&quot;
fi

if [ $var1 -eq 0 -a $var2 -gt 1 ]
then
    echo &quot;success&quot;
fi</code></pre>
<p>å¸¸ç”¨çš„è¿ç®—ç¬¦å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>-gt</td>
<td>greater than</td>
</tr>
<tr>
<td>-lt</td>
<td>less than</td>
</tr>
<tr>
<td>-ge</td>
<td>greater and equal</td>
</tr>
<tr>
<td>-lt</td>
<td>less and equal</td>
</tr>
<tr>
<td>-ne</td>
<td>not equal</td>
</tr>
<tr>
<td>-a, -o</td>
<td>and orï¼ˆç”¨äºç»“åˆå¤šä¸ªåˆ¤æ–­æ“ä½œï¼‰</td>
</tr>
</tbody></table>
<h3 id="é€»è¾‘è¿ç®—"><a href="#é€»è¾‘è¿ç®—" class="headerlink" title="é€»è¾‘è¿ç®—"></a>é€»è¾‘è¿ç®—</h3><p>åŒcç­‰ç±»ä¼¼ï¼Œé€»è¾‘è¿ç®—æ— éå°±æ˜¯ ï½œï½œ å’Œ &amp;&amp;<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€æ—¦ä½¿ç”¨é€»è¾‘è¿ç®—ï¼Œæœ€å¥½ä½¿ç”¨åŒä¸­æ‹¬å·ï¼Œä¸ç„¶å¯èƒ½å‡ºç°é”™è¯¯ï¼Œè¿™åœ¨å­—ç¬¦ä¸²è¿ç®—ä¸­ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚</p>
<h3 id="å­—ç¬¦ä¸²è¿ç®—"><a href="#å­—ç¬¦ä¸²è¿ç®—" class="headerlink" title="å­—ç¬¦ä¸²è¿ç®—"></a>å­—ç¬¦ä¸²è¿ç®—</h3><p>å¸¸ç”¨è¿ç®—ç¬¦ï¼š</p>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>åˆ¤æ–­è¿ç®—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼Œè¿”å›trueæˆ–è€…false</td>
</tr>
<tr>
<td>ï¼=</td>
<td>åˆ¤æ–­è¿ç®—ç¬¦æ˜¯å¦ä¸ç­‰</td>
</tr>
<tr>
<td>-z</td>
<td>æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸º0ä¸ºtrue</td>
</tr>
<tr>
<td>-n</td>
<td>åŠŸèƒ½åŒä¸Šï¼Œè¿”å›å€¼ç›¸åã€‚</td>
</tr>
<tr>
<td>$</td>
<td>æ£€æµ‹æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºåˆ™true</td>
</tr>
</tbody></table>
<h3 id="æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"><a href="#æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦" class="headerlink" title="æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"></a>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</h3><p>ç”¨äºæµ‹è¯•Unixæ–‡ä»¶å±æ€§</p>
<table>
<thead>
<tr>
<th>æ“ä½œç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>-rã€-wã€-x</td>
<td>æµ‹è¯•æ–‡ä»¶æ˜¯å¦å¯è¯»å¯å†™å¯æ‰§è¡Œ</td>
</tr>
<tr>
<td>-cã€-b</td>
<td>æµ‹è¯•æ˜¯å¦ä¸ºå­—ç¬¦æˆ–è€…å—è®¾å¤‡æ–‡ä»¶</td>
</tr>
<tr>
<td>-d</td>
<td>æµ‹è¯•æ˜¯å¦ä¸ºç›®å½•</td>
</tr>
<tr>
<td>-e</td>
<td>æµ‹è¯•æ–‡ä»¶ï¼ˆç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨</td>
</tr>
<tr>
<td>-s</td>
<td>æµ‹è¯•æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å›true</td>
</tr>
</tbody></table>
<h2 id="shellä¸­çš„printf"><a href="#shellä¸­çš„printf" class="headerlink" title="shellä¸­çš„printf"></a>shellä¸­çš„printf</h2><p>å’Œcè¯­è¨€åŸºæœ¬ä¸€è‡´ï¼Œé™¤äº†ä¸éœ€è¦æ‹¬å·ä»¥å¤–ï¼Œåº”å½“æ³¨æ„çš„æ˜¯å½“å‚æ•°æ¯”è§„æ ¼åŒ–å­—ç¬¦ä¸²å¤šæ—¶ï¼Œä¼šæŒ‰ç…§è¯¥æ ¼å¼å°†å¤šå‡ºçš„å‚æ•°å…¨éƒ¨è¾“å‡º</p>
<p><code>printf &quot;%s %s %s\n&quot; a b c d e f g h i j</code></p>
<p>è¾“å‡ºä¸ºï¼š<br>a b c<br>d e f<br>g h i<br>j</p>
<p>è½¬ä¹‰å­—ç¬¦ç­‰å’Œcè¯­è¨€ä¸€è‡´</p>
<h2 id="shell-test"><a href="#shell-test" class="headerlink" title="shell test"></a>shell test</h2><p>testæŒ‡ä»¤å®é™…ä¸Šå’Œä¸Šæ–‡ä¸­æåˆ°çš„[]åŠŸèƒ½ä¸€è‡´</p>
<pre><code class="bash"># they are same
if [ $a == $b ]
if test $a == $b

result=$[a+b]
#the[], is used to calculate the result.
</code></pre>
<p>åº”å½“æ³¨æ„åé¢çš„æƒ…å†µï¼Œæ­¤æ—¶ä¸­æ‹¬å·ç”¨äºè®¡ç®—ç»“æœã€‚</p>
<h2 id="shellæµç¨‹æ§åˆ¶"><a href="#shellæµç¨‹æ§åˆ¶" class="headerlink" title="shellæµç¨‹æ§åˆ¶"></a>shellæµç¨‹æ§åˆ¶</h2><p>shellä¸­ä¸èƒ½å­˜åœ¨æ²¡æœ‰æŒ‡ä»¤çš„åˆ†æ”¯ï¼Œå¦‚æœè¯¥åˆ†æ”¯æ— äº‹å¯åšåˆ™ä¸å†™å‡ºæ¥.</p>
<h3 id="if-elseåˆ†æ”¯"><a href="#if-elseåˆ†æ”¯" class="headerlink" title="if-elseåˆ†æ”¯"></a>if-elseåˆ†æ”¯</h3><pre><code class="bash">if condition
then
    command1
    command2
elif condition2
then
    command3
else
    command4
fi

if condition; then command; fi
</code></pre>
<p>ä¸Šå¼ä¸­ä¸¤ç§å†™æ³•å‡å¯ã€‚</p>
<h3 id="forå¾ªç¯"><a href="#forå¾ªç¯" class="headerlink" title="forå¾ªç¯"></a>forå¾ªç¯</h3><p>shellä¸­æä¾›çš„forå¾ªç¯æ˜¯for-inå¾ªç¯<br>å˜é‡å€¼å­˜åœ¨inåˆ—è¡¨ä¸­ï¼Œforå¾ªç¯åˆ™æ‰§è¡Œä¸€æ¬¡æ‰€æœ‰å†…å®¹ã€‚</p>
<p>shellä¸­è¿˜æœ‰ç±»ä¼¼cè¯­è¨€çš„å¾ªç¯æ ¼å¼ï¼Œå½¢ä¼¼ä¸‹é¢ç»™å‡ºçš„ä»£ç æ®µï¼š</p>
<pre><code class="bash">for((i=1;i&lt;=5;i++));do
    command1;
done</code></pre>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸€èˆ¬æ¥è®²shellä¸­å˜é‡çš„è°ƒç”¨æ˜¯è¦ä½¿ç”¨$çš„ï¼Œä½†æ˜¯åœ¨forå¾ªç¯ä¸­å¹¶ä¸éœ€è¦ã€‚å¦‚æœå¯¹äºå˜é‡çš„æ›´æ”¹æ˜¯åœ¨å‡½æ•°ä½“ä¸­ï¼Œåˆ™éœ€è¦åŠ ç¾å…ƒç¬¦å·</p>
<h3 id="whileå¾ªç¯"><a href="#whileå¾ªç¯" class="headerlink" title="whileå¾ªç¯"></a>whileå¾ªç¯</h3><pre><code class="bash">while condition
do
    command
done</code></pre>
<pre><code class="bash">int=1
while(( $int&lt;=5 ))
do
    echo $int
    let &quot;int++&quot;
done

while read FILM
do
    echo &quot;hello, input is: $FILM&quot;
done
</code></pre>
<p>å…¶ä¸­ä½¿ç”¨äº†shell letæŒ‡ä»¤ï¼Œç”¨äºæ‰§è¡Œä¸€ä¸ªæˆ–è€…å¤šä¸ªè¡¨è¾¾å¼ï¼Œä¸éœ€è¦ä½¿ç”¨ç¾å…ƒç¬¦å·ã€‚</p>
<blockquote>
<p>let æ˜¯shellä¸­ç”¨äºè®¡ç®—çš„è¡¨è¾¾å¼ä¸éœ€è¦æ—¶ä½¿ç”¨ç¾å…ƒç¬¦å·ï¼Œå¦‚æœè¡¨è¾¾å¼ä¸­å­˜åœ¨ç©ºæ ¼æˆ–è€…å…¶ä»–å­—ç¬¦åˆ™éœ€è¦å¼•ç”¨èµ·æ¥ã€‚</p>
</blockquote>
<h3 id="case"><a href="#case" class="headerlink" title="case"></a>case</h3><pre><code class="bash">case value in
val1)
    command1
    ;;
val2)
    command2
    ;;
*)
    command3
    ;;
esac
</code></pre>
<h2 id="shellå‡½æ•°"><a href="#shellå‡½æ•°" class="headerlink" title="shellå‡½æ•°"></a>shellå‡½æ•°</h2><p>linux shellä¸­å¯ä»¥å®šä¹‰å‡½æ•°ï¼Œç„¶ååœ¨è„šæœ¬ä¸­å¯ä»¥è°ƒç”¨ã€‚</p>
<p>å‡½æ•°å½¢å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="bash">[ function ] func_name ()
{
    command1

    [ return int; ]
}
</code></pre>
<p>å…¶ä¸­ã€ã€‘è¡¨ç¤ºå¯é€‰é¡¹ï¼Œå³å‡½æ•°å¯ä»¥ä¸ä½¿ç”¨functionå®šä¹‰æˆ–è€…æ²¡æœ‰è¿”å›å€¼ã€‚<br>å‡½æ•°çš„è¿”å›å€¼å¯ä»¥ä½¿ç”¨$?è°ƒç”¨<br><strong>æ³¨æ„</strong>ï¼šç”±äºshellæ‰§è¡Œé¡ºåºæ˜¯ä¾æ¬¡æ‰§è¡Œçš„ï¼Œå› æ­¤å‡½æ•°å®šä¹‰å¿…é¡»åœ¨ä½¿ç”¨ä¹‹å‰ã€‚è€Œä¸”$?åªå¯¹ä¸Šä¸€æ¡æŒ‡ä»¤è´Ÿè´£ã€‚</p>
<p>å‡½æ•°å‚æ•°ä¼ é€’å½¢å¼å’Œshellè„šæœ¬ä¸€æ ·ï¼Œç„¶åé€šè¿‡ç¾å…ƒç¬¦å·åŠ æ•°å­—è°ƒç”¨ã€‚</p>
<p>å‡½æ•°ä¸æŒ‡ä»¤çš„æ‰§è¡Œç»“æœå¯ä»¥ä½œä¸ºæ¡ä»¶è¯­å¥ä½¿ç”¨ï¼Œ<strong>è¦æ³¨æ„çš„æ˜¯ï¼Œå’Œcè¯­è¨€ä¸åŒè¯¥ï¼Œ0åœ¨shellä¸­æ˜¯trueï¼Œå…¶ä»–ä¸ºfalse</strong></p>
<h2 id="shellæ–‡ä»¶é‡å®šå‘"><a href="#shellæ–‡ä»¶é‡å®šå‘" class="headerlink" title="shellæ–‡ä»¶é‡å®šå‘"></a>shellæ–‡ä»¶é‡å®šå‘</h2><p>é‡å®šå‘æŒ‡ä»¤åˆ—è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>æŒ‡ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>command &gt; file</td>
<td>å°†è¾“å‡ºé‡å®šå‘ä¹‹file</td>
</tr>
<tr>
<td>command &lt; file</td>
<td>å°†è¾“å…¥é‡å®šå‘è‡³file</td>
</tr>
<tr>
<td>command &gt;&gt; file</td>
<td>å°†è¾“å‡ºè¿½åŠ è‡³file</td>
</tr>
<tr>
<td>n &gt; file</td>
<td>å°†æ–‡ä»¶æè¿°ç¬¦ä¸ºnçš„æ–‡ä»¶é‡å®šå‘è‡³file</td>
</tr>
<tr>
<td>n &gt;&gt; file</td>
<td>å°†æ–‡ä»¶æè¿°ç¬¦ä¸ºnçš„æ–‡ä»¶è¿½åŠ åˆ°file</td>
</tr>
<tr>
<td>n &gt;&amp; m</td>
<td>å°†è¾“å‡ºæ–‡ä»¶må’Œnåˆå¹¶</td>
</tr>
<tr>
<td>n &lt;&amp; m</td>
<td>å°†è¾“å…¥æ–‡ä»¶mä¸nåˆå¹¶</td>
</tr>
<tr>
<td>&lt;&lt;tag</td>
<td>å°†å¼€å§‹æ ‡è®°å’Œç»“æŸæ ‡è®°ä¹‹é—´ç­‰æˆ‘å†…å®¹ä½œä¸ºè¾“å…¥</td>
</tr>
</tbody></table>
<p><code>command1 &lt; infile &gt; outfile</code><br>æ­¤å‘½ä»¤å°†å‘½ä»¤çš„è¾“å…¥è¾“å‡ºå…¨éƒ¨æ›¿æ¢äº†</p>
<p><strong>âš ï¸æ³¨æ„ï¼š0é€šå¸¸æ˜¯æ ‡å‡†è¾“å…¥ï¼Œ1æ˜¯æ ‡å‡†è¾“å‡ºï¼Œ2æ˜¯æ ‡å‡†é”™è¯¯è¾“å‡º</strong></p>
<p><code>command &gt; file 2&gt;&amp;1</code><br>å¯ä»¥å°†stdoutå’Œstderréƒ½é‡å®šå‘è‡³file</p>
<p>Here Document<br>æ˜¯ä¸€ç§ç‰¹æ®Šçš„é‡å®šå‘æ–¹å¼ï¼Œç”¨äºå°†è¾“å…¥é‡å®šå‘åˆ°ä¸€ä¸ªäº¤äº’å¼è„šæœ¬æˆ–è€…ç¨‹åºä¸­ã€‚<br>åŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="bash">command &lt;&lt; tag
    document
tag
</code></pre>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>ç»“å°¾çš„tagåº”å½“é¡¶æ ¼å†™ï¼Œå‰åéƒ½ä¸èƒ½æœ‰ä»»ä½•å­—ç¬¦</li>
<li>å¼€å§‹çš„tagå‰åçš„ç©ºæ ¼ä¼šè¢«å¿½ç•¥ã€‚</li>
</ul>
<p>å¦‚æœæ‰§è¡ŒæŸæŒ‡ä»¤ä¸å¸Œæœ›æœ‰ä»»ä½•è¾“å‡ºå¯ä»¥å°†è¾“å‡ºé‡å®šå‘è‡³/dev/nullï¼Œè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šæ–‡ä»¶ï¼Œé‡å®šå‘è‡³å®ƒçš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè¢«ä¸¢å¼ƒã€‚</p>
<h2 id="shellå¤–éƒ¨è°ƒç”¨"><a href="#shellå¤–éƒ¨è°ƒç”¨" class="headerlink" title="shellå¤–éƒ¨è°ƒç”¨"></a>shellå¤–éƒ¨è°ƒç”¨</h2><p>shellä¸­ä¹Ÿå¯ä»¥åŒ…å«å¤–éƒ¨è„šæœ¬ï¼Œè¿™æ ·å°±å¯ä»¥å°è£…ä¸€äº›å¸¸ç”¨çš„å…¬ç”¨è„šæœ¬ä½œä¸ºç‹¬ç«‹æ–‡ä»¶ã€‚<br>å¸¸ç”¨çš„è°ƒç”¨æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="bash">. filename
# otherwise
source filename
</code></pre>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>è¢«è°ƒç”¨çš„æ–‡ä»¶å¯ä»¥ä¸éœ€è¦å¯æ‰§è¡Œæƒé™</li>
<li>pathä¸­ä¸åŒ…å«å½“å‰è·¯å¾„åˆ™éœ€è¦å†™å‡ºã€‚/filename</li>
</ol>
<blockquote>
<p><a href="https://www.runoob.com/linux/linux-command-manual.html" target="_blank" rel="noopener">Linuxå‘½ä»¤å¤§å…¨</a></p>
</blockquote>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title>My first blog</title>
    <url>/blog/2020/01/23/My-first-blog/</url>
    <content><![CDATA[<h1 id="ç¬¬ä¸€ç¯‡åšå®¢"><a href="#ç¬¬ä¸€ç¯‡åšå®¢" class="headerlink" title="ç¬¬ä¸€ç¯‡åšå®¢"></a>ç¬¬ä¸€ç¯‡åšå®¢</h1><p>è´¹äº†ä¸å°‘åŠŸå¤«æ‰æŠŠè¿™ä¸ªåšå®¢æ­å¥½</p>
<p>è™½ç„¶å¤§éƒ¨åˆ†æ˜¯æŒ‰ç…§å‰äººèµ°è¿‡çš„è·¯æ¥æå¾—ï¼Œä½†æ˜¯ä¹Ÿéœ€è¦è‡ªå·±å»æ‘¸ç´¢ä¸€äº›ä¸œè¥¿</p>
<p>å¾ˆæ—©å°±æƒ³æœ‰è¿™æ ·ä¸€ä¸ªå¹³å°æ¥è®°å½•è‡ªå·±çš„å­¦ä¹ è¿‡ç¨‹äº†ï¼Œæƒ³é€šè¿‡è¿™æ ·ä¸€ç‚¹ä¸€æ»´çš„è®°å½•çœ‹åˆ°è‡ªå·±çš„æˆé•¿</p>
<p>è¿™æ ·æ‰æœ‰åŠ¨åŠ›å»å‘ç€996çš„ç”Ÿæ´»è¿›å‘ï¼Œhhhhhhhhhh</p>
<p>åŠ æ²¹ï¼Œå¥¥åŠ›ç»™ï¼ï¼ï¼</p>
<a id="more"></a>]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>å¿ƒå¾—</tag>
      </tags>
  </entry>
</search>
